/*! For license information please see index.min.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.IpfsRepoMigrations=t():e.IpfsRepoMigrations=t()}(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=76)}([function(e,t,n){"use strict";e.exports={encode:n(86),decode:n(87),encodingLength:n(88)}},function(e,t,n){"use strict";e.exports=function(e,t,n,r){return t.bytes=n.bytes=0,{type:e,encode:t,decode:n,encodingLength:r}}},function(e,t,n){"use strict";(function(e){var r=n(82),i=n(83),s=n(45);function o(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return h(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=l(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n),i=(e=a(e,r)).write(t,n);i!==r&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(u.isBuffer(t)){var n=0|d(t.length);return 0===(e=a(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?a(e,0):l(e,t);if("Buffer"===t.type&&s(t.data))return l(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function f(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function h(e,t){if(f(t),e=a(e,t<0?0:0|d(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function l(e,t){var n=t.length<0?0:0|d(t.length);e=a(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function d(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function p(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return F(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return z(e).length;default:if(r)return F(e).length;t=(""+t).toLowerCase(),r=!0}}function g(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return N(this,t,n);case"utf8":case"utf-8":return x(this,t,n);case"ascii":return I(this,t,n);case"latin1":case"binary":return T(this,t,n);case"base64":return S(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function b(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function y(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:m(e,t,n,r,i);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):m(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function m(e,t,n,r,i){var s,o=1,a=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,a/=2,u/=2,n/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var f=-1;for(s=n;s<a;s++)if(c(e,s)===c(t,-1===f?0:s-f)){if(-1===f&&(f=s),s-f+1===u)return f*o}else-1!==f&&(s-=s-f),f=-1}else for(n+u>a&&(n=a-u),s=n;s>=0;s--){for(var h=!0,l=0;l<u;l++)if(c(e,s+l)!==c(t,l)){h=!1;break}if(h)return s}return-1}function w(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var s=t.length;if(s%2!=0)throw new TypeError("Invalid hex string");r>s/2&&(r=s/2);for(var o=0;o<r;++o){var a=parseInt(t.substr(2*o,2),16);if(isNaN(a))return o;e[n+o]=a}return o}function k(e,t,n,r){return G(F(t,e.length-n),e,n,r)}function v(e,t,n,r){return G(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function E(e,t,n,r){return v(e,t,n,r)}function _(e,t,n,r){return G(z(t),e,n,r)}function A(e,t,n,r){return G(function(e,t){for(var n,r,i,s=[],o=0;o<e.length&&!((t-=2)<0);++o)n=e.charCodeAt(o),r=n>>8,i=n%256,s.push(i),s.push(r);return s}(t,e.length-n),e,n,r)}function S(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function x(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var s,o,a,u,c=e[i],f=null,h=c>239?4:c>223?3:c>191?2:1;if(i+h<=n)switch(h){case 1:c<128&&(f=c);break;case 2:128==(192&(s=e[i+1]))&&(u=(31&c)<<6|63&s)>127&&(f=u);break;case 3:s=e[i+1],o=e[i+2],128==(192&s)&&128==(192&o)&&(u=(15&c)<<12|(63&s)<<6|63&o)>2047&&(u<55296||u>57343)&&(f=u);break;case 4:s=e[i+1],o=e[i+2],a=e[i+3],128==(192&s)&&128==(192&o)&&128==(192&a)&&(u=(15&c)<<18|(63&s)<<12|(63&o)<<6|63&a)>65535&&u<1114112&&(f=u)}null===f?(f=65533,h=1):f>65535&&(f-=65536,r.push(f>>>10&1023|55296),f=56320|1023&f),r.push(f),i+=h}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=o(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return c(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return function(e,t,n,r){return f(t),t<=0?a(e,t):void 0!==n?"string"==typeof r?a(e,t).fill(n,r):a(e,t).fill(n):a(e,t)}(null,e,t,n)},u.allocUnsafe=function(e){return h(null,e)},u.allocUnsafeSlow=function(e){return h(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,s=Math.min(n,r);i<s;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!s(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(!u.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)b(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)b(this,t,t+3),b(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)b(this,t,t+7),b(this,t+1,t+6),b(this,t+2,t+5),b(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?x(this,0,e):g.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,n,r,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var s=(i>>>=0)-(r>>>=0),o=(n>>>=0)-(t>>>=0),a=Math.min(s,o),c=this.slice(r,i),f=e.slice(t,n),h=0;h<a;++h)if(c[h]!==f[h]){s=c[h],o=f[h];break}return s<o?-1:o<s?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return y(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return y(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var s=!1;;)switch(r){case"hex":return w(this,e,t,n);case"utf8":case"utf-8":return k(this,e,t,n);case"ascii":return v(this,e,t,n);case"latin1":case"binary":return E(this,e,t,n);case"base64":return _(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,t,n);default:if(s)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),s=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function I(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function T(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function N(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",s=t;s<n;++s)i+=P(e[s]);return i}function O(e,t,n){for(var r=e.slice(t,n),i="",s=0;s<r.length;s+=2)i+=String.fromCharCode(r[s]+256*r[s+1]);return i}function R(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function U(e,t,n,r,i,s){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function B(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,s=Math.min(e.length-n,2);i<s;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function C(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,s=Math.min(e.length-n,4);i<s;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function L(e,t,n,r,i,s){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function M(e,t,n,r,s){return s||L(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function j(e,t,n,r,s){return s||L(e,0,n,8),i.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;n=new u(i,void 0);for(var s=0;s<i;++s)n[s]=this[s+e]}return n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e],i=1,s=0;++s<t&&(i*=256);)r+=this[e+s]*i;return r},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},u.prototype.readUInt8=function(e,t){return t||R(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||R(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||R(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e],i=1,s=0;++s<t&&(i*=256);)r+=this[e+s]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=t,i=1,s=this[e+--r];r>0&&(i*=256);)s+=this[e+--r]*i;return s>=(i*=128)&&(s-=Math.pow(2,8*t)),s},u.prototype.readInt8=function(e,t){return t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||R(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||R(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||R(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||R(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||R(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||R(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||U(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,s=0;for(this[t]=255&e;++s<n&&(i*=256);)this[t+s]=e/i&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||U(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,s=1;for(this[t+i]=255&e;--i>=0&&(s*=256);)this[t+i]=e/s&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||U(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||U(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):B(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||U(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):B(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||U(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):C(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||U(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):C(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);U(this,e,t,n,i-1,-i)}var s=0,o=1,a=0;for(this[t]=255&e;++s<n&&(o*=256);)e<0&&0===a&&0!==this[t+s-1]&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);U(this,e,t,n,i-1,-i)}var s=n-1,o=1,a=0;for(this[t+s]=255&e;--s>=0&&(o*=256);)e<0&&0===a&&0!==this[t+s+1]&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||U(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||U(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):B(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||U(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):B(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||U(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):C(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||U(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):C(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return M(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return M(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return j(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return j(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,s=r-n;if(this===e&&n<t&&t<r)for(i=s-1;i>=0;--i)e[i+t]=this[i+n];else if(s<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<s;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+s),t);return s},u.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var s;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(s=t;s<n;++s)this[s]=e;else{var o=u.isBuffer(e)?e:F(new u(e,r).toString()),a=o.length;for(s=0;s<n-t;++s)this[s+t]=o[s%a]}return this};var D=/[^+\/0-9A-Za-z-_]/g;function P(e){return e<16?"0"+e.toString(16):e.toString(16)}function F(e,t){var n;t=t||1/0;for(var r=e.length,i=null,s=[],o=0;o<r;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&s.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&s.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;s.push(n)}else if(n<2048){if((t-=2)<0)break;s.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;s.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return s}function z(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(D,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function G(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(9))},function(e,t,n){"use strict";const r=n(47),i=n(100),s=n(36),o=n(52),a=n(51);t.Key=r,t.MemoryDatastore=i,t.utils=s,t.Errors=o,t.Adapter=a},function(e,t,n){"use strict";const r=n(25),i=n(16),s=n(26),o=n(19),a=n(97),u=n(27),c=n(35),f=n(10),h=n(28),l=Object.keys(o).reduce((e,t)=>(e[o[t]]=t,e),{});class d{constructor(e,t,n,o){if(p.isCID(e)){const t=e;return this.version=t.version,this.codec=t.codec,this.multihash=t.multihash,void(this.multibaseName=t.multibaseName||(0===t.version?"base58btc":"base32"))}if("string"==typeof e){const t=i.isEncoded(e);if(t){const n=i.decode(e);this.version=parseInt(n.slice(0,1).toString("hex"),16),this.codec=s.getCodec(n.slice(1)),this.multihash=s.rmPrefix(n.slice(1)),this.multibaseName=t}else this.version=0,this.codec="dag-pb",this.multihash=r.fromB58String(e),this.multibaseName="base58btc";return d.validateCID(this),void Object.defineProperty(this,"string",{value:e})}if(e instanceof Uint8Array){const t=e.slice(0,1),n=parseInt(t.toString("hex"),16);if(1===n){const t=e;this.version=n,this.codec=s.getCodec(t.slice(1)),this.multihash=s.rmPrefix(t.slice(1)),this.multibaseName="base32"}else this.version=0,this.codec="dag-pb",this.multihash=e,this.multibaseName="base58btc";d.validateCID(this)}else this.version=e,"number"==typeof t&&(t=l[t]),this.codec=t,this.multihash=n,this.multibaseName=o||(0===e?"base58btc":"base32"),d.validateCID(this)}get bytes(){let e=this._bytes;if(!e){if(0===this.version)e=this.multihash;else{if(1!==this.version)throw new Error("unsupported version");{const t=s.getCodeVarint(this.codec);e=c([[1],t,this.multihash],1+t.byteLength+this.multihash.byteLength)}}Object.defineProperty(this,"_bytes",{value:e})}return e}get prefix(){const e=s.getCodeVarint(this.codec),t=r.prefix(this.multihash);return c([[this.version],e,t],1+e.byteLength+t.byteLength)}get code(){return o[this.codec]}toV0(){if("dag-pb"!==this.codec)throw new Error("Cannot convert a non dag-pb CID to CIDv0");const{name:e,length:t}=r.decode(this.multihash);if("sha2-256"!==e)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");if(32!==t)throw new Error("Cannot convert non 32 byte multihash CID to CIDv0");return new p(0,this.codec,this.multihash)}toV1(){return new p(1,this.codec,this.multihash)}toBaseEncodedString(e=this.multibaseName){if(this.string&&e===this.multibaseName)return this.string;let t=null;if(0===this.version){if("base58btc"!==e)throw new Error("not supported with CIDv0, to support different bases, please migrate the instance do CIDv1, you can do that through cid.toV1()");t=r.toB58String(this.multihash)}else{if(1!==this.version)throw new Error("unsupported version");t=f(i.encode(e,this.bytes))}return e===this.multibaseName&&Object.defineProperty(this,"string",{value:t}),t}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}toString(e){return this.toBaseEncodedString(e)}toJSON(){return{codec:this.codec,version:this.version,hash:this.multihash}}equals(e){return this.codec===e.codec&&this.version===e.version&&h(this.multihash,e.multihash)}static validateCID(e){const t=a.checkCIDComponents(e);if(t)throw new Error(t)}}const p=u(d,{className:"CID",symbolName:"@ipld/js-cid/CID"});p.codecs=o,e.exports=p},function(e,t,n){"use strict";const{names:r}=n(17),{TextEncoder:i}=n(18),s=new i;e.exports=function(e,t="utf8"){if("utf8"===t||"utf-8"===t)return s.encode(e);if("ascii"===t)return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(e);const n=r[t];if(!n)throw new Error("Unknown base");return n.decode(e)}},function(e,t,n){"use strict";var r=n(31),i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=h;var s=Object.create(n(21));s.inherits=n(14);var o=n(68),a=n(42);s.inherits(h,o);for(var u=i(a.prototype),c=0;c<u.length;c++){var f=u[c];h.prototype[f]||(h.prototype[f]=a.prototype[f])}function h(e){if(!(this instanceof h))return new h(e);o.call(this,e),a.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",l)}function l(){this.allowHalfOpen||this._writableState.ended||r.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),h.prototype._destroy=function(e,t){this.push(null),this.end(),r.nextTick(t,e)}},function(e,t,n){"use strict";var r;!function(i){var s,o=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,a=Math.ceil,u=Math.floor,c="[BigNumber Error] ",f=c+"Number primitive has more than 15 significant digits: ",h=1e14,l=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],d=1e9;function p(e){var t=0|e;return e>0||e===t?t:t-1}function g(e){for(var t,n,r=1,i=e.length,s=e[0]+"";r<i;){for(n=14-(t=e[r++]+"").length;n--;t="0"+t);s+=t}for(i=s.length;48===s.charCodeAt(--i););return s.slice(0,i+1||1)}function b(e,t){var n,r,i=e.c,s=t.c,o=e.s,a=t.s,u=e.e,c=t.e;if(!o||!a)return null;if(n=i&&!i[0],r=s&&!s[0],n||r)return n?r?0:-a:o;if(o!=a)return o;if(n=o<0,r=u==c,!i||!s)return r?0:!i^n?1:-1;if(!r)return u>c^n?1:-1;for(a=(u=i.length)<(c=s.length)?u:c,o=0;o<a;o++)if(i[o]!=s[o])return i[o]>s[o]^n?1:-1;return u==c?0:u>c^n?1:-1}function y(e,t,n,r){if(e<t||e>n||e!==u(e))throw Error(c+(r||"Argument")+("number"==typeof e?e<t||e>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function m(e){var t=e.c.length-1;return p(e.e/14)==t&&e.c[t]%2!=0}function w(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function k(e,t,n){var r,i;if(t<0){for(i=n+".";++t;i+=n);e=i+e}else if(++t>(r=e.length)){for(i=n,t-=r;--t;i+=n);e+=i}else t<r&&(e=e.slice(0,t)+"."+e.slice(t));return e}(s=function e(t){var n,r,i,s,v,E,_,A,S,x=P.prototype={constructor:P,toString:null,valueOf:null},I=new P(1),T=20,N=4,O=-7,R=21,U=-1e7,B=1e7,C=!1,L=1,M=0,j={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},D="0123456789abcdefghijklmnopqrstuvwxyz";function P(e,t){var n,s,a,c,h,l,d,p,g=this;if(!(g instanceof P))return new P(e,t);if(null==t){if(e&&!0===e._isBigNumber)return g.s=e.s,void(!e.c||e.e>B?g.c=g.e=null:e.e<U?g.c=[g.e=0]:(g.e=e.e,g.c=e.c.slice()));if((l="number"==typeof e)&&0*e==0){if(g.s=1/e<0?(e=-e,-1):1,e===~~e){for(c=0,h=e;h>=10;h/=10,c++);return void(c>B?g.c=g.e=null:(g.e=c,g.c=[e]))}p=String(e)}else{if(!o.test(p=String(e)))return i(g,p,l);g.s=45==p.charCodeAt(0)?(p=p.slice(1),-1):1}(c=p.indexOf("."))>-1&&(p=p.replace(".","")),(h=p.search(/e/i))>0?(c<0&&(c=h),c+=+p.slice(h+1),p=p.substring(0,h)):c<0&&(c=p.length)}else{if(y(t,2,D.length,"Base"),10==t)return q(g=new P(e),T+g.e+1,N);if(p=String(e),l="number"==typeof e){if(0*e!=0)return i(g,p,l,t);if(g.s=1/e<0?(p=p.slice(1),-1):1,P.DEBUG&&p.replace(/^0\.0*|\./,"").length>15)throw Error(f+e)}else g.s=45===p.charCodeAt(0)?(p=p.slice(1),-1):1;for(n=D.slice(0,t),c=h=0,d=p.length;h<d;h++)if(n.indexOf(s=p.charAt(h))<0){if("."==s){if(h>c){c=d;continue}}else if(!a&&(p==p.toUpperCase()&&(p=p.toLowerCase())||p==p.toLowerCase()&&(p=p.toUpperCase()))){a=!0,h=-1,c=0;continue}return i(g,String(e),l,t)}l=!1,(c=(p=r(p,t,10,g.s)).indexOf("."))>-1?p=p.replace(".",""):c=p.length}for(h=0;48===p.charCodeAt(h);h++);for(d=p.length;48===p.charCodeAt(--d););if(p=p.slice(h,++d)){if(d-=h,l&&P.DEBUG&&d>15&&(e>9007199254740991||e!==u(e)))throw Error(f+g.s*e);if((c=c-h-1)>B)g.c=g.e=null;else if(c<U)g.c=[g.e=0];else{if(g.e=c,g.c=[],h=(c+1)%14,c<0&&(h+=14),h<d){for(h&&g.c.push(+p.slice(0,h)),d-=14;h<d;)g.c.push(+p.slice(h,h+=14));h=14-(p=p.slice(h)).length}else h-=d;for(;h--;p+="0");g.c.push(+p)}}else g.c=[g.e=0]}function F(e,t,n,r){var i,s,o,a,u;if(null==n?n=N:y(n,0,8),!e.c)return e.toString();if(i=e.c[0],o=e.e,null==t)u=g(e.c),u=1==r||2==r&&(o<=O||o>=R)?w(u,o):k(u,o,"0");else if(s=(e=q(new P(e),t,n)).e,a=(u=g(e.c)).length,1==r||2==r&&(t<=s||s<=O)){for(;a<t;u+="0",a++);u=w(u,s)}else if(t-=o,u=k(u,s,"0"),s+1>a){if(--t>0)for(u+=".";t--;u+="0");}else if((t+=s-a)>0)for(s+1==a&&(u+=".");t--;u+="0");return e.s<0&&i?"-"+u:u}function z(e,t){for(var n,r=1,i=new P(e[0]);r<e.length;r++){if(!(n=new P(e[r])).s){i=n;break}t.call(i,n)&&(i=n)}return i}function G(e,t,n){for(var r=1,i=t.length;!t[--i];t.pop());for(i=t[0];i>=10;i/=10,r++);return(n=r+14*n-1)>B?e.c=e.e=null:n<U?e.c=[e.e=0]:(e.e=n,e.c=t),e}function q(e,t,n,r){var i,s,o,c,f,d,p,g=e.c,b=l;if(g){e:{for(i=1,c=g[0];c>=10;c/=10,i++);if((s=t-i)<0)s+=14,o=t,p=(f=g[d=0])/b[i-o-1]%10|0;else if((d=a((s+1)/14))>=g.length){if(!r)break e;for(;g.length<=d;g.push(0));f=p=0,i=1,o=(s%=14)-14+1}else{for(f=c=g[d],i=1;c>=10;c/=10,i++);p=(o=(s%=14)-14+i)<0?0:f/b[i-o-1]%10|0}if(r=r||t<0||null!=g[d+1]||(o<0?f:f%b[i-o-1]),r=n<4?(p||r)&&(0==n||n==(e.s<0?3:2)):p>5||5==p&&(4==n||r||6==n&&(s>0?o>0?f/b[i-o]:0:g[d-1])%10&1||n==(e.s<0?8:7)),t<1||!g[0])return g.length=0,r?(t-=e.e+1,g[0]=b[(14-t%14)%14],e.e=-t||0):g[0]=e.e=0,e;if(0==s?(g.length=d,c=1,d--):(g.length=d+1,c=b[14-s],g[d]=o>0?u(f/b[i-o]%b[o])*c:0),r)for(;;){if(0==d){for(s=1,o=g[0];o>=10;o/=10,s++);for(o=g[0]+=c,c=1;o>=10;o/=10,c++);s!=c&&(e.e++,g[0]==h&&(g[0]=1));break}if(g[d]+=c,g[d]!=h)break;g[d--]=0,c=1}for(s=g.length;0===g[--s];g.pop());}e.e>B?e.c=e.e=null:e.e<U&&(e.c=[e.e=0])}return e}function H(e){var t,n=e.e;return null===n?e.toString():(t=g(e.c),t=n<=O||n>=R?w(t,n):k(t,n,"0"),e.s<0?"-"+t:t)}return P.clone=e,P.ROUND_UP=0,P.ROUND_DOWN=1,P.ROUND_CEIL=2,P.ROUND_FLOOR=3,P.ROUND_HALF_UP=4,P.ROUND_HALF_DOWN=5,P.ROUND_HALF_EVEN=6,P.ROUND_HALF_CEIL=7,P.ROUND_HALF_FLOOR=8,P.EUCLID=9,P.config=P.set=function(e){var t,n;if(null!=e){if("object"!=typeof e)throw Error(c+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(y(n=e[t],0,d,t),T=n),e.hasOwnProperty(t="ROUNDING_MODE")&&(y(n=e[t],0,8,t),N=n),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((n=e[t])&&n.pop?(y(n[0],-d,0,t),y(n[1],0,d,t),O=n[0],R=n[1]):(y(n,-d,d,t),O=-(R=n<0?-n:n))),e.hasOwnProperty(t="RANGE"))if((n=e[t])&&n.pop)y(n[0],-d,-1,t),y(n[1],1,d,t),U=n[0],B=n[1];else{if(y(n,-d,d,t),!n)throw Error(c+t+" cannot be zero: "+n);U=-(B=n<0?-n:n)}if(e.hasOwnProperty(t="CRYPTO")){if((n=e[t])!==!!n)throw Error(c+t+" not true or false: "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw C=!n,Error(c+"crypto unavailable");C=n}else C=n}if(e.hasOwnProperty(t="MODULO_MODE")&&(y(n=e[t],0,9,t),L=n),e.hasOwnProperty(t="POW_PRECISION")&&(y(n=e[t],0,d,t),M=n),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(n=e[t]))throw Error(c+t+" not an object: "+n);j=n}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(n=e[t])||/^.$|[+-.\s]|(.).*\1/.test(n))throw Error(c+t+" invalid: "+n);D=n}}return{DECIMAL_PLACES:T,ROUNDING_MODE:N,EXPONENTIAL_AT:[O,R],RANGE:[U,B],CRYPTO:C,MODULO_MODE:L,POW_PRECISION:M,FORMAT:j,ALPHABET:D}},P.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!P.DEBUG)return!0;var t,n,r=e.c,i=e.e,s=e.s;e:if("[object Array]"=={}.toString.call(r)){if((1===s||-1===s)&&i>=-d&&i<=d&&i===u(i)){if(0===r[0]){if(0===i&&1===r.length)return!0;break e}if((t=(i+1)%14)<1&&(t+=14),String(r[0]).length==t){for(t=0;t<r.length;t++)if((n=r[t])<0||n>=h||n!==u(n))break e;if(0!==n)return!0}}}else if(null===r&&null===i&&(null===s||1===s||-1===s))return!0;throw Error(c+"Invalid BigNumber: "+e)},P.maximum=P.max=function(){return z(arguments,x.lt)},P.minimum=P.min=function(){return z(arguments,x.gt)},P.random=(s=9007199254740992*Math.random()&2097151?function(){return u(9007199254740992*Math.random())}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,n,r,i,o,f=0,h=[],p=new P(I);if(null==e?e=T:y(e,0,d),i=a(e/14),C)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(i*=2));f<i;)(o=131072*t[f]+(t[f+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),t[f]=n[0],t[f+1]=n[1]):(h.push(o%1e14),f+=2);f=i/2}else{if(!crypto.randomBytes)throw C=!1,Error(c+"crypto unavailable");for(t=crypto.randomBytes(i*=7);f<i;)(o=281474976710656*(31&t[f])+1099511627776*t[f+1]+4294967296*t[f+2]+16777216*t[f+3]+(t[f+4]<<16)+(t[f+5]<<8)+t[f+6])>=9e15?crypto.randomBytes(7).copy(t,f):(h.push(o%1e14),f+=7);f=i/7}if(!C)for(;f<i;)(o=s())<9e15&&(h[f++]=o%1e14);for(e%=14,(i=h[--f])&&e&&(o=l[14-e],h[f]=u(i/o)*o);0===h[f];h.pop(),f--);if(f<0)h=[r=0];else{for(r=-1;0===h[0];h.splice(0,1),r-=14);for(f=1,o=h[0];o>=10;o/=10,f++);f<14&&(r-=14-f)}return p.e=r,p.c=h,p}),P.sum=function(){for(var e=1,t=arguments,n=new P(t[0]);e<t.length;)n=n.plus(t[e++]);return n},r=function(){function e(e,t,n,r){for(var i,s,o=[0],a=0,u=e.length;a<u;){for(s=o.length;s--;o[s]*=t);for(o[0]+=r.indexOf(e.charAt(a++)),i=0;i<o.length;i++)o[i]>n-1&&(null==o[i+1]&&(o[i+1]=0),o[i+1]+=o[i]/n|0,o[i]%=n)}return o.reverse()}return function(t,r,i,s,o){var a,u,c,f,h,l,d,p,b=t.indexOf("."),y=T,m=N;for(b>=0&&(f=M,M=0,t=t.replace(".",""),l=(p=new P(r)).pow(t.length-b),M=f,p.c=e(k(g(l.c),l.e,"0"),10,i,"0123456789"),p.e=p.c.length),c=f=(d=e(t,r,i,o?(a=D,"0123456789"):(a="0123456789",D))).length;0==d[--f];d.pop());if(!d[0])return a.charAt(0);if(b<0?--c:(l.c=d,l.e=c,l.s=s,d=(l=n(l,p,y,m,i)).c,h=l.r,c=l.e),b=d[u=c+y+1],f=i/2,h=h||u<0||null!=d[u+1],h=m<4?(null!=b||h)&&(0==m||m==(l.s<0?3:2)):b>f||b==f&&(4==m||h||6==m&&1&d[u-1]||m==(l.s<0?8:7)),u<1||!d[0])t=h?k(a.charAt(1),-y,a.charAt(0)):a.charAt(0);else{if(d.length=u,h)for(--i;++d[--u]>i;)d[u]=0,u||(++c,d=[1].concat(d));for(f=d.length;!d[--f];);for(b=0,t="";b<=f;t+=a.charAt(d[b++]));t=k(t,c,a.charAt(0))}return t}}(),n=function(){function e(e,t,n){var r,i,s,o,a=0,u=e.length,c=t%1e7,f=t/1e7|0;for(e=e.slice();u--;)a=((i=c*(s=e[u]%1e7)+(r=f*s+(o=e[u]/1e7|0)*c)%1e7*1e7+a)/n|0)+(r/1e7|0)+f*o,e[u]=i%n;return a&&(e=[a].concat(e)),e}function t(e,t,n,r){var i,s;if(n!=r)s=n>r?1:-1;else for(i=s=0;i<n;i++)if(e[i]!=t[i]){s=e[i]>t[i]?1:-1;break}return s}function n(e,t,n,r){for(var i=0;n--;)e[n]-=i,i=e[n]<t[n]?1:0,e[n]=i*r+e[n]-t[n];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(r,i,s,o,a){var c,f,l,d,g,b,y,m,w,k,v,E,_,A,S,x,I,T=r.s==i.s?1:-1,N=r.c,O=i.c;if(!(N&&N[0]&&O&&O[0]))return new P(r.s&&i.s&&(N?!O||N[0]!=O[0]:O)?N&&0==N[0]||!O?0*T:T/0:NaN);for(w=(m=new P(T)).c=[],T=s+(f=r.e-i.e)+1,a||(a=h,f=p(r.e/14)-p(i.e/14),T=T/14|0),l=0;O[l]==(N[l]||0);l++);if(O[l]>(N[l]||0)&&f--,T<0)w.push(1),d=!0;else{for(A=N.length,x=O.length,l=0,T+=2,(g=u(a/(O[0]+1)))>1&&(O=e(O,g,a),N=e(N,g,a),x=O.length,A=N.length),_=x,v=(k=N.slice(0,x)).length;v<x;k[v++]=0);I=O.slice(),I=[0].concat(I),S=O[0],O[1]>=a/2&&S++;do{if(g=0,(c=t(O,k,x,v))<0){if(E=k[0],x!=v&&(E=E*a+(k[1]||0)),(g=u(E/S))>1)for(g>=a&&(g=a-1),y=(b=e(O,g,a)).length,v=k.length;1==t(b,k,y,v);)g--,n(b,x<y?I:O,y,a),y=b.length,c=1;else 0==g&&(c=g=1),y=(b=O.slice()).length;if(y<v&&(b=[0].concat(b)),n(k,b,v,a),v=k.length,-1==c)for(;t(O,k,x,v)<1;)g++,n(k,x<v?I:O,v,a),v=k.length}else 0===c&&(g++,k=[0]);w[l++]=g,k[0]?k[v++]=N[_]||0:(k=[N[_]],v=1)}while((_++<A||null!=k[0])&&T--);d=null!=k[0],w[0]||w.splice(0,1)}if(a==h){for(l=1,T=w[0];T>=10;T/=10,l++);q(m,s+(m.e=l+14*f-1)+1,o,d)}else m.e=f,m.r=+d;return m}}(),v=/^(-?)0([xbo])(?=\w[\w.]*$)/i,E=/^([^.]+)\.$/,_=/^\.([^.]+)$/,A=/^-?(Infinity|NaN)$/,S=/^\s*\+(?=[\w.])|^\s+|\s+$/g,i=function(e,t,n,r){var i,s=n?t:t.replace(S,"");if(A.test(s))e.s=isNaN(s)?null:s<0?-1:1;else{if(!n&&(s=s.replace(v,(function(e,t,n){return i="x"==(n=n.toLowerCase())?16:"b"==n?2:8,r&&r!=i?e:t})),r&&(i=r,s=s.replace(E,"$1").replace(_,"0.$1")),t!=s))return new P(s,i);if(P.DEBUG)throw Error(c+"Not a"+(r?" base "+r:"")+" number: "+t);e.s=null}e.c=e.e=null},x.absoluteValue=x.abs=function(){var e=new P(this);return e.s<0&&(e.s=1),e},x.comparedTo=function(e,t){return b(this,new P(e,t))},x.decimalPlaces=x.dp=function(e,t){var n,r,i,s=this;if(null!=e)return y(e,0,d),null==t?t=N:y(t,0,8),q(new P(s),e+s.e+1,t);if(!(n=s.c))return null;if(r=14*((i=n.length-1)-p(this.e/14)),i=n[i])for(;i%10==0;i/=10,r--);return r<0&&(r=0),r},x.dividedBy=x.div=function(e,t){return n(this,new P(e,t),T,N)},x.dividedToIntegerBy=x.idiv=function(e,t){return n(this,new P(e,t),0,1)},x.exponentiatedBy=x.pow=function(e,t){var n,r,i,s,o,f,h,l,d=this;if((e=new P(e)).c&&!e.isInteger())throw Error(c+"Exponent not an integer: "+H(e));if(null!=t&&(t=new P(t)),o=e.e>14,!d.c||!d.c[0]||1==d.c[0]&&!d.e&&1==d.c.length||!e.c||!e.c[0])return l=new P(Math.pow(+H(d),o?2-m(e):+H(e))),t?l.mod(t):l;if(f=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new P(NaN);(r=!f&&d.isInteger()&&t.isInteger())&&(d=d.mod(t))}else{if(e.e>9&&(d.e>0||d.e<-1||(0==d.e?d.c[0]>1||o&&d.c[1]>=24e7:d.c[0]<8e13||o&&d.c[0]<=9999975e7)))return s=d.s<0&&m(e)?-0:0,d.e>-1&&(s=1/s),new P(f?1/s:s);M&&(s=a(M/14+2))}for(o?(n=new P(.5),f&&(e.s=1),h=m(e)):h=(i=Math.abs(+H(e)))%2,l=new P(I);;){if(h){if(!(l=l.times(d)).c)break;s?l.c.length>s&&(l.c.length=s):r&&(l=l.mod(t))}if(i){if(0===(i=u(i/2)))break;h=i%2}else if(q(e=e.times(n),e.e+1,1),e.e>14)h=m(e);else{if(0===(i=+H(e)))break;h=i%2}d=d.times(d),s?d.c&&d.c.length>s&&(d.c.length=s):r&&(d=d.mod(t))}return r?l:(f&&(l=I.div(l)),t?l.mod(t):s?q(l,M,N,void 0):l)},x.integerValue=function(e){var t=new P(this);return null==e?e=N:y(e,0,8),q(t,t.e+1,e)},x.isEqualTo=x.eq=function(e,t){return 0===b(this,new P(e,t))},x.isFinite=function(){return!!this.c},x.isGreaterThan=x.gt=function(e,t){return b(this,new P(e,t))>0},x.isGreaterThanOrEqualTo=x.gte=function(e,t){return 1===(t=b(this,new P(e,t)))||0===t},x.isInteger=function(){return!!this.c&&p(this.e/14)>this.c.length-2},x.isLessThan=x.lt=function(e,t){return b(this,new P(e,t))<0},x.isLessThanOrEqualTo=x.lte=function(e,t){return-1===(t=b(this,new P(e,t)))||0===t},x.isNaN=function(){return!this.s},x.isNegative=function(){return this.s<0},x.isPositive=function(){return this.s>0},x.isZero=function(){return!!this.c&&0==this.c[0]},x.minus=function(e,t){var n,r,i,s,o=this,a=o.s;if(t=(e=new P(e,t)).s,!a||!t)return new P(NaN);if(a!=t)return e.s=-t,o.plus(e);var u=o.e/14,c=e.e/14,f=o.c,l=e.c;if(!u||!c){if(!f||!l)return f?(e.s=-t,e):new P(l?o:NaN);if(!f[0]||!l[0])return l[0]?(e.s=-t,e):new P(f[0]?o:3==N?-0:0)}if(u=p(u),c=p(c),f=f.slice(),a=u-c){for((s=a<0)?(a=-a,i=f):(c=u,i=l),i.reverse(),t=a;t--;i.push(0));i.reverse()}else for(r=(s=(a=f.length)<(t=l.length))?a:t,a=t=0;t<r;t++)if(f[t]!=l[t]){s=f[t]<l[t];break}if(s&&(i=f,f=l,l=i,e.s=-e.s),(t=(r=l.length)-(n=f.length))>0)for(;t--;f[n++]=0);for(t=h-1;r>a;){if(f[--r]<l[r]){for(n=r;n&&!f[--n];f[n]=t);--f[n],f[r]+=h}f[r]-=l[r]}for(;0==f[0];f.splice(0,1),--c);return f[0]?G(e,f,c):(e.s=3==N?-1:1,e.c=[e.e=0],e)},x.modulo=x.mod=function(e,t){var r,i,s=this;return e=new P(e,t),!s.c||!e.s||e.c&&!e.c[0]?new P(NaN):!e.c||s.c&&!s.c[0]?new P(s):(9==L?(i=e.s,e.s=1,r=n(s,e,0,3),e.s=i,r.s*=i):r=n(s,e,0,L),(e=s.minus(r.times(e))).c[0]||1!=L||(e.s=s.s),e)},x.multipliedBy=x.times=function(e,t){var n,r,i,s,o,a,u,c,f,l,d,g,b,y,m=this,w=m.c,k=(e=new P(e,t)).c;if(!(w&&k&&w[0]&&k[0]))return!m.s||!e.s||w&&!w[0]&&!k||k&&!k[0]&&!w?e.c=e.e=e.s=null:(e.s*=m.s,w&&k?(e.c=[0],e.e=0):e.c=e.e=null),e;for(r=p(m.e/14)+p(e.e/14),e.s*=m.s,(u=w.length)<(l=k.length)&&(b=w,w=k,k=b,i=u,u=l,l=i),i=u+l,b=[];i--;b.push(0));for(y=h,1e7,i=l;--i>=0;){for(n=0,d=k[i]%1e7,g=k[i]/1e7|0,s=i+(o=u);s>i;)n=((c=d*(c=w[--o]%1e7)+(a=g*c+(f=w[o]/1e7|0)*d)%1e7*1e7+b[s]+n)/y|0)+(a/1e7|0)+g*f,b[s--]=c%y;b[s]=n}return n?++r:b.splice(0,1),G(e,b,r)},x.negated=function(){var e=new P(this);return e.s=-e.s||null,e},x.plus=function(e,t){var n,r=this,i=r.s;if(t=(e=new P(e,t)).s,!i||!t)return new P(NaN);if(i!=t)return e.s=-t,r.minus(e);var s=r.e/14,o=e.e/14,a=r.c,u=e.c;if(!s||!o){if(!a||!u)return new P(i/0);if(!a[0]||!u[0])return u[0]?e:new P(a[0]?r:0*i)}if(s=p(s),o=p(o),a=a.slice(),i=s-o){for(i>0?(o=s,n=u):(i=-i,n=a),n.reverse();i--;n.push(0));n.reverse()}for((i=a.length)-(t=u.length)<0&&(n=u,u=a,a=n,t=i),i=0;t;)i=(a[--t]=a[t]+u[t]+i)/h|0,a[t]=h===a[t]?0:a[t]%h;return i&&(a=[i].concat(a),++o),G(e,a,o)},x.precision=x.sd=function(e,t){var n,r,i,s=this;if(null!=e&&e!==!!e)return y(e,1,d),null==t?t=N:y(t,0,8),q(new P(s),e,t);if(!(n=s.c))return null;if(r=14*(i=n.length-1)+1,i=n[i]){for(;i%10==0;i/=10,r--);for(i=n[0];i>=10;i/=10,r++);}return e&&s.e+1>r&&(r=s.e+1),r},x.shiftedBy=function(e){return y(e,-9007199254740991,9007199254740991),this.times("1e"+e)},x.squareRoot=x.sqrt=function(){var e,t,r,i,s,o=this,a=o.c,u=o.s,c=o.e,f=T+4,h=new P("0.5");if(1!==u||!a||!a[0])return new P(!u||u<0&&(!a||a[0])?NaN:a?o:1/0);if(0==(u=Math.sqrt(+H(o)))||u==1/0?(((t=g(a)).length+c)%2==0&&(t+="0"),u=Math.sqrt(+t),c=p((c+1)/2)-(c<0||c%2),r=new P(t=u==1/0?"1e"+c:(t=u.toExponential()).slice(0,t.indexOf("e")+1)+c)):r=new P(u+""),r.c[0])for((u=(c=r.e)+f)<3&&(u=0);;)if(s=r,r=h.times(s.plus(n(o,s,f,1))),g(s.c).slice(0,u)===(t=g(r.c)).slice(0,u)){if(r.e<c&&--u,"9999"!=(t=t.slice(u-3,u+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(q(r,r.e+T+2,1),e=!r.times(r).eq(o));break}if(!i&&(q(s,s.e+T+2,0),s.times(s).eq(o))){r=s;break}f+=4,u+=4,i=1}return q(r,r.e+T+1,N,e)},x.toExponential=function(e,t){return null!=e&&(y(e,0,d),e++),F(this,e,t,1)},x.toFixed=function(e,t){return null!=e&&(y(e,0,d),e=e+this.e+1),F(this,e,t)},x.toFormat=function(e,t,n){var r,i=this;if(null==n)null!=e&&t&&"object"==typeof t?(n=t,t=null):e&&"object"==typeof e?(n=e,e=t=null):n=j;else if("object"!=typeof n)throw Error(c+"Argument not an object: "+n);if(r=i.toFixed(e,t),i.c){var s,o=r.split("."),a=+n.groupSize,u=+n.secondaryGroupSize,f=n.groupSeparator||"",h=o[0],l=o[1],d=i.s<0,p=d?h.slice(1):h,g=p.length;if(u&&(s=a,a=u,u=s,g-=s),a>0&&g>0){for(s=g%a||a,h=p.substr(0,s);s<g;s+=a)h+=f+p.substr(s,a);u>0&&(h+=f+p.slice(s)),d&&(h="-"+h)}r=l?h+(n.decimalSeparator||"")+((u=+n.fractionGroupSize)?l.replace(new RegExp("\\d{"+u+"}\\B","g"),"$&"+(n.fractionGroupSeparator||"")):l):h}return(n.prefix||"")+r+(n.suffix||"")},x.toFraction=function(e){var t,r,i,s,o,a,u,f,h,d,p,b,y=this,m=y.c;if(null!=e&&(!(u=new P(e)).isInteger()&&(u.c||1!==u.s)||u.lt(I)))throw Error(c+"Argument "+(u.isInteger()?"out of range: ":"not an integer: ")+H(u));if(!m)return new P(y);for(t=new P(I),h=r=new P(I),i=f=new P(I),b=g(m),o=t.e=b.length-y.e-1,t.c[0]=l[(a=o%14)<0?14+a:a],e=!e||u.comparedTo(t)>0?o>0?t:h:u,a=B,B=1/0,u=new P(b),f.c[0]=0;d=n(u,t,0,1),1!=(s=r.plus(d.times(i))).comparedTo(e);)r=i,i=s,h=f.plus(d.times(s=h)),f=s,t=u.minus(d.times(s=t)),u=s;return s=n(e.minus(r),i,0,1),f=f.plus(s.times(h)),r=r.plus(s.times(i)),f.s=h.s=y.s,p=n(h,i,o*=2,N).minus(y).abs().comparedTo(n(f,r,o,N).minus(y).abs())<1?[h,i]:[f,r],B=a,p},x.toNumber=function(){return+H(this)},x.toPrecision=function(e,t){return null!=e&&y(e,1,d),F(this,e,t,2)},x.toString=function(e){var t,n=this,i=n.s,s=n.e;return null===s?i?(t="Infinity",i<0&&(t="-"+t)):t="NaN":(null==e?t=s<=O||s>=R?w(g(n.c),s):k(g(n.c),s,"0"):10===e?t=k(g((n=q(new P(n),T+s+1,N)).c),n.e,"0"):(y(e,2,D.length,"Base"),t=r(k(g(n.c),s,"0"),10,e,i,!0)),i<0&&n.c[0]&&(t="-"+t)),t},x.valueOf=x.toJSON=function(){return H(this)},x._isBigNumber=!0,null!=t&&P.set(t),P}()).default=s.BigNumber=s,void 0===(r=function(){return s}.call(t,n,t,e))||(e.exports=r)}()},function(e,t,n){"use strict";const r=n(7).BigNumber;t.MT={POS_INT:0,NEG_INT:1,BYTE_STRING:2,UTF8_STRING:3,ARRAY:4,MAP:5,TAG:6,SIMPLE_FLOAT:7},t.TAG={DATE_STRING:0,DATE_EPOCH:1,POS_BIGINT:2,NEG_BIGINT:3,DECIMAL_FRAC:4,BIGFLOAT:5,BASE64URL_EXPECTED:21,BASE64_EXPECTED:22,BASE16_EXPECTED:23,CBOR:24,URI:32,BASE64URL:33,BASE64:34,REGEXP:35,MIME:36},t.NUMBYTES={ZERO:0,ONE:24,TWO:25,FOUR:26,EIGHT:27,INDEFINITE:31},t.SIMPLE={FALSE:20,TRUE:21,NULL:22,UNDEFINED:23},t.SYMS={NULL:Symbol("null"),UNDEFINED:Symbol("undef"),PARENT:Symbol("parent"),BREAK:Symbol("break"),STREAM:Symbol("stream")},t.SHIFT32=4294967296,t.BI={MINUS_ONE:-1,MAXINT32:4294967295,MAXINT64:"0xffffffffffffffff",SHIFT32:t.SHIFT32};const i=new r(-1);t.BN={MINUS_ONE:i,NEG_MAX:i.minus(new r(Number.MAX_SAFE_INTEGER.toString(16),16)),MAXINT:new r("0x20000000000000"),MAXINT32:new r(4294967295),MAXINT64:new r("0xffffffffffffffff"),SHIFT32:new r(t.SHIFT32)}},function(e,t,n){"use strict";var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(i){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,n){"use strict";const{names:r}=n(17),{TextDecoder:i}=n(18),s=new i("utf8");e.exports=function(e,t="utf8"){if("utf8"===t||"utf-8"===t)return s.decode(e);if("ascii"===t)return function(e){let t="";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}(e);const n=r[t];if(!n)throw new Error("Unknown base");return n.encode(e)}},function(e,t,n){"use strict";var r,i,s=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(e){i=a}}();var c,f=[],h=!1,l=-1;function d(){h&&c&&(h=!1,c.length?f=c.concat(f):l=-1,f.length&&p())}function p(){if(!h){var e=u(d);h=!0;for(var t=f.length;t;){for(c=f,f=[];++l<t;)c&&c[l].run();l=-1,t=f.length}c=null,h=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function g(e,t){this.fun=e,this.array=t}function b(){}s.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];f.push(new g(e,t)),1!==f.length||h||u(p)},g.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=b,s.addListener=b,s.once=b,s.off=b,s.removeListener=b,s.removeAllListeners=b,s.emit=b,s.prependListener=b,s.prependOnceListener=b,s.listeners=function(e){return[]},s.binding=function(e){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(e,t,n){"use strict";const r=n(4),i=n(27),s=n(5);e.exports=i(class{constructor(e,t,n){if(!n)throw new Error("A link requires a cid to point to");Object.defineProperties(this,{Name:{value:e||"",writable:!1,enumerable:!0},Tsize:{value:t,writable:!1,enumerable:!0},Hash:{value:new r(n),writable:!1,enumerable:!0},_nameBuf:{value:null,writable:!0,enumerable:!1}})}toString(){return`DAGLink <${this.Hash.toBaseEncodedString()} - name: "${this.Name}", size: ${this.Tsize}>`}toJSON(){return this._json||(this._json=Object.freeze({name:this.Name,size:this.Tsize,cid:this.Hash.toBaseEncodedString()})),Object.assign({},this._json)}get nameAsBuffer(){return null!==this._nameBuf||(this._nameBuf=s(this.Name)),this._nameBuf}},{className:"DAGLink",symbolName:"@ipld/js-ipld-dag-pb/daglink"})},function(e,t,n){"use strict";e.exports=i;var r=n(40).EventEmitter;function i(){r.call(this)}n(14)(i,r),i.Readable=n(41),i.Writable=n(158),i.Duplex=n(159),i.Transform=n(160),i.PassThrough=n(161),i.Stream=i,i.prototype.pipe=function(e,t){var n=this;function i(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function s(){n.readable&&n.resume&&n.resume()}n.on("data",i),e.on("drain",s),e._isStdio||t&&!1===t.end||(n.on("end",a),n.on("close",u));var o=!1;function a(){o||(o=!0,e.end())}function u(){o||(o=!0,"function"==typeof e.destroy&&e.destroy())}function c(e){if(f(),0===r.listenerCount(this,"error"))throw e}function f(){n.removeListener("data",i),e.removeListener("drain",s),n.removeListener("end",a),n.removeListener("close",u),n.removeListener("error",c),e.removeListener("error",c),n.removeListener("end",f),n.removeListener("close",f),e.removeListener("close",f)}return n.on("error",c),e.on("error",c),n.on("end",f),n.on("close",f),e.on("close",f),e.emit("pipe",n),e}},function(e,t,n){"use strict";"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},function(e,t,n){"use strict";(function(e){const r=n(22),i=n(7).BigNumber,s=n(8),o=s.NUMBYTES,a=s.SHIFT32;t.hasBigInt="function"==typeof BigInt;const u="function"==typeof TextDecoder?TextDecoder:r.TextDecoder;if(u){const e=new u("utf8",{fatal:!0,ignoreBOM:!0});t.utf8=t=>e.decode(t),t.utf8.checksUTF8=!0}else t.utf8=e=>e.toString("utf8"),t.utf8.checksUTF8=!1;t.parseCBORint=function(e,t){switch(e){case o.ONE:return t.readUInt8(0);case o.TWO:return t.readUInt16BE(0);case o.FOUR:return t.readUInt32BE(0);case o.EIGHT:const n=t.readUInt32BE(0),r=t.readUInt32BE(4);return n>2097151?new i(n).times(a).plus(r):n*a+r;default:throw new Error("Invalid additional info for int: "+e)}},t.writeHalf=function(t,n){const r=e.allocUnsafe(4);r.writeFloatBE(n,0);const i=r.readUInt32BE(0);if(0!=(8191&i))return!1;let s=i>>16&32768;const o=i>>23&255,a=8388607&i;if(o>=113&&o<=142)s+=(o-112<<10)+(a>>13);else{if(!(o>=103&&o<113))return!1;if(a&(1<<126-o)-1)return!1;s+=a+8388608>>126-o}return t.writeUInt16BE(s),!0},t.parseHalf=function(e){const t=128&e[0]?-1:1,n=(124&e[0])>>2,r=(3&e[0])<<8|e[1];return n?31===n?t*(r?NaN:Infinity):t*Math.pow(2,n-25)*(1024+r):5.960464477539063e-8*t*r},t.parseCBORfloat=function(e){switch(e.length){case 2:return t.parseHalf(e);case 4:return e.readFloatBE(0);case 8:return e.readDoubleBE(0);default:throw new Error("Invalid float size: "+e.length)}},t.hex=function(t){return e.from(t.replace(/^0x/,""),"hex")},t.bin=function(t){let n=0,r=(t=t.replace(/\s/g,"")).length%8||8;const i=[];for(;r<=t.length;)i.push(parseInt(t.slice(n,r),2)),n=r,r+=8;return e.from(i)},t.extend=function(e={},...t){const n=t.length;for(let r=0;r<n;r++){const n=t[r];for(const t in n){const r=n[t];e[t]=r}}return e},t.arrayEqual=function(e,t){return null==e&&null==t||null!=e&&null!=t&&(e.length===t.length&&e.every((e,n)=>e===t[n]))},t.bufferEqual=function(t,n){if(null==t&&null==n)return!0;if(null==t||null==n)return!1;if(!e.isBuffer(t)||!e.isBuffer(n)||t.length!==n.length)return!1;const r=t.length;let i,s,o=!0;for(i=s=0;s<r;i=++s){const e=t[i];o=o&&n[i]===e}return!!o},t.bufferToBignumber=function(e){return new i(e.toString("hex"),16)},t.toBigInt=function(e){return t.hasBigInt?BigInt(e):Number(e)},t.bigIntize=function(e){const n={};for(const r in e)n[r]=t.toBigInt(e[r]);return n},t.bufferToBigInt=function(e){return t.toBigInt("0x"+e.toString("hex"))},t.guessEncoding=function(t){if("string"==typeof t)return"hex";if(!e.isBuffer(t))throw new Error("Unknown input type")}}).call(this,n(2).Buffer)},function(e,t,n){"use strict";const r=n(17),{encodeText:i,decodeText:s,concat:o}=n(34);function a(e){if(r.names[e])return r.names[e];if(r.codes[e])return r.codes[e];throw new Error("Unsupported encoding: "+e)}(t=e.exports=function(e,t){if(!t)throw new Error("requires an encoded Uint8Array");const{name:n,codeBuf:r}=a(e);return function(e,t){a(e).decode(s(t))}(n,t),o([r,t],r.length+t.length)}).encode=function(e,t){const n=a(e),r=i(n.encode(t));return o([n.codeBuf,r],n.codeBuf.length+r.length)},t.decode=function(e){e instanceof Uint8Array&&(e=s(e));const t=e[0];return["f","F","v","V","t","T","b","B","c","C","h","k","K"].includes(t)&&(e=e.toLowerCase()),a(e[0]).decode(e.substring(1))},t.isEncoded=function(e){if(e instanceof Uint8Array&&(e=s(e)),"[object String]"!==Object.prototype.toString.call(e))return!1;try{return a(e[0]).name}catch(t){return!1}},t.encoding=a,t.encodingFromData=function(e){return e instanceof Uint8Array&&(e=s(e)),a(e[0])},t.names=Object.freeze(r.names),t.codes=Object.freeze(r.codes)},function(e,t,n){"use strict";const r=n(80),i=n(84),s=n(85),{decodeText:o,encodeText:a}=n(34),u=[["identity","\0",()=>({encode:o,decode:a}),""],["base2","0",s(1),"01"],["base8","7",s(3),"01234567"],["base10","9",r,"0123456789"],["base16","f",s(4),"0123456789abcdef"],["base16upper","F",s(4),"0123456789ABCDEF"],["base32hex","v",s(5),"0123456789abcdefghijklmnopqrstuv"],["base32hexupper","V",s(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV"],["base32hexpad","t",s(5),"0123456789abcdefghijklmnopqrstuv="],["base32hexpadupper","T",s(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV="],["base32","b",s(5),"abcdefghijklmnopqrstuvwxyz234567"],["base32upper","B",s(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"],["base32pad","c",s(5),"abcdefghijklmnopqrstuvwxyz234567="],["base32padupper","C",s(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567="],["base32z","h",s(5),"ybndrfg8ejkmcpqxot1uwisza345h769"],["base36","k",r,"0123456789abcdefghijklmnopqrstuvwxyz"],["base36upper","K",r,"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"],["base58btc","z",r,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base58flickr","Z",r,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base64","m",s(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",s(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",s(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",s(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]],c=u.reduce((e,t)=>(e[t[0]]=new i(t[0],t[1],t[2],t[3]),e),{}),f=u.reduce((e,t)=>(e[t[1]]=c[t[0]],e),{});e.exports={names:c,codes:f}},function(e,t,n){"use strict";t.TextEncoder=TextEncoder,t.TextDecoder=TextDecoder},function(e){e.exports=JSON.parse('{"identity":0,"ip4":4,"tcp":6,"sha1":17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,"blake3":30,"dccp":33,"murmur3-128":34,"murmur3-32":35,"ip6":41,"ip6zone":42,"path":47,"multicodec":48,"multihash":49,"multiaddr":50,"multibase":51,"dns":53,"dns4":54,"dns6":55,"dnsaddr":56,"protobuf":80,"cbor":81,"raw":85,"dbl-sha2-256":86,"rlp":96,"bencode":99,"dag-pb":112,"dag-cbor":113,"libp2p-key":114,"git-raw":120,"torrent-info":123,"torrent-file":124,"leofcoin-block":129,"leofcoin-tx":130,"leofcoin-pr":131,"sctp":132,"dag-jose":133,"dag-cose":134,"eth-block":144,"eth-block-list":145,"eth-tx-trie":146,"eth-tx":147,"eth-tx-receipt-trie":148,"eth-tx-receipt":149,"eth-state-trie":150,"eth-account-snapshot":151,"eth-storage-trie":152,"bitcoin-block":176,"bitcoin-tx":177,"bitcoin-witness-commitment":178,"zcash-block":192,"zcash-tx":193,"stellar-block":208,"stellar-tx":209,"md4":212,"md5":213,"bmt":214,"decred-block":224,"decred-tx":225,"ipld-ns":226,"ipfs-ns":227,"swarm-ns":228,"ipns-ns":229,"zeronet":230,"secp256k1-pub":231,"bls12_381-g1-pub":234,"bls12_381-g2-pub":235,"x25519-pub":236,"ed25519-pub":237,"dash-block":240,"dash-tx":241,"swarm-manifest":250,"swarm-feed":251,"udp":273,"p2p-webrtc-star":275,"p2p-webrtc-direct":276,"p2p-stardust":277,"p2p-circuit":290,"dag-json":297,"udt":301,"utp":302,"unix":400,"p2p":421,"ipfs":421,"https":443,"onion":444,"onion3":445,"garlic64":446,"garlic32":447,"tls":448,"quic":460,"ws":477,"wss":478,"p2p-websocket-star":479,"http":480,"json":512,"messagepack":513,"libp2p-peer-record":769,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,"x11":4352,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46000,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082,"zeroxcert-imprint-256":52753,"fil-commitment-unsealed":61697,"fil-commitment-sealed":61698,"holochain-adr-v0":8417572,"holochain-adr-v1":8483108,"holochain-key-v0":9728292,"holochain-key-v1":9793828,"holochain-sig-v0":10645796,"holochain-sig-v1":10711332}')},function(e,t,n){"use strict";(function(r){t.log=function(...e){return"object"==typeof console&&console.log&&console.log(...e)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(r++,"%c"===e&&(i=r))}),t.splice(i,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(n){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(n){}!e&&void 0!==r&&"env"in r&&(e={NODE_ENV:"production"}.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=n(102)(t);const{formatters:i}=e.exports;i.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}).call(this,n(11))},function(e,t,n){"use strict";(function(e){function n(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===n(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===n(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===n(e)},t.isError=function(e){return"[object Error]"===n(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=e.isBuffer}).call(this,n(2).Buffer)},function(e,t,n){"use strict";(function(e){var r=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},i=/%[sdj%]/g;t.format=function(e){if(!y(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(a(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,s=r.length,o=String(e).replace(i,(function(e){if("%%"===e)return"%";if(n>=s)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return e}})),u=r[n];n<s;u=r[++n])g(u)||!k(u)?o+=" "+u:o+=" "+a(u);return o},t.deprecate=function(n,r){if(void 0!==e&&!0===e.noDeprecation)return n;if(void 0===e)return function(){return t.deprecate(n,r).apply(this,arguments)};var i=!1;return function(){if(!i){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),i=!0}return n.apply(this,arguments)}};var s,o={};function a(e,n){var r={seen:[],stylize:c};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),p(n)?r.showHidden=n:n&&t._extend(r,n),m(r.showHidden)&&(r.showHidden=!1),m(r.depth)&&(r.depth=2),m(r.colors)&&(r.colors=!1),m(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=u),f(r,e,r.depth)}function u(e,t){var n=a.styles[t];return n?"["+a.colors[n][0]+"m"+e+"["+a.colors[n][1]+"m":e}function c(e,t){return e}function f(e,n,r){if(e.customInspect&&n&&_(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return y(i)||(i=f(e,i,r)),i}var s=function(e,t){if(m(t))return e.stylize("undefined","undefined");if(y(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(b(t))return e.stylize(""+t,"number");if(p(t))return e.stylize(""+t,"boolean");if(g(t))return e.stylize("null","null")}(e,n);if(s)return s;var o=Object.keys(n),a=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(n)),E(n)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return h(n);if(0===o.length){if(_(n)){var u=n.name?": "+n.name:"";return e.stylize("[Function"+u+"]","special")}if(w(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(v(n))return e.stylize(Date.prototype.toString.call(n),"date");if(E(n))return h(n)}var c,k="",A=!1,S=["{","}"];(d(n)&&(A=!0,S=["[","]"]),_(n))&&(k=" [Function"+(n.name?": "+n.name:"")+"]");return w(n)&&(k=" "+RegExp.prototype.toString.call(n)),v(n)&&(k=" "+Date.prototype.toUTCString.call(n)),E(n)&&(k=" "+h(n)),0!==o.length||A&&0!=n.length?r<0?w(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),c=A?function(e,t,n,r,i){for(var s=[],o=0,a=t.length;o<a;++o)T(t,String(o))?s.push(l(e,t,n,r,String(o),!0)):s.push("");return i.forEach((function(i){i.match(/^\d+$/)||s.push(l(e,t,n,r,i,!0))})),s}(e,n,r,a,o):o.map((function(t){return l(e,n,r,a,t,A)})),e.seen.pop(),function(e,t,n){if(e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(c,k,S)):S[0]+k+S[1]}function h(e){return"["+Error.prototype.toString.call(e)+"]"}function l(e,t,n,r,i,s){var o,a,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?a=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(a=e.stylize("[Setter]","special")),T(r,i)||(o="["+i+"]"),a||(e.seen.indexOf(u.value)<0?(a=g(n)?f(e,u.value,null):f(e,u.value,n-1)).indexOf("\n")>-1&&(a=s?a.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+a.split("\n").map((function(e){return"   "+e})).join("\n")):a=e.stylize("[Circular]","special")),m(o)){if(s&&i.match(/^\d+$/))return a;(o=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+a}function d(e){return Array.isArray(e)}function p(e){return"boolean"==typeof e}function g(e){return null===e}function b(e){return"number"==typeof e}function y(e){return"string"==typeof e}function m(e){return void 0===e}function w(e){return k(e)&&"[object RegExp]"===A(e)}function k(e){return"object"==typeof e&&null!==e}function v(e){return k(e)&&"[object Date]"===A(e)}function E(e){return k(e)&&("[object Error]"===A(e)||e instanceof Error)}function _(e){return"function"==typeof e}function A(e){return Object.prototype.toString.call(e)}function S(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(n){if(m(s)&&(s={NODE_ENV:"production"}.NODE_DEBUG||""),n=n.toUpperCase(),!o[n])if(new RegExp("\\b"+n+"\\b","i").test(s)){var r=e.pid;o[n]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",n,r,e)}}else o[n]=function(){};return o[n]},t.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=d,t.isBoolean=p,t.isNull=g,t.isNullOrUndefined=function(e){return null==e},t.isNumber=b,t.isString=y,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=m,t.isRegExp=w,t.isObject=k,t.isDate=v,t.isError=E,t.isFunction=_,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(162);var x=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function I(){var e=new Date,t=[S(e.getHours()),S(e.getMinutes()),S(e.getSeconds())].join(":");return[e.getDate(),x[e.getMonth()],t].join(" ")}function T(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",I(),t.format.apply(t,arguments))},t.inherits=n(163),t._extend=function(e,t){if(!t||!k(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e};var N="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function O(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(N&&e[N]){var t;if("function"!=typeof(t=e[N]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,N,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,r=new Promise((function(e,r){t=e,n=r})),i=[],s=0;s<arguments.length;s++)i.push(arguments[s]);i.push((function(e,r){e?n(e):t(r)}));try{e.apply(this,i)}catch(o){n(o)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),N&&Object.defineProperty(t,N,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,r(e))},t.promisify.custom=N,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var i=n.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var s=this,o=function(){return i.apply(s,arguments)};t.apply(this,n).then((function(t){e.nextTick(o,null,t)}),(function(t){e.nextTick(O,t,o)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.defineProperties(n,r(t)),n}}).call(this,n(11))},function(e,t,n){"use strict";const r=n(22),i=n(8),s=i.MT,o=i.SIMPLE,a=i.SYMS;class u{constructor(e){if("number"!=typeof e)throw new Error("Invalid Simple type: "+typeof e);if(e<0||e>255||(0|e)!==e)throw new Error("value must be a small positive integer: "+e);this.value=e}toString(){return"simple("+this.value+")"}[r.inspect.custom](e,t){return"simple("+this.value+")"}inspect(e,t){return"simple("+this.value+")"}encodeCBOR(e){return e._pushInt(this.value,s.SIMPLE_FLOAT)}static isSimple(e){return e instanceof u}static decode(e,t=!0,n=!1){switch(e){case o.FALSE:return!1;case o.TRUE:return!0;case o.NULL:return t?null:a.NULL;case o.UNDEFINED:return t?void 0:a.UNDEFINED;case-1:if(!t||!n)throw new Error("Invalid BREAK");return a.BREAK;default:return new u(e)}}}e.exports=u},function(e,t,n){"use strict";(function(t){const r=n(13),i=n(22);class s extends r.Transform{constructor(e,n,r){let i,s;switch(null==r&&(r={}),typeof e){case"object":t.isBuffer(e)?(i=e,null!=n&&"object"==typeof n&&(r=n)):r=e;break;case"string":i=e,null!=n&&"object"==typeof n?r=n:s=n}null==r&&(r={}),null==i&&(i=r.input),null==s&&(s=r.inputEncoding),delete r.input,delete r.inputEncoding;const o=null==r.watchPipe||r.watchPipe;delete r.watchPipe;const a=!!r.readError;delete r.readError,super(r),this.readError=a,o&&this.on("pipe",e=>{const t=e._readableState.objectMode;if(this.length>0&&t!==this._readableState.objectMode)throw new Error("Do not switch objectMode in the middle of the stream");return this._readableState.objectMode=t,this._writableState.objectMode=t}),null!=i&&this.end(i,s)}static isNoFilter(e){return e instanceof this}static compare(e,t){if(!(e instanceof this))throw new TypeError("Arguments must be NoFilters");return e===t?0:e.compare(t)}static concat(e,n){if(!Array.isArray(e))throw new TypeError("list argument must be an Array of NoFilters");if(0===e.length||0===n)return t.alloc(0);null==n&&(n=e.reduce((e,t)=>{if(!(t instanceof s))throw new TypeError("list argument must be an Array of NoFilters");return e+t.length},0));let r=!0,i=!0;const o=e.map(e=>{if(!(e instanceof s))throw new TypeError("list argument must be an Array of NoFilters");const n=e.slice();return t.isBuffer(n)?i=!1:r=!1,n});if(r)return t.concat(o,n);if(i)return[].concat(...o).slice(0,n);throw new Error("Concatenating mixed object and byte streams not supported")}_transform(e,n,r){this._readableState.objectMode||t.isBuffer(e)||(e=t.from(e,n)),this.push(e),r()}_bufArray(){let e=this._readableState.buffer;if(!Array.isArray(e)){let t=e.head;for(e=[];null!=t;)e.push(t.data),t=t.next}return e}read(e){const t=super.read(e);if(null!=t){if(this.emit("read",t),this.readError&&t.length<e)throw new Error(`Read ${t.length}, wanted ${e}`)}else if(this.readError)throw new Error("No data available, wanted "+e);return t}promise(e){let t=!1;return new Promise((n,r)=>{this.on("finish",()=>{const r=this.read();null==e||t||(t=!0,e(null,r)),n(r)}),this.on("error",n=>{null==e||t||(t=!0,e(n)),r(n)})})}compare(e){if(!(e instanceof s))throw new TypeError("Arguments must be NoFilters");if(this===e)return 0;{const n=this.slice(),r=e.slice();if(t.isBuffer(n)&&t.isBuffer(r))return n.compare(r);throw new Error("Cannot compare streams in object mode")}}equals(e){return 0===this.compare(e)}slice(e,n){if(this._readableState.objectMode)return this._bufArray().slice(e,n);const r=this._bufArray();switch(r.length){case 0:return t.alloc(0);case 1:return r[0].slice(e,n);default:return t.concat(r).slice(e,n)}}get(e){return this.slice()[e]}toJSON(){const e=this.slice();return t.isBuffer(e)?e.toJSON():e}toString(e,n,r){const s=this.slice(n,r);if(!t.isBuffer(s))return JSON.stringify(s);if((!e||"utf8"===e)&&i.TextDecoder){return new i.TextDecoder("utf8",{fatal:!0,ignoreBOM:!0}).decode(s)}return s.toString(e,n,r)}inspect(e,t){return this[i.inspect.custom](e,t)}[i.inspect.custom](e,n){const r=this._bufArray().map(e=>t.isBuffer(e)?(null!=n?n.stylize:void 0)?n.stylize(e.toString("hex"),"string"):e.toString("hex"):i.inspect(e,n)).join(", ");return`${this.constructor.name} [${r}]`}get length(){return this._readableState.length}writeBigInt(e){let n=e.toString(16);if(e<0){const t=BigInt(Math.floor(n.length/2));n=(e=(BigInt(1)<<t*BigInt(8))+e).toString(16)}return n.length%2&&(n="0"+n),this.push(t.from(n,"hex"))}readUBigInt(e){const n=this.read(e);return t.isBuffer(n)?BigInt("0x"+n.toString("hex")):null}readBigInt(e){const n=this.read(e);if(!t.isBuffer(n))return null;let r=BigInt("0x"+n.toString("hex"));if(128&n[0]){r-=BigInt(1)<<BigInt(n.length)*BigInt(8)}return r}}function o(e,n){return function(r){const i=this.read(n);return t.isBuffer(i)?i[e].call(i,0,!0):null}}function a(e,n){return function(r){const i=t.alloc(n);return i[e].call(i,r,0,!0),this.push(i)}}Object.assign(s.prototype,{writeUInt8:a("writeUInt8",1),writeUInt16LE:a("writeUInt16LE",2),writeUInt16BE:a("writeUInt16BE",2),writeUInt32LE:a("writeUInt32LE",4),writeUInt32BE:a("writeUInt32BE",4),writeInt8:a("writeInt8",1),writeInt16LE:a("writeInt16LE",2),writeInt16BE:a("writeInt16BE",2),writeInt32LE:a("writeInt32LE",4),writeInt32BE:a("writeInt32BE",4),writeFloatLE:a("writeFloatLE",4),writeFloatBE:a("writeFloatBE",4),writeDoubleLE:a("writeDoubleLE",8),writeDoubleBE:a("writeDoubleBE",8),readUInt8:o("readUInt8",1),readUInt16LE:o("readUInt16LE",2),readUInt16BE:o("readUInt16BE",2),readUInt32LE:o("readUInt32LE",4),readUInt32BE:o("readUInt32BE",4),readInt8:o("readInt8",1),readInt16LE:o("readInt16LE",2),readInt16BE:o("readInt16BE",2),readInt32LE:o("readInt32LE",4),readInt32BE:o("readInt32BE",4),readFloatLE:o("readFloatLE",4),readFloatBE:o("readFloatBE",4),readDoubleLE:o("readDoubleLE",8),readDoubleBE:o("readDoubleBE",8)}),e.exports=s}).call(this,n(2).Buffer)},function(e,t,n){"use strict";const r=n(16),i=n(0),{names:s}=n(89),o=n(10),a=n(5),u=n(35),c={};for(const h in s)c[s[h]]=h;function f(e){t.decode(e)}t.names=s,t.codes=Object.freeze(c),t.toHexString=function(e){if(!(e instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return o(e,"base16")},t.fromHexString=function(e){return a(e,"base16")},t.toB58String=function(e){if(!(e instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return o(r.encode("base58btc",e)).slice(1)},t.fromB58String=function(e){const t=e instanceof Uint8Array?o(e):e;return r.decode("z"+t)},t.decode=function(e){if(!(e instanceof Uint8Array))throw new Error("multihash must be a Uint8Array");if(e.length<2)throw new Error("multihash too short. must be > 2 bytes.");const n=i.decode(e);if(!t.isValidCode(n))throw new Error("multihash unknown function code: 0x"+n.toString(16));e=e.slice(i.decode.bytes);const r=i.decode(e);if(r<0)throw new Error("multihash invalid length: "+r);if((e=e.slice(i.decode.bytes)).length!==r)throw new Error("multihash length inconsistent: 0x"+o(e,"base16"));return{code:n,name:c[n],length:r,digest:e}},t.encode=function(e,n,r){if(!e||void 0===n)throw new Error("multihash encode requires at least two args: digest, code");const s=t.coerceCode(n);if(!(e instanceof Uint8Array))throw new Error("digest should be a Uint8Array");if(null==r&&(r=e.length),r&&e.length!==r)throw new Error("digest length should be equal to specified length.");const o=i.encode(s),a=i.encode(r);return u([o,a,e],o.length+a.length+e.length)},t.coerceCode=function(e){let n=e;if("string"==typeof e){if(void 0===s[e])throw new Error("Unrecognized hash function named: "+e);n=s[e]}if("number"!=typeof n)throw new Error("Hash function code should be a number. Got: "+n);if(void 0===c[n]&&!t.isAppCode(n))throw new Error("Unrecognized function code: "+n);return n},t.isAppCode=function(e){return e>0&&e<16},t.isValidCode=function(e){return!!t.isAppCode(e)||!!c[e]},t.validate=f,t.prefix=function(e){return f(e),e.subarray(0,2)}},function(e,t,n){"use strict";const r=n(0),i=n(90),s=n(91),o=n(46),a=n(94);(t=e.exports).addPrefix=(e,t)=>{let n;if(e instanceof Uint8Array)n=o.varintUint8ArrayEncode(e);else{if(!s[e])throw new Error("multicodec not recognized");n=s[e]}return a([n,t],n.length+t.length)},t.rmPrefix=e=>(r.decode(e),e.slice(r.decode.bytes)),t.getCodec=e=>{const t=r.decode(e),n=i.get(t);if(void 0===n)throw new Error(`Code ${t} not found`);return n},t.getName=e=>i.get(e),t.getNumber=e=>{const t=s[e];if(void 0===t)throw new Error("Codec `"+e+"` not found");return o.varintUint8ArrayDecode(t)[0]},t.getCode=e=>r.decode(e),t.getCodeVarint=e=>{const t=s[e];if(void 0===t)throw new Error("Codec `"+e+"` not found");return t},t.getVarint=e=>r.encode(e);const u=n(95);Object.assign(t,u),t.print=n(96)},function(e,t,n){"use strict";e.exports=function(e,{className:t,symbolName:n}){const r=Symbol.for(n),i={[t]:class extends e{constructor(...e){super(...e),Object.defineProperty(this,r,{value:!0})}get[Symbol.toStringTag](){return t}}}[t];return i["is"+t]=e=>!(!e||!e[r]),i},e.exports.proto=function(e,{className:t,symbolName:n,withoutNew:r}){const i=Symbol.for(n),s={[t]:function(...t){if(r&&!(this instanceof s))return new s(...t);const n=e.call(this,...t)||this;return n&&!n[i]&&Object.defineProperty(n,i,{value:!0}),n}}[t];return s.prototype=Object.create(e.prototype),s.prototype.constructor=s,Object.defineProperty(s.prototype,Symbol.toStringTag,{get:()=>t}),s["is"+t]=e=>!(!e||!e[i]),s}},function(e,t,n){"use strict";e.exports=function(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0}},function(e,t,n){"use strict";const r=n(3).Key,i=n(104),s=i.ShardingDatastore;t.CONFIG_KEY=new r("/config"),t.VERSION_KEY=new r("/version"),t.createStore=async function(e,t,n){const{StorageBackend:r,storageOptions:o}=function(e,t){if(!t||!t.storageBackends)throw new Error("Please pass storage backend definitions");if(!t.storageBackends[e])throw new Error(`Storage backend '${e}' not defined in config`);const n=t.storageBackends[e];let r={};return void 0!==t.storageBackendOptions&&void 0!==t.storageBackendOptions[e]&&(r=t.storageBackendOptions[e]),{StorageBackend:n,storageOptions:r}}(t,n);"root"!==t&&(e=`${e}/${t}`);let a=new r(e,o);if(o.sharding){const e=new i.shard.NextToLast(2);a=await s.createOrOpen(a,e)}return await a.close(),a},t.containsIrreversibleMigration=function(e,t,n){return n.filter(n=>n.version>e&&n.version<=t).some(e=>void 0===e.revert)}},function(e,t,n){"use strict";const{Adapter:r,utils:i}=n(3),s=i.map;e.exports=class extends r{constructor(e,t){super(),this.child=e,this.transform=t}open(){return this.child.open()}put(e,t,n){return this.child.put(this.transform.convert(e),t,n)}get(e,t){return this.child.get(this.transform.convert(e),t)}has(e,t){return this.child.has(this.transform.convert(e),t)}delete(e,t){return this.child.delete(this.transform.convert(e),t)}batch(){const e=this.child.batch();return{put:(t,n)=>{e.put(this.transform.convert(t),n)},delete:t=>{e.delete(this.transform.convert(t))},commit:t=>e.commit(t)}}query(e,t){return s(this.child.query(e,t),e=>(e.key=this.transform.invert(e.key),e))}close(){return this.child.close()}}},function(e,t,n){"use strict";(function(t){void 0===t||!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,n,r,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var s,o,a=arguments.length;switch(a){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick((function(){e.call(null,n)}));case 3:return t.nextTick((function(){e.call(null,n,r)}));case 4:return t.nextTick((function(){e.call(null,n,r,i)}));default:for(s=new Array(a-1),o=0;o<s.length;)s[o++]=arguments[o];return t.nextTick((function(){e.apply(null,s)}))}}}:e.exports=t}).call(this,n(11))},function(e,t,n){"use strict";var r=n(2),i=r.Buffer;function s(e,t){for(var n in e)t[n]=e[n]}function o(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(s(r,t),t.Buffer=o),s(i,o),o.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},o.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,t,n){"use strict";(function(t){const r=n(13),i=n(164),s=n(43),o=n(23),a=n(15),u=n(7).BigNumber,c=n(24),f=n(8),h=f.MT,l=f.NUMBYTES,d=(f.SIMPLE,f.SYMS),p=a.bigIntize(f.BI),g=f.BN,b=Symbol("count"),y=(Symbol("pending_key"),Symbol("major type")),m=Symbol("error"),w=Symbol("not found");function k(e,t,n){const r=[];return r[b]=n,r[d.PARENT]=e,r[y]=t,r}function v(e,t){const n=new c;return n[b]=-1,n[d.PARENT]=e,n[y]=t,n}function E(e){return a.bufferToBigInt(e)}function _(e){return p.MINUS_ONE-a.bufferToBigInt(e)}class A extends i{constructor(e){const t=(e=e||{}).tags;delete e.tags;const n=null!=e.max_depth?e.max_depth:-1;delete e.max_depth;const r=!!a.hasBigInt&&!!e.bigint;delete e.bigint,super(e),this.running=!0,this.max_depth=n,this.tags=t,r&&(null==this.tags&&(this.tags={}),null==this.tags[2]&&(this.tags[2]=E),null==this.tags[3]&&(this.tags[3]=_))}static nullcheck(e){switch(e){case d.NULL:return null;case d.UNDEFINED:return;case w:throw new Error("Value not found");default:return e}}static decodeFirstSync(e,t){let n,i={};switch(typeof(t=t||{encoding:"hex"})){case"string":n=t;break;case"object":i=a.extend({},t),n=i.encoding,delete i.encoding}const s=new A(i),o=e instanceof r.Readable?e:new c(e,null!=n?n:a.guessEncoding(e)),u=s._parse();let f=u.next();for(;!f.done;){const e=o.read(f.value);if(null==e||e.length!==f.value)throw new Error("Insufficient data");f=u.next(e)}const h=A.nullcheck(f.value);if(o.length>0){const e=o.read(1);o.unshift(e);const t=new Error("Unexpected data: 0x"+e[0].toString(16));throw t.value=h,t}return h}static decodeAllSync(e,t){let n,i={};switch(typeof(t=t||{encoding:"hex"})){case"string":n=t;break;case"object":i=a.extend({},t),n=i.encoding,delete i.encoding}const s=new A(i),o=e instanceof r.Readable?e:new c(e,null!=n?n:a.guessEncoding(e)),u=[];for(;o.length>0;){const e=s._parse();let t=e.next();for(;!t.done;){const n=o.read(t.value);if(null==n||n.length!==t.value)throw new Error("Insufficient data");t=e.next(n)}u.push(A.nullcheck(t.value))}return u}static decodeFirst(e,t,n){let r={},i=!1,s="hex";switch(typeof t){case"function":n=t,s=a.guessEncoding(e);break;case"string":s=t;break;case"object":r=a.extend({},t),s=null!=r.encoding?r.encoding:a.guessEncoding(e),delete r.encoding,i=null!=r.required&&r.required,delete r.required}const o=new A(r);let u=w;const c=new Promise((e,t)=>{o.on("data",e=>{u=A.nullcheck(e),o.close()}),o.once("error",e=>(u!==w&&(e.value=u),u=m,o.close(),t(e))),o.once("end",()=>{switch(u){case w:return i?t(new Error("No CBOR found")):e(u);case m:return;default:return e(u)}})});return"function"==typeof n&&c.then(e=>n(null,e),n),o.end(e,s),c}static decodeAll(e,t,n){let r={},i="hex";switch(typeof t){case"function":n=t,i=a.guessEncoding(e);break;case"string":i=t;break;case"object":r=a.extend({},t),i=null!=r.encoding?r.encoding:a.guessEncoding(e),delete r.encoding}const s=new A(r),o=[];s.on("data",e=>o.push(A.nullcheck(e)));const u=new Promise((e,t)=>{s.on("error",t),s.on("end",()=>e(o))});return"function"==typeof n&&u.then(e=>n(null,e),n),s.end(e,i),u}close(){this.running=!1,this.__fresh=!0}*_parse(){let e=null,n=0,r=null;for(;;){if(this.max_depth>=0&&n>this.max_depth)throw new Error("Maximum depth "+this.max_depth+" exceeded");const i=(yield 1)[0];if(!this.running)throw new Error("Unexpected data: 0x"+i.toString(16));const f=i>>5,p=31&i,m=null!=e?e[y]:void 0,w=null!=e?e.length:void 0;switch(p){case l.ONE:this.emit("more-bytes",f,1,m,w),r=(yield 1)[0];break;case l.TWO:case l.FOUR:case l.EIGHT:const e=1<<p-24;this.emit("more-bytes",f,e,m,w);const t=yield e;r=f===h.SIMPLE_FLOAT?t:a.parseCBORint(p,t);break;case 28:case 29:case 30:throw this.running=!1,new Error("Additional info not implemented: "+p);case l.INDEFINITE:switch(f){case h.POS_INT:case h.NEG_INT:case h.TAG:throw new Error("Invalid indefinite encoding for MT "+f)}r=-1;break;default:r=p}switch(f){case h.POS_INT:break;case h.NEG_INT:r=r===Number.MAX_SAFE_INTEGER?g.NEG_MAX:r instanceof u?g.MINUS_ONE.minus(r):-1-r;break;case h.BYTE_STRING:case h.UTF8_STRING:switch(r){case 0:this.emit("start-string",f,r,m,w),r=f===h.BYTE_STRING?t.allocUnsafe(0):"";break;case-1:this.emit("start",f,d.STREAM,m,w),e=v(e,f),n++;continue;default:this.emit("start-string",f,r,m,w),r=yield r,f===h.UTF8_STRING&&(r=a.utf8(r))}break;case h.ARRAY:case h.MAP:switch(r){case 0:r=f===h.MAP?{}:[];break;case-1:this.emit("start",f,d.STREAM,m,w),e=k(e,f,-1),n++;continue;default:this.emit("start",f,r,m,w),e=k(e,f,r*(f-3)),n++;continue}break;case h.TAG:this.emit("start",f,r,m,w),e=k(e,f,1),e.push(r),n++;continue;case h.SIMPLE_FLOAT:if("number"==typeof r){if(p===l.ONE&&r<32)throw new Error("Invalid two-byte encoding of simple value "+r);const t=null!=e;r=o.decode(r,t,t&&e[b]<0)}else r=a.parseCBORfloat(r)}this.emit("value",r,m,w,p);let E=!1;for(;null!=e;){switch(!1){case r!==d.BREAK:e[b]=1;break;case!Array.isArray(e):e.push(r);break;case!(e instanceof c):const t=e[y];if(null!=t&&t!==f)throw this.running=!1,new Error("Invalid major type in indefinite encoding");e.write(r)}if(0!=--e[b]){E=!0;break}if(--n,delete e[b],this.emit("stop",e[y]),Array.isArray(e))switch(e[y]){case h.ARRAY:r=e;break;case h.MAP:let t=!0;if(e.length%2!=0)throw new Error("Invalid map length: "+e.length);for(let n=0,r=e.length;n<r;n+=2)if("string"!=typeof e[n]){t=!1;break}if(t){r={};for(let t=0,n=e.length;t<n;t+=2)r[e[t]]=e[t+1]}else{r=new Map;for(let t=0,n=e.length;t<n;t+=2)r.set(e[t],e[t+1])}break;case h.TAG:r=new s(e[0],e[1]).convert(this.tags)}else if(e instanceof c)switch(e[y]){case h.BYTE_STRING:r=e.slice();break;case h.UTF8_STRING:r=e.toString("utf-8")}const t=e;e=e[d.PARENT],delete t[d.PARENT],delete t[y]}if(!E)return r}}}A.NOT_FOUND=w,e.exports=A}).call(this,n(2).Buffer)},function(e,t,n){"use strict";const{TextEncoder:r,TextDecoder:i}=n(18),s=new i,o=new r;e.exports={decodeText:e=>s.decode(e),encodeText:e=>o.encode(e),concat:function(e,t){const n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}}},function(e,t,n){"use strict";e.exports=function(e,t){t||(t=e.reduce((e,t)=>e+t.length,0));const n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}},function(e,t,n){"use strict";const r=n(99),i=n(49),s=n(37);t.utf8Encoder=new i("utf8"),t.utf8Decoder=new s("utf8"),t.filter=(e,t)=>async function*(){for await(const n of e){await t(n)&&(yield n)}}(),t.sortAll=(e,t)=>async function*(){let n=[];for await(const t of e)n.push(t);n=await t(n);for(const e of n)yield e}(),t.take=(e,t)=>async function*(){if(t<=0)return;let n=0;for await(const r of e)if(yield r,n++,n>=t)return}(),t.map=(e,t)=>async function*(){for await(const n of e)yield t(n)}(),t.replaceStartWith=function(e,t){const n=new RegExp("^"+t);return e.replace(n,"")},t.tmpdir=r},function(e,t,n){"use strict";e.exports=n(50).TextDecoder},function(e,t,n){"use strict";var r=n(113),i=n(117);e.exports=function(e,t){if(t||(t={}),!e)throw new Error("Pass in a .proto string or a protobuf-schema parsed object");var n="object"!=typeof e||e instanceof Uint8Array?r.parse(e):e,s=function(){var e=this;i(n,t.encodings||{}).forEach((function(t){e[t.name]=function(e){if(!e)return null;var t={};return Object.keys(e).forEach((function(n){t[n]=e[n].value})),t}(t.values)||t}))};return s.prototype.toString=function(){return r.stringify(n)},s.prototype.toJSON=function(){return n},new s}},function(e,t,n){"use strict";t.defined=function(e){return null!=e&&("number"!=typeof e||!isNaN(e))}},function(e,t,n){"use strict";var r,i="object"==typeof Reflect?Reflect:null,s=i&&"function"==typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise((function(n,r){function i(){void 0!==s&&e.removeListener("error",s),n([].slice.call(arguments))}var s;"error"!==t&&(s=function(n){e.removeListener(t,i),r(n)},e.once("error",s)),e.once(t,i)}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var u=10;function c(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function f(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function h(e,t,n,r){var i,s,o,a;if(c(n),void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),s=e._events),o=s[t]),void 0===o)o=s[t]=n,++e._eventsCount;else if("function"==typeof o?o=s[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),(i=f(e))>0&&o.length>i&&!o.warned){o.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=o.length,a=u,console&&console.warn&&console.warn(a)}return e}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=l.bind(r);return i.listener=n,r.wrapFn=i,i}function p(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):b(i,i.length)}function g(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function b(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return f(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var u=i[e];if(void 0===u)return!1;if("function"==typeof u)s(u,this,t);else{var c=u.length,f=b(u,c);for(n=0;n<c;++n)s(f[n],this,t)}return!0},a.prototype.addListener=function(e,t){return h(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return h(this,e,t,!0)},a.prototype.once=function(e,t){return c(t),this.on(e,d(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return c(t),this.prependListener(e,d(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,r,i,s,o;if(c(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,s=n.length-1;s>=0;s--)if(n[s]===t||n[s].listener===t){o=n[s].listener,i=s;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,o||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,s=Object.keys(n);for(r=0;r<s.length;++r)"removeListener"!==(i=s[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},a.prototype.listeners=function(e){return p(this,e,!0)},a.prototype.rawListeners=function(e){return p(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):g.call(e,t)},a.prototype.listenerCount=g,a.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t,n){"use strict";(t=e.exports=n(68)).Stream=t,t.Readable=t,t.Writable=n(42),t.Duplex=n(6),t.Transform=n(72),t.PassThrough=n(157)},function(e,t,n){"use strict";(function(t,r){var i=n(31);function s(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=y;var o,a=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?setImmediate:i.nextTick;y.WritableState=b;var u=Object.create(n(21));u.inherits=n(14);var c={deprecate:n(156)},f=n(69),h=n(32).Buffer,l=r.Uint8Array||function(){};var d,p=n(70);function g(){}function b(e,t){o=o||n(6),e=e||{};var r=t instanceof o;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var u=e.highWaterMark,c=e.writableHighWaterMark,f=this.objectMode?16:16384;this.highWaterMark=u||0===u?u:r&&(c||0===c)?c:f,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var h=!1===e.decodeStrings;this.decodeStrings=!h,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,s=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,s){--t.pendingcb,n?(i.nextTick(s,r),i.nextTick(_,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(s(r),e._writableState.errorEmitted=!0,e.emit("error",r),_(e,t))}(e,n,r,t,s);else{var o=v(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||k(e,n),r?a(w,e,n,o,s):w(e,n,o,s)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function y(e){if(o=o||n(6),!(d.call(y,this)||this instanceof o))return new y(e);this._writableState=new b(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),f.call(this)}function m(e,t,n,r,i,s,o){t.writelen=r,t.writecb=o,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,s,t.onwrite),t.sync=!1}function w(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),_(e,t)}function k(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,i=new Array(r),o=t.corkedRequestsFree;o.entry=n;for(var a=0,u=!0;n;)i[a]=n,n.isBuf||(u=!1),n=n.next,a+=1;i.allBuffers=u,m(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new s(t),t.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,f=n.encoding,h=n.callback;if(m(e,t,!1,t.objectMode?1:c.length,c,f,h),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function v(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function E(e,t){e._final((function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),_(e,t)}))}function _(e,t){var n=v(t);return n&&(!function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,i.nextTick(E,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}u.inherits(y,f),b.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(b.prototype,"buffer",{get:c.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(d=Function.prototype[Symbol.hasInstance],Object.defineProperty(y,Symbol.hasInstance,{value:function(e){return!!d.call(this,e)||this===y&&(e&&e._writableState instanceof b)}})):d=function(e){return e instanceof this},y.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},y.prototype.write=function(e,t,n){var r,s=this._writableState,o=!1,a=!s.objectMode&&(r=e,h.isBuffer(r)||r instanceof l);return a&&!h.isBuffer(e)&&(e=function(e){return h.from(e)}(e)),"function"==typeof t&&(n=t,t=null),a?t="buffer":t||(t=s.defaultEncoding),"function"!=typeof n&&(n=g),s.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),i.nextTick(t,n)}(this,n):(a||function(e,t,n,r){var s=!0,o=!1;return null===n?o=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),i.nextTick(r,o),s=!1),s}(this,s,e,n))&&(s.pendingcb++,o=function(e,t,n,r,i,s){if(!n){var o=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=h.from(t,n));return t}(t,r,i);r!==o&&(n=!0,i="buffer",r=o)}var a=t.objectMode?1:r.length;t.length+=a;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);if(t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:s,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else m(e,t,!1,a,r,i,s);return u}(this,s,a,e,t,n)),o},y.prototype.cork=function(){this._writableState.corked++},y.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||k(this,e))},y.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),y.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},y.prototype._writev=null,y.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(e,t,n){t.ending=!0,_(e,t),n&&(t.finished?i.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,r,n)},Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),y.prototype.destroy=p.destroy,y.prototype._undestroy=p.undestroy,y.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,n(11),n(9))},function(e,t,n){"use strict";const r=n(7).BigNumber,i=n(15),s=n(73),o=new r(-1),a=new r(10),u=new r(2);class c{constructor(e,t,n){if(this.tag=e,this.value=t,this.err=n,"number"!=typeof this.tag)throw new Error("Invalid tag type ("+typeof this.tag+")");if(this.tag<0||(0|this.tag)!==this.tag)throw new Error("Tag must be a positive integer: "+this.tag)}toString(){return`${this.tag}(${JSON.stringify(this.value)})`}encodeCBOR(e){return e._pushTag(this.tag),e.pushAny(this.value)}convert(e){let t=null!=e?e[this.tag]:void 0;if("function"!=typeof t&&(t=c["_tag_"+this.tag],"function"!=typeof t))return this;try{return t.call(c,this.value)}catch(n){return this.err=n,this}}static _tag_0(e){return new Date(e)}static _tag_1(e){return new Date(1e3*e)}static _tag_2(e){return i.bufferToBignumber(e)}static _tag_3(e){return o.minus(i.bufferToBignumber(e))}static _tag_4(e){return a.pow(e[0]).times(e[1])}static _tag_5(e){return u.pow(e[0]).times(e[1])}static _tag_32(e){return s.parse(e)}static _tag_35(e){return new RegExp(e)}}e.exports=c},function(e,t,n){"use strict";class r extends Error{constructor(e){super(e),this.name="NonReversibleMigrationError",this.code="ERR_NON_REVERSIBLE_MIGRATION",this.message=e}}r.code="ERR_NON_REVERSIBLE_MIGRATION",t.NonReversibleMigrationError=r;class i extends Error{constructor(e){super(e),this.name="NotInitializedRepoError",this.code="ERR_NOT_INITIALIZED_REPO",this.message=e}}i.code="ERR_NOT_INITIALIZED_REPO",t.NotInitializedRepoError=i;class s extends Error{constructor(e){super(e),this.name="RequiredParameterError",this.code="ERR_REQUIRED_PARAMETER",this.message=e}}s.code="ERR_REQUIRED_PARAMETER",t.RequiredParameterError=s;class o extends Error{constructor(e){super(e),this.name="InvalidValueError",this.code="ERR_INVALID_VALUE",this.message=e}}o.code="ERR_INVALID_VALUE",t.InvalidValueError=o;class a extends Error{constructor(e){super(e),this.name="MissingRepoOptionsError",this.code="ERR_MISSING_REPO_OPTIONS",this.message=e}}a.code="ERR_MISSING_REPO_OPTIONS",t.MissingRepoOptionsError=a},function(e,t,n){"use strict";var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,n){"use strict";const r=n(0),i=n(92),s=n(93);function o(e){return parseInt(i(e,"base16"),16)}function a(e){let t=e.toString(16);return t.length%2==1&&(t="0"+t),s(t,"base16")}e.exports={numberToUint8Array:a,uint8ArrayToNumber:o,varintUint8ArrayEncode:function(e){return Uint8Array.from(r.encode(o(e)))},varintUint8ArrayDecode:function(e){return a(r.decode(e))},varintEncode:function(e){return Uint8Array.from(r.encode(e))}}},function(e,t,n){"use strict";const{nanoid:r}=n(48),i=n(27),{utf8Encoder:s,utf8Decoder:o}=n(36),a=n(37),u=s.encode("/"),c=u[0];class f{constructor(e,t){if("string"==typeof e)this._buf=s.encode(e);else{if(!(e instanceof Uint8Array))throw new Error("Invalid key, should be String of Uint8Array");this._buf=e}if(null==t&&(t=!0),t&&this.clean(),0===this._buf.byteLength||this._buf[0]!==c)throw new Error("Invalid key")}toString(e="utf8"){return"utf8"===e||"utf-8"===e?o.decode(this._buf):new a(e).decode(this._buf)}uint8Array(){return this._buf}get[Symbol.toStringTag](){return`Key(${this.toString()})`}static withNamespaces(e){return new h(e.join("/"))}static random(){return new h(r().replace(/-/g,""))}clean(){if(this._buf&&0!==this._buf.byteLength||(this._buf=u),this._buf[0]!==c){const e=new Uint8Array(this._buf.byteLength+1);e.fill(c,0,1),e.set(this._buf,1),this._buf=e}for(;this._buf.byteLength>1&&this._buf[this._buf.byteLength-1]===c;)this._buf=this._buf.subarray(0,-1)}less(e){const t=this.list(),n=e.list();for(let r=0;r<t.length;r++){if(n.length<r+1)return!1;const e=t[r],i=n[r];if(e<i)return!0;if(e>i)return!1}return t.length<n.length}reverse(){return f.withNamespaces(this.list().slice().reverse())}namespaces(){return this.list()}baseNamespace(){const e=this.namespaces();return e[e.length-1]}list(){return this.toString().split("/").slice(1)}type(){return function(e){const t=e.split(":");if(t.length<2)return"";return t.slice(0,-1).join(":")}(this.baseNamespace())}name(){return function(e){const t=e.split(":");return t[t.length-1]}(this.baseNamespace())}instance(e){return new h(this.toString()+":"+e)}path(){let e=this.parent().toString();return e.endsWith("/")||(e+="/"),e+=this.type(),new h(e)}parent(){const e=this.list();return 1===e.length?new h("/"):new h(e.slice(0,-1).join("/"))}child(e){return"/"===this.toString()?e:"/"===e.toString()?this:new h(this.toString()+e.toString(),!1)}isAncestorOf(e){return e.toString()!==this.toString()&&e.toString().startsWith(this.toString())}isDecendantOf(e){return e.toString()!==this.toString()&&this.toString().startsWith(e.toString())}isTopLevel(){return 1===this.list().length}concat(...e){return f.withNamespaces([...this.namespaces(),...(t=e.map(e=>e.namespaces()),[].concat(...t))]);var t}}const h=i(f,{className:"Key",symbolName:"@ipfs/interface-datastore/key"});e.exports=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"urlAlphabet",{enumerable:!0,get:function(){return r.urlAlphabet}}),t.random=t.customRandom=t.customAlphabet=t.nanoid=void 0;var r=n(98);let i=e=>crypto.getRandomValues(new Uint8Array(e));t.random=i;let s=(e,t,n)=>{let r=(2<<Math.log(e.length-1)/Math.LN2)-1,i=-~(1.6*r*t/e.length);return()=>{let s="";for(;;){let o=n(i),a=i;for(;a--;)if(s+=e[o[a]&r]||"",s.length===+t)return s}}};t.customRandom=s;t.customAlphabet=(e,t)=>s(e,t,i);t.nanoid=(e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e));for(;e--;){let r=63&n[e];t+=r<36?r.toString(36):r<62?(r-26).toString(36).toUpperCase():r<63?"_":"-"}return t}},function(e,t,n){"use strict";e.exports=n(50).TextEncoder},function(e,t,n){"use strict";"object"!=typeof globalThis&&(Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__),e.exports=globalThis},function(e,t,n){"use strict";const{filter:r,sortAll:i,take:s,map:o}=n(36),a=n(101);e.exports=class{async open(){}async close(){}async put(e,t,n={}){}async*putMany(e,t={}){for await(const{key:n,value:r}of e)await this.put(n,r,t),yield{key:n,value:r}}async get(e,t={}){}async*getMany(e,t={}){for await(const n of e)yield this.get(n,t)}async has(e){}async delete(e,t={}){}async*deleteMany(e,t={}){for await(const n of e)await this.delete(n,t),yield n}batch(){let e=[],t=[];return{put(t,n){e.push({key:t,value:n})},delete(e){t.push(e)},commit:async n=>{await a(this.putMany(e,n)),e=[],await a(this.deleteMany(t,n)),t=[]}}}async*_all(e,t){}async*query(e,t){let n=this._all(e,t);if(null!=e.prefix&&(n=r(n,t=>t.key.toString().startsWith(e.prefix))),Array.isArray(e.filters)&&(n=e.filters.reduce((e,t)=>r(e,t),n)),Array.isArray(e.orders)&&(n=e.orders.reduce((e,t)=>i(e,t),n)),null!=e.offset){let t=0;n=r(n,()=>t++>=e.offset)}null!=e.limit&&(n=s(n,e.limit)),!0===e.keysOnly&&(n=o(n,e=>({key:e.key}))),yield*n}}},function(e,t,n){"use strict";const r=n(53);e.exports.dbOpenFailedError=e=>(e=e||new Error("Cannot open database"),r(e,"ERR_DB_OPEN_FAILED")),e.exports.dbDeleteFailedError=e=>(e=e||new Error("Delete failed"),r(e,"ERR_DB_DELETE_FAILED")),e.exports.dbWriteFailedError=e=>(e=e||new Error("Write failed"),r(e,"ERR_DB_WRITE_FAILED")),e.exports.notFoundError=e=>(e=e||new Error("Not Found"),r(e,"ERR_NOT_FOUND")),e.exports.abortedError=e=>(e=e||new Error("Aborted"),r(e,"ERR_ABORTED"))},function(e,t,n){"use strict";function r(e,t){for(const n in t)Object.defineProperty(e,n,{value:t[n],enumerable:!0,configurable:!0});return e}e.exports=function(e,t,n){if(!e||"string"==typeof e)throw new TypeError("Please pass an Error to err-code");n||(n={}),"object"==typeof t&&(n=t,t=void 0),null!=t&&(n.code=t);try{return r(e,n)}catch(i){n.message=e.message,n.stack=e.stack;const t=function(){};return t.prototype=Object.create(Object.getPrototypeOf(e)),r(new t,n)}}},function(e,t,n){"use strict";const r=n(3).Key,{utf8Decoder:i}=n(55),s=n(106),o=t.PREFIX="/repo/flatfs/shard/",a=t.SHARDING_FN="SHARDING";t.README_FN="_README";class u{constructor(e){this.param=e}fun(e){throw new Error("implement me")}toString(){return`${o}v1/${this.name}/${this.param}`}}class c extends u{constructor(e){super(e),this._padding="".padStart(e,"_"),this.name="prefix"}fun(e){return(e+this._padding).slice(0,this.param)}}class f extends u{constructor(e){super(e),this._padding="".padStart(e,"_"),this.name="suffix"}fun(e){const t=this._padding+e;return t.slice(t.length-this.param)}}class h extends u{constructor(e){super(e),this._padding="".padStart(e+1,"_"),this.name="next-to-last"}fun(e){const t=this._padding+e,n=t.length-this.param-1;return t.slice(n,n+this.param)}}function l(e){if(0===(e=e.trim()).length)throw new Error("empty shard string");if(!e.startsWith(o))throw new Error("invalid or no path prefix: "+e);const t=e.slice(o.length).split("/"),n=t[0];if("v1"!==n)throw new Error(`expect 'v1' version, got '${n}'`);const r=t[1];if(!t[2])throw new Error("missing param");const i=parseInt(t[2],10);switch(r){case"prefix":return new c(i);case"suffix":return new f(i);case"next-to-last":return new h(i);default:throw new Error("unkown sharding function: "+r)}}t.readShardFun=async(e,t)=>{const n=new r(e).child(new r(a)),s="function"==typeof t.getRaw?t.getRaw.bind(t):t.get.bind(t),o=await s(n);return l(i.decode(o||"").trim())},t.readme=s,t.parseShardFun=l,t.Prefix=c,t.Suffix=f,t.NextToLast=h},function(e,t,n){"use strict";const r=n(49),i=n(37);e.exports.utf8Encoder=new r("utf8"),e.exports.utf8Decoder=new i("utf8")},function(e,t,n){"use strict";e.exports=async e=>{let t=0;for await(const n of e)t++;return t}},function(e,t,n){"use strict";t.DAGNode=n(111),t.DAGLink=n(66),t.resolver=n(150),t.util=n(67),t.codec=t.util.codec,t.defaultHashAlg=t.util.defaultHashAlg},function(e,t,n){"use strict";const r=n(27),i=n(59),s=n(12),{serializeDAGNode:o}=n(61),a=n(135),u=n(147),c=n(149),f=n(5),h=n(10);e.exports=r(class{constructor(e,t=[],n=null){if(e||(e=new Uint8Array(0)),"string"==typeof e&&(e=f(e)),!(e instanceof Uint8Array))throw new Error("Passed 'data' is not a Uint8Array or a String!");if(null!==n&&"number"!=typeof n)throw new Error("Passed 'serializedSize' must be a number!");t=t.map(e=>s.isDAGLink(e)?e:s.util.createDagLinkFromB58EncodedHash(e)),i(t),Object.defineProperties(this,{Data:{value:e,writable:!1,enumerable:!0},Links:{value:t,writable:!1,enumerable:!0},_serializedSize:{value:n,writable:!0,enumerable:!1},_size:{value:null,writable:!0,enumerable:!1}})}toJSON(){return this._json||(this._json=Object.freeze({data:this.Data,links:this.Links.map(e=>e.toJSON()),size:this.size})),Object.assign({},this._json)}toString(){return`DAGNode <data: "${h(this.Data,"base64urlpad")}", links: ${this.Links.length}, size: ${this.size}>`}_invalidateCached(){this._serializedSize=null,this._size=null}addLink(e){return this._invalidateCached(),u(this,e)}rmLink(e){return this._invalidateCached(),c(this,e)}toDAGLink(e){return a(this,e)}serialize(){return o(this)}get size(){return null===this._size&&(null===this._serializedSize&&(this._serializedSize=this.serialize().length),this._size=this.Links.reduce((e,t)=>e+t.Tsize,this._serializedSize)),this._size}set size(e){throw new Error("Can't set property: 'size' is immutable")}},{className:"DAGNode",symbolName:"@ipld/js-ipld-dag-pb/dagnode"})},function(e,t,n){"use strict";const r=n(112),i=n(60),s=(e,t)=>{const n=e.nameAsBuffer,r=t.nameAsBuffer;return i(n,r)};e.exports=e=>{r.inplace(e,s)}},function(e,t,n){"use strict";e.exports=function(e,t){for(let n=0;n<e.byteLength;n++){if(e[n]<t[n])return-1;if(e[n]>t[n])return 1}return e.byteLength>t.byteLength?1:e.byteLength<t.byteLength?-1:0}},function(e,t,n){"use strict";const r=n(38)(n(62)),i=n(12);t=e.exports;const s=e=>{const t=e.Data,n=e.Links||[];return r.PBNode.encode((e=>{const t={};return e.Data&&e.Data.byteLength>0?t.Data=e.Data:t.Data=null,e.Links&&e.Links.length>0?t.Links=e.Links.map(e=>({Hash:e.Hash.bytes,Name:e.Name,Tsize:e.Tsize})):t.Links=null,t})({Data:t,Links:n}))};t.serializeDAGNode=s,t.serializeDAGNodeLike=(e,t=[])=>{const n={Data:e};return n.Links=t.map(e=>i.isDAGLink(e)?e:i.util.createDagLinkFromB58EncodedHash(e)),s(n)}},function(e,t,n){"use strict";e.exports="// An IPFS MerkleDAG Link\nmessage PBLink {\n\n  // multihash of the target object\n  optional bytes Hash = 1;\n\n  // utf string name. should be unique per object\n  optional string Name = 2;\n\n  // cumulative size of target object\n  optional uint64 Tsize = 3;\n}\n\n// An IPFS MerkleDAG Node\nmessage PBNode {\n\n  // refs to other objects\n  repeated PBLink Links = 2;\n\n  // opaque user data\n  optional bytes Data = 1;\n}"},function(e,t,n){"use strict";const r=n(4),i=n(26),s=n(64);(t=e.exports).codec=i.DAG_PB,t.defaultHashAlg=i.SHA2_256;t.cid=async(e,n)=>{const o={cidVersion:1,hashAlg:t.defaultHashAlg},a=Object.assign(o,n),u=await s(e,a.hashAlg),c=i.print[t.codec];return new r(a.cidVersion,c,u)}},function(e,t,n){"use strict";const r=n(53),i=n(25),s=n(136),o=n(28);async function a(e,t,n){const r=await a.digest(e,t,n);return i.encode(r,t,n)}a.multihash=i,a.digest=async(e,t,n)=>{const r=a.createHash(t),i=await r(e);return n?i.slice(0,n):i},a.createHash=function(e){if(!e)throw r(new Error("hash algorithm must be specified"),"ERR_HASH_ALGORITHM_NOT_SPECIFIED");if(e=i.coerceCode(e),!a.functions[e])throw r(new Error(`multihash function '${e}' not yet supported`),"ERR_HASH_ALGORITHM_NOT_SUPPORTED");return a.functions[e]},a.functions={0:s.identity,17:s.sha1,18:s.sha2256,19:s.sha2512,20:s.sha3512,21:s.sha3384,22:s.sha3256,23:s.sha3224,24:s.shake128,25:s.shake256,26:s.keccak224,27:s.keccak256,28:s.keccak384,29:s.keccak512,34:s.murmur3128,35:s.murmur332,86:s.dblSha2256},s.addBlake(a.functions),a.validate=async(e,t)=>{const n=await a(e,i.decode(t).name);return o(t,n)},e.exports=a},function(e,t,n){"use strict";(function(t){function n(e){return(4294967296+e).toString(16).substring(1)}e.exports={normalizeInput:function(e){var n;if(e instanceof Uint8Array)n=e;else if(e instanceof t)n=new Uint8Array(e);else{if("string"!=typeof e)throw new Error("Input must be an string, Buffer or Uint8Array");n=new Uint8Array(t.from(e,"utf8"))}return n},toHex:function(e){return Array.prototype.map.call(e,(function(e){return(e<16?"0":"")+e.toString(16)})).join("")},debugPrint:function(e,t,r){for(var i="\n"+e+" = ",s=0;s<t.length;s+=2){if(32===r)i+=n(t[s]).toUpperCase(),i+=" ",i+=n(t[s+1]).toUpperCase();else{if(64!==r)throw new Error("Invalid size "+r);i+=n(t[s+1]).toUpperCase(),i+=n(t[s]).toUpperCase()}s%6==4?i+="\n"+new Array(e.length+4).join(" "):s<t.length-2&&(i+=" ")}console.log(i)},testSpeed:function(e,t,n){for(var r=(new Date).getTime(),i=new Uint8Array(t),s=0;s<t;s++)i[s]=s%256;var o=(new Date).getTime();for(console.log("Generated random input in "+(o-r)+"ms"),r=o,s=0;s<n;s++){var a=e(i),u=(new Date).getTime(),c=u-r;r=u,console.log("Hashed in "+c+"ms: "+a.substring(0,20)+"..."),console.log(Math.round(t/(1<<20)/(c/1e3)*100)/100+" MB PER SECOND")}}}}).call(this,n(2).Buffer)},function(e,t,n){"use strict";(e.exports=n(12)).util=n(148)},function(e,t,n){"use strict";const r=n(38)(n(62)),i=n(12),s=n(58),{serializeDAGNodeLike:o}=n(61),a=n(63);(t=e.exports).codec=a.codec,t.defaultHashAlg=a.defaultHashAlg;t.serialize=e=>s.isDAGNode(e)?e.serialize():o(e.Data,e.Links),t.deserialize=e=>{const t=r.PBNode.decode(e),n=t.Links.map(e=>new i(e.Name,e.Tsize,e.Hash)),o=null==t.Data?new Uint8Array(0):t.Data;return new s(o,n,e.byteLength)},t.cid=(e,t)=>a.cid(e,t)},function(e,t,n){"use strict";(function(t,r){var i=n(31);e.exports=w;var s,o=n(45);w.ReadableState=m;n(40).EventEmitter;var a=function(e,t){return e.listeners(t).length},u=n(69),c=n(32).Buffer,f=t.Uint8Array||function(){};var h=Object.create(n(21));h.inherits=n(14);var l=n(153),d=void 0;d=l&&l.debuglog?l.debuglog("stream"):function(){};var p,g=n(154),b=n(70);h.inherits(w,u);var y=["error","close","destroy","pause","resume"];function m(e,t){e=e||{};var r=t instanceof(s=s||n(6));this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,o=e.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(o||0===o)?o:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=n(71).StringDecoder),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function w(e){if(s=s||n(6),!(this instanceof w))return new w(e);this._readableState=new m(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),u.call(this)}function k(e,t,n,r,i){var s,o=e._readableState;null===t?(o.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,_(e)}(e,o)):(i||(s=function(e,t){var n;r=t,c.isBuffer(r)||r instanceof f||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var r;return n}(o,t)),s?e.emit("error",s):o.objectMode||t&&t.length>0?("string"==typeof t||o.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),r?o.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):v(e,o,t,!0):o.ended?e.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!n?(t=o.decoder.write(t),o.objectMode||0!==t.length?v(e,o,t,!1):S(e,o)):v(e,o,t,!1))):r||(o.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(o)}function v(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&_(e)),S(e,t)}Object.defineProperty(w.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),w.prototype.destroy=b.destroy,w.prototype._undestroy=b.undestroy,w.prototype._destroy=function(e,t){this.push(null),t(e)},w.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=c.from(e,t),t=""),n=!0),k(this,e,t,!1,n)},w.prototype.unshift=function(e){return k(this,e,null,!0,!1)},w.prototype.isPaused=function(){return!1===this._readableState.flowing},w.prototype.setEncoding=function(e){return p||(p=n(71).StringDecoder),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};function E(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=8388608?e=8388608:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function _(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(d("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i.nextTick(A,e):A(e))}function A(e){d("emit readable"),e.emit("readable"),N(e)}function S(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(x,e,t))}function x(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(d("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function I(e){d("readable nexttick read 0"),e.read(0)}function T(e,t){t.reading||(d("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),N(e),t.flowing&&!t.reading&&e.read(0)}function N(e){var t=e._readableState;for(d("flow",t.flowing);t.flowing&&null!==e.read(););}function O(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var r;e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,r=1,i=n.data;e-=i.length;for(;n=n.next;){var s=n.data,o=e>s.length?s.length:e;if(o===s.length?i+=s:i+=s.slice(0,e),0===(e-=o)){o===s.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=s.slice(o));break}++r}return t.length-=r,i}(e,t):function(e,t){var n=c.allocUnsafe(e),r=t.head,i=1;r.data.copy(n),e-=r.data.length;for(;r=r.next;){var s=r.data,o=e>s.length?s.length:e;if(s.copy(n,n.length-e,0,o),0===(e-=o)){o===s.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=s.slice(o));break}++i}return t.length-=i,n}(e,t);return r}(e,t.buffer,t.decoder),n);var n}function R(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i.nextTick(U,t,e))}function U(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function B(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}w.prototype.read=function(e){d("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return d("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?R(this):_(this),null;if(0===(e=E(e,t))&&t.ended)return 0===t.length&&R(this),null;var r,i=t.needReadable;return d("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&d("length less than watermark",i=!0),t.ended||t.reading?d("reading or ended",i=!1):i&&(d("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=E(n,t))),null===(r=e>0?O(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&R(this)),null!==r&&this.emit("data",r),r},w.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},w.prototype.pipe=function(e,t){var n=this,s=this._readableState;switch(s.pipesCount){case 0:s.pipes=e;break;case 1:s.pipes=[s.pipes,e];break;default:s.pipes.push(e)}s.pipesCount+=1,d("pipe count=%d opts=%j",s.pipesCount,t);var u=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?f:w;function c(t,r){d("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,d("cleanup"),e.removeListener("close",y),e.removeListener("finish",m),e.removeListener("drain",h),e.removeListener("error",b),e.removeListener("unpipe",c),n.removeListener("end",f),n.removeListener("end",w),n.removeListener("data",g),l=!0,!s.awaitDrain||e._writableState&&!e._writableState.needDrain||h())}function f(){d("onend"),e.end()}s.endEmitted?i.nextTick(u):n.once("end",u),e.on("unpipe",c);var h=function(e){return function(){var t=e._readableState;d("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&a(e,"data")&&(t.flowing=!0,N(e))}}(n);e.on("drain",h);var l=!1;var p=!1;function g(t){d("ondata"),p=!1,!1!==e.write(t)||p||((1===s.pipesCount&&s.pipes===e||s.pipesCount>1&&-1!==B(s.pipes,e))&&!l&&(d("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,p=!0),n.pause())}function b(t){d("onerror",t),w(),e.removeListener("error",b),0===a(e,"error")&&e.emit("error",t)}function y(){e.removeListener("finish",m),w()}function m(){d("onfinish"),e.removeListener("close",y),w()}function w(){d("unpipe"),n.unpipe(e)}return n.on("data",g),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?o(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",b),e.once("close",y),e.once("finish",m),e.emit("pipe",n),s.flowing||(d("pipe resume"),n.resume()),e},w.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var s=0;s<i;s++)r[s].emit("unpipe",this,n);return this}var o=B(t.pipes,e);return-1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},w.prototype.on=function(e,t){var n=u.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&_(this):i.nextTick(I,this))}return n},w.prototype.addListener=w.prototype.on,w.prototype.resume=function(){var e=this._readableState;return e.flowing||(d("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(T,e,t))}(this,e)),this},w.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this},w.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",(function(){if(d("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(d("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i)||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var s=0;s<y.length;s++)e.on(y[s],this.emit.bind(this,y[s]));return this._read=function(t){d("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(w.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),w._fromList=O}).call(this,n(9),n(11))},function(e,t,n){"use strict";e.exports=n(40).EventEmitter},function(e,t,n){"use strict";var r=n(31);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,s=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return s||o?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||r.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(r.nextTick(i,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,n){"use strict";var r=n(32).Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=c,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=f,this.end=h,t=3;break;default:return this.write=l,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function o(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function f(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function h(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function l(e){return e.toString(this.encoding)}function d(e){return e&&e.length?this.write(e):""}t.StringDecoder=s,s.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},s.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},s.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=o(t[r]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--r<n||-2===i)return 0;if((i=o(t[r]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--r<n||-2===i)return 0;if((i=o(t[r]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},s.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){"use strict";e.exports=o;var r=n(6),i=Object.create(n(21));function s(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function o(e){if(!(this instanceof o))return new o(e);r.call(this,e),this._transformState={afterTransform:s.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",a)}function a(){var e=this;"function"==typeof this._flush?this._flush((function(t,n){u(e,t,n)})):u(this,null,null)}function u(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=n(14),i.inherits(o,r),o.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},o.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},o.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},o.prototype._destroy=function(e,t){var n=this;r.prototype._destroy.call(this,e,(function(e){t(e),n.emit("close")}))}},function(e,t,n){"use strict";var r=n(165),i=n(167);function s(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=w,t.resolve=function(e,t){return w(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?w(e,!1,!0).resolveObject(t):t},t.format=function(e){i.isString(e)&&(e=w(e));return e instanceof s?e.format():s.prototype.format.call(e)},t.Url=s;var o=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),f=["'"].concat(c),h=["%","/","?",";","#"].concat(f),l=["/","?","#"],d=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},b={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},m=n(168);function w(e,t,n){if(e&&i.isObject(e)&&e instanceof s)return e;var r=new s;return r.parse(e,t,n),r}s.prototype.parse=function(e,t,n){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var s=e.indexOf("?"),a=-1!==s&&s<e.indexOf("#")?"?":"#",c=e.split(a);c[0]=c[0].replace(/\\/g,"/");var w=e=c.join(a);if(w=w.trim(),!n&&1===e.split("#").length){var k=u.exec(w);if(k)return this.path=w,this.href=w,this.pathname=k[1],k[2]?(this.search=k[2],this.query=t?m.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var v=o.exec(w);if(v){var E=(v=v[0]).toLowerCase();this.protocol=E,w=w.substr(v.length)}if(n||v||w.match(/^\/\/[^@\/]+@[^@\/]+/)){var _="//"===w.substr(0,2);!_||v&&b[v]||(w=w.substr(2),this.slashes=!0)}if(!b[v]&&(_||v&&!y[v])){for(var A,S,x=-1,I=0;I<l.length;I++){-1!==(T=w.indexOf(l[I]))&&(-1===x||T<x)&&(x=T)}-1!==(S=-1===x?w.lastIndexOf("@"):w.lastIndexOf("@",x))&&(A=w.slice(0,S),w=w.slice(S+1),this.auth=decodeURIComponent(A)),x=-1;for(I=0;I<h.length;I++){var T;-1!==(T=w.indexOf(h[I]))&&(-1===x||T<x)&&(x=T)}-1===x&&(x=w.length),this.host=w.slice(0,x),w=w.slice(x),this.parseHost(),this.hostname=this.hostname||"";var N="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!N)for(var O=this.hostname.split(/\./),R=(I=0,O.length);I<R;I++){var U=O[I];if(U&&!U.match(d)){for(var B="",C=0,L=U.length;C<L;C++)U.charCodeAt(C)>127?B+="x":B+=U[C];if(!B.match(d)){var M=O.slice(0,I),j=O.slice(I+1),D=U.match(p);D&&(M.push(D[1]),j.unshift(D[2])),j.length&&(w="/"+j.join(".")+w),this.hostname=M.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),N||(this.hostname=r.toASCII(this.hostname));var P=this.port?":"+this.port:"",F=this.hostname||"";this.host=F+P,this.href+=this.host,N&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==w[0]&&(w="/"+w))}if(!g[E])for(I=0,R=f.length;I<R;I++){var z=f[I];if(-1!==w.indexOf(z)){var G=encodeURIComponent(z);G===z&&(G=escape(z)),w=w.split(z).join(G)}}var q=w.indexOf("#");-1!==q&&(this.hash=w.substr(q),w=w.slice(0,q));var H=w.indexOf("?");if(-1!==H?(this.search=w.substr(H),this.query=w.substr(H+1),t&&(this.query=m.parse(this.query)),w=w.slice(0,H)):t&&(this.search="",this.query={}),w&&(this.pathname=w),y[E]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){P=this.pathname||"";var Y=this.search||"";this.path=P+Y}return this.href=this.format(),this},s.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",s=!1,o="";this.host?s=e+this.host:this.hostname&&(s=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(s+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(o=m.stringify(this.query));var a=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||y[t])&&!1!==s?(s="//"+(s||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):s||(s=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),t+s+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(a=a.replace("#","%23"))+r},s.prototype.resolve=function(e){return this.resolveObject(w(e,!1,!0)).format()},s.prototype.resolveObject=function(e){if(i.isString(e)){var t=new s;t.parse(e,!1,!0),e=t}for(var n=new s,r=Object.keys(this),o=0;o<r.length;o++){var a=r[o];n[a]=this[a]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var u=Object.keys(e),c=0;c<u.length;c++){var f=u[c];"protocol"!==f&&(n[f]=e[f])}return y[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!y[e.protocol]){for(var h=Object.keys(e),l=0;l<h.length;l++){var d=h[l];n[d]=e[d]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||b[e.protocol])n.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),n.pathname=p.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var g=n.pathname||"",m=n.search||"";n.path=g+m}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var w=n.pathname&&"/"===n.pathname.charAt(0),k=e.host||e.pathname&&"/"===e.pathname.charAt(0),v=k||w||n.host&&e.pathname,E=v,_=n.pathname&&n.pathname.split("/")||[],A=(p=e.pathname&&e.pathname.split("/")||[],n.protocol&&!y[n.protocol]);if(A&&(n.hostname="",n.port=null,n.host&&(""===_[0]?_[0]=n.host:_.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),v=v&&(""===p[0]||""===_[0])),k)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,_=p;else if(p.length)_||(_=[]),_.pop(),_=_.concat(p),n.search=e.search,n.query=e.query;else if(!i.isNullOrUndefined(e.search)){if(A)n.hostname=n.host=_.shift(),(N=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=N.shift(),n.host=n.hostname=N.shift());return n.search=e.search,n.query=e.query,i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!_.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var S=_.slice(-1)[0],x=(n.host||e.host||_.length>1)&&("."===S||".."===S)||""===S,I=0,T=_.length;T>=0;T--)"."===(S=_[T])?_.splice(T,1):".."===S?(_.splice(T,1),I++):I&&(_.splice(T,1),I--);if(!v&&!E)for(;I--;I)_.unshift("..");!v||""===_[0]||_[0]&&"/"===_[0].charAt(0)||_.unshift(""),x&&"/"!==_.join("/").substr(-1)&&_.push("");var N,O=""===_[0]||_[0]&&"/"===_[0].charAt(0);A&&(n.hostname=n.host=O?"":_.length?_.shift():"",(N=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=N.shift(),n.host=n.hostname=N.shift()));return(v=v||n.host&&_.length)&&!O&&_.unshift(""),_.length?n.pathname=_.join("/"):(n.pathname=null,n.path=null),i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},s.prototype.parseHost=function(){var e=this.host,t=a.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,n){"use strict";(function(t){const r=n(13),i=n(73),s=n(7).BigNumber,o=n(24),a=(n(43),n(23),n(15)),u=n(8),c=u.MT,f=u.NUMBYTES,h=u.SHIFT32,l=u.SYMS,d=u.TAG,p=u.MT.SIMPLE_FLOAT<<5|u.NUMBYTES.TWO,g=u.MT.SIMPLE_FLOAT<<5|u.NUMBYTES.FOUR,b=u.MT.SIMPLE_FLOAT<<5|u.NUMBYTES.EIGHT,y=u.MT.SIMPLE_FLOAT<<5|u.SIMPLE.TRUE,m=u.MT.SIMPLE_FLOAT<<5|u.SIMPLE.FALSE,w=u.MT.SIMPLE_FLOAT<<5|u.SIMPLE.UNDEFINED,k=u.MT.SIMPLE_FLOAT<<5|u.SIMPLE.NULL,v=a.bigIntize(u.BI),E=u.BN,_=t.from("f97e00","hex"),A=t.from("f9fc00","hex"),S=t.from("f97c00","hex"),x=t.from("f98000","hex"),I=Symbol("CBOR_LOOP_DETECT");class T extends r.Transform{constructor(e){const n=Object.assign({},e,{readableObjectMode:!1,writableObjectMode:!0});super(n),this.canonical=n.canonical,this.encodeUndefined=n.encodeUndefined,this.disallowUndefinedKeys=!!n.disallowUndefinedKeys,this.dateType=null!=n.dateType?n.dateType.toLowerCase():"number",this.collapseBigIntegers=!!n.collapseBigIntegers,"symbol"==typeof n.detectLoops?this.detectLoops=n.detectLoops:this.detectLoops=n.detectLoops?Symbol("CBOR_DETECT"):null,this.semanticTypes=[Array,this._pushArray,Date,this._pushDate,t,this._pushBuffer,Map,this._pushMap,o,this._pushNoFilter,RegExp,this._pushRegexp,Set,this._pushSet,s,this._pushBigNumber,ArrayBuffer,this._pushUint8Array,Uint8ClampedArray,this._pushUint8Array,Uint8Array,this._pushUint8Array,Uint16Array,this._pushArray,Uint32Array,this._pushArray,Int8Array,this._pushArray,Int16Array,this._pushArray,Int32Array,this._pushArray,Float32Array,this._pushFloat32Array,Float64Array,this._pushFloat64Array],i.Url&&this.semanticTypes.push(i.Url,this._pushUrl),i.URL&&this.semanticTypes.push(i.URL,this._pushURL);const r=n.genTypes||[];for(let t=0,i=r.length;t<i;t+=2)this.addSemanticType(r[t],r[t+1])}_transform(e,t,n){return n(!1===this.pushAny(e)?new Error("Push Error"):void 0)}_flush(e){return e()}addSemanticType(e,t){for(let n=0,r=this.semanticTypes.length;n<r;n+=2){if(this.semanticTypes[n]===e){const e=this.semanticTypes[n+1];return this.semanticTypes[n+1]=t,e}}return this.semanticTypes.push(e,t),null}_pushUInt8(e){const n=t.allocUnsafe(1);return n.writeUInt8(e,0),this.push(n)}_pushUInt16BE(e){const n=t.allocUnsafe(2);return n.writeUInt16BE(e,0),this.push(n)}_pushUInt32BE(e){const n=t.allocUnsafe(4);return n.writeUInt32BE(e,0),this.push(n)}_pushFloatBE(e){const n=t.allocUnsafe(4);return n.writeFloatBE(e,0),this.push(n)}_pushDoubleBE(e){const n=t.allocUnsafe(8);return n.writeDoubleBE(e,0),this.push(n)}_pushNaN(){return this.push(_)}_pushInfinity(e){const t=e<0?A:S;return this.push(t)}_pushFloat(e){if(this.canonical){const n=t.allocUnsafe(2);if(a.writeHalf(n,e)&&a.parseHalf(n)===e)return this._pushUInt8(p)&&this.push(n)}return Math.fround(e)===e?this._pushUInt8(g)&&this._pushFloatBE(e):this._pushUInt8(b)&&this._pushDoubleBE(e)}_pushInt(e,t,n){const r=t<<5;switch(!1){case!(e<24):return this._pushUInt8(r|e);case!(e<=255):return this._pushUInt8(r|f.ONE)&&this._pushUInt8(e);case!(e<=65535):return this._pushUInt8(r|f.TWO)&&this._pushUInt16BE(e);case!(e<=4294967295):return this._pushUInt8(r|f.FOUR)&&this._pushUInt32BE(e);case!(e<=Number.MAX_SAFE_INTEGER):return this._pushUInt8(r|f.EIGHT)&&this._pushUInt32BE(Math.floor(e/h))&&this._pushUInt32BE(e%h);default:return t===c.NEG_INT?this._pushFloat(n):this._pushFloat(e)}}_pushIntNum(e){return Object.is(e,-0)?this.push(x):e<0?this._pushInt(-e-1,c.NEG_INT,e):this._pushInt(e,c.POS_INT)}_pushNumber(e){switch(!1){case!isNaN(e):return this._pushNaN();case isFinite(e):return this._pushInfinity(e);case Math.round(e)!==e:return this._pushIntNum(e);default:return this._pushFloat(e)}}_pushString(e){const n=t.byteLength(e,"utf8");return this._pushInt(n,c.UTF8_STRING)&&this.push(e,"utf8")}_pushBoolean(e){return this._pushUInt8(e?y:m)}_pushUndefined(e){switch(typeof this.encodeUndefined){case"undefined":return this._pushUInt8(w);case"function":return this.pushAny(this.encodeUndefined.call(this,e));case"object":if(t.isBuffer(this.encodeUndefined))return this.push(this.encodeUndefined)}return this.pushAny(this.encodeUndefined)}_pushNull(e){return this._pushUInt8(k)}_pushArray(e,t){const n=t.length;if(!e._pushInt(n,c.ARRAY))return!1;for(let r=0;r<n;r++)if(!e.pushAny(t[r]))return!1;return!0}_pushTag(e){return this._pushInt(e,c.TAG)}_pushDate(e,t){switch(e.dateType){case"string":return e._pushTag(d.DATE_STRING)&&e._pushString(t.toISOString());case"int":case"integer":return e._pushTag(d.DATE_EPOCH)&&e._pushIntNum(Math.round(t/1e3));case"float":return e._pushTag(d.DATE_EPOCH)&&e._pushFloat(t/1e3);case"number":default:return e._pushTag(d.DATE_EPOCH)&&e.pushAny(t/1e3)}}_pushBuffer(e,t){return e._pushInt(t.length,c.BYTE_STRING)&&e.push(t)}_pushNoFilter(e,t){return e._pushBuffer(e,t.slice())}_pushRegexp(e,t){return e._pushTag(d.REGEXP)&&e.pushAny(t.source)}_pushSet(e,t){if(!e._pushInt(t.size,c.ARRAY))return!1;for(const n of t)if(!e.pushAny(n))return!1;return!0}_pushUrl(e,t){return e._pushTag(d.URI)&&e.pushAny(t.format())}_pushURL(e,t){return e._pushTag(d.URI)&&e.pushAny(t.toString())}_pushBigint(e){let n=c.POS_INT,r=d.POS_BIGINT;if(e.isNegative()&&(e=e.negated().minus(1),n=c.NEG_INT,r=d.NEG_BIGINT),this.collapseBigIntegers&&e.lte(E.MAXINT64))return e.lte(E.MAXINT32)?this._pushInt(e.toNumber(),n):this._pushUInt8(n<<5|f.EIGHT)&&this._pushUInt32BE(e.dividedToIntegerBy(E.SHIFT32).toNumber())&&this._pushUInt32BE(e.mod(E.SHIFT32).toNumber());let i=e.toString(16);i.length%2&&(i="0"+i);const s=t.from(i,"hex");return this._pushTag(r)&&this._pushBuffer(this,s)}_pushJSBigint(e){let n=c.POS_INT,r=d.POS_BIGINT;if(e<0&&(e=-e+v.MINUS_ONE,n=c.NEG_INT,r=d.NEG_BIGINT),this.collapseBigIntegers&&e<=v.MAXINT64)return e<=4294967295?this._pushInt(Number(e),n):this._pushUInt8(n<<5|f.EIGHT)&&this._pushUInt32BE(Number(e/v.SHIFT32))&&this._pushUInt32BE(Number(e%v.SHIFT32));let i=e.toString(16);i.length%2&&(i="0"+i);const s=t.from(i,"hex");return this._pushTag(r)&&this._pushBuffer(this,s)}_pushBigNumber(e,t){if(t.isNaN())return e._pushNaN();if(!t.isFinite())return e._pushInfinity(t.isNegative()?-1/0:1/0);if(t.isInteger())return e._pushBigint(t);if(!e._pushTag(d.DECIMAL_FRAC)||!e._pushInt(2,c.ARRAY))return!1;const n=t.decimalPlaces(),r=t.times(new s(10).pow(n));return!!e._pushIntNum(-n)&&(r.abs().isLessThan(E.MAXINT)?e._pushIntNum(r.toNumber()):e._pushBigint(r))}_pushMap(e,t){if(!e._pushInt(t.size,c.MAP))return!1;if(e.canonical){const n=[...t.entries()],r=new T(this),i=new o({highWaterMark:this.readableHighWaterMark});r.pipe(i),n.sort(([e],[t])=>{r.pushAny(e);const n=i.read();r.pushAny(t);const s=i.read();return n.compare(s)});for(const[t,s]of n){if(e.disallowUndefinedKeys&&void 0===t)throw new Error("Invalid Map key: undefined");if(!e.pushAny(t)||!e.pushAny(s))return!1}}else for(const[n,r]of t){if(e.disallowUndefinedKeys&&void 0===n)throw new Error("Invalid Map key: undefined");if(!e.pushAny(n)||!e.pushAny(r))return!1}return!0}_pushUint8Array(e,n){return e._pushBuffer(e,t.from(n))}_pushFloat32Array(e,t){const n=t.length;if(!e._pushInt(n,c.ARRAY))return!1;for(let r=0;r<n;r++)if(!e._pushUInt8(g)||!e._pushFloatBE(t[r]))return!1;return!0}_pushFloat64Array(e,t){const n=t.length;if(!e._pushInt(n,c.ARRAY))return!1;for(let r=0;r<n;r++)if(!e._pushUInt8(b)||!e._pushDoubleBE(t[r]))return!1;return!0}removeLoopDetectors(e){if(!this.detectLoops||"object"!=typeof e||!e)return!1;const t=e[I];if(!t||t!==this.detectLoops)return!1;if(delete e[I],Array.isArray(e))for(const n of e)this.removeLoopDetectors(n);else for(const n in e)this.removeLoopDetectors(e[n]);return!0}_pushObject(e){if(!e)return this._pushNull(e);if(this.detectLoops){if(e[I]===this.detectLoops)throw new Error("Loop detected while CBOR encoding");e[I]=this.detectLoops}const t=e.encodeCBOR;if("function"==typeof t)return t.call(e,this);for(let s=0,o=this.semanticTypes.length;s<o;s+=2){if(e instanceof this.semanticTypes[s])return this.semanticTypes[s+1].call(e,this,e)}const n=Object.keys(e),r={};if(this.canonical&&n.sort((e,t)=>{const n=r[e]||(r[e]=T.encode(e)),i=r[t]||(r[t]=T.encode(t));return n.compare(i)}),!this._pushInt(n.length,c.MAP))return!1;let i;for(let s=0,o=n.length;s<o;s++){const t=n[s];if(this.canonical&&(i=r[t])){if(!this.push(i))return!1}else if(!this._pushString(t))return!1;if(!this.pushAny(e[t]))return!1}return!0}pushAny(e){switch(typeof e){case"number":return this._pushNumber(e);case"bigint":return this._pushJSBigint(e);case"string":return this._pushString(e);case"boolean":return this._pushBoolean(e);case"undefined":return this._pushUndefined(e);case"object":return this._pushObject(e);case"symbol":switch(e){case l.NULL:return this._pushNull(null);case l.UNDEFINED:return this._pushUndefined(void 0);default:throw new Error("Unknown symbol: "+e.toString())}default:throw new Error("Unknown type: "+typeof e+", "+(e?e.toString():""))}}_pushAny(e){return this.pushAny(e)}_encodeAll(e){const t=new o({highWaterMark:this.readableHighWaterMark});this.pipe(t);for(const n of e)this.pushAny(n);return this.end(),t.read()}static encode(...e){return(new T)._encodeAll(e)}static encodeCanonical(...e){return new T({canonical:!0})._encodeAll(e)}static encodeOne(e,t){return new T(t)._encodeAll([e])}static encodeAsync(e,n){return new Promise((r,i)=>{const s=[],o=new T(n);o.on("data",e=>s.push(e)),o.on("error",i),o.on("finish",()=>r(t.concat(s))),o.pushAny(e),o.end()})}}e.exports=T}).call(this,n(2).Buffer)},function(e,t,n){"use strict";const r=n(16),{Key:i}=n(3),s=n(64).multihash,o=new i("/local/pins"),a=s.fromB58String("QmdfTbBqBPQ7VNxZEYEj14VmRuZBkqFbiwReogJgS1zR1n");e.exports={PIN_DS_KEY:o,DEFAULT_FANOUT:256,MAX_ITEMS:8192,EMPTY_KEY:a,PinTypes:{direct:"direct",recursive:"recursive"},cidToKey:function(e){return new i("/"+r.encoding("base32upper").encode(e.multihash))}}},function(e,t,n){e.exports=n(77)},function(e,t,n){"use strict";const r=n(78),i=n(176),s=n(178),o=n(44),a=n(20)("ipfs:repo:migrator");function u(e){return e=e||r,Array.isArray(e)&&0!==e.length?e[e.length-1].version:0}function c(e,t,n,r=!1){let i=0;for(const s of e){if(s.version>n)break;if(s.version>t){if(r&&!s.revert)throw new o.NonReversibleMigrationError(`It is not possible to revert to version ${t} because migration version ${s.version} is not reversible. Cancelling reversion.`);i++}}if(i!==n-t)throw new o.InvalidValueError(`The ipfs-repo-migrations package does not have all migration to migrate from version ${t} to ${n}`)}t.getCurrentRepoVersion=i.getVersion,t.errors=o,t.getLatestMigrationVersion=u,t.migrate=async function(e,t,n,{ignoreLock:f=!1,onProgress:h,isDryRun:l=!1,migrations:d}){if(d=d||r,!e)throw new o.RequiredParameterError("Path argument is required!");if(!t)throw new o.RequiredParameterError("repoOptions argument is required!");if(!n)throw new o.RequiredParameterError("toVersion argument is required!");if(!Number.isInteger(n)||n<=0)throw new o.InvalidValueError("Version has to be positive integer!");const p=await i.getVersion(e,t);if(p===n)return void a("Nothing to migrate.");if(p>n)throw new o.InvalidValueError(`Current repo's version (${p}) is higher then toVersion (${n}), you probably wanted to revert it?`);let g;c(d,p,n),l||f||(g=await s.lock(p,e));try{for(const r of d){if(void 0!==n&&r.version>n)break;if(!(r.version<=p)){a("Migrating version "+r.version);try{if(!l){let n;h&&(n=(e,t)=>h(r.version,e.toFixed(2),t)),await r.migrate(e,t,n)}}catch(b){const n=r.version-1;throw a("An exception was raised during execution of migration. Setting the repo's version to last successfully migrated version: "+n),await i.setVersion(e,n,t),new Error(`During migration to version ${r.version} exception was raised: ${b.stack||b.message||b}`)}a(`Migrating to version ${r.version} finished`)}}l||await i.setVersion(e,n||u(d),t),a("Repo successfully migrated ",void 0!==n?`to version ${n}!`:"to latest version!")}finally{l||f||await g.close()}},t.revert=async function(e,t,n,{ignoreLock:u=!1,onProgress:f,isDryRun:h=!1,migrations:l}){if(l=l||r,!e)throw new o.RequiredParameterError("Path argument is required!");if(!t)throw new o.RequiredParameterError("repoOptions argument is required!");if(!n)throw new o.RequiredParameterError("When reverting migrations, you have to specify to which version to revert!");if(!Number.isInteger(n)||n<=0)throw new o.InvalidValueError("Version has to be positive integer!");const d=await i.getVersion(e,t);if(d===n)return void a("Nothing to revert.");if(d<n)throw new o.InvalidValueError(`Current repo's version (${d}) is lower then toVersion (${n}), you probably wanted to migrate it?`);let p;c(l,n,d,!0),h||u||(p=await s.lock(d,e)),a(`Reverting from version ${d} to ${n}`);try{const r=l.slice().reverse();for(const s of r){if(s.version<=n)break;if(!(s.version>d)){a("Reverting migration version "+s.version);try{if(!h){let n;f&&(n=(e,t)=>f(s.version,e.toFixed(2),t)),await s.revert(e,t,n)}}catch(g){const n=s.version;throw a("An exception was raised during execution of migration. Setting the repo's version to last successfully reverted version: "+n),await i.setVersion(e,n,t),g.message=`During reversion to version ${s.version} exception was raised: ${g.message}`,g}a(`Reverting to version ${s.version} finished`)}}h||await i.setVersion(e,n,t),a(`All migrations successfully reverted to version ${n}!`)}finally{h||u||await p.close()}}},function(e,t,n){"use strict";const r={description:"Empty migration.",migrate:()=>{},revert:()=>{},empty:!0};e.exports=[Object.assign({version:1},r),Object.assign({version:2},r),Object.assign({version:3},r),Object.assign({version:4},r),Object.assign({version:5},r),Object.assign({version:6},r),Object.assign({version:7},r),n(79),n(110)]},function(e,t,n){"use strict";const r=n(4),i=n(3).Key,s=n(16),o=n(20)("ipfs:repo:migrator:migration-8"),a=n(10),{createStore:u}=n(29),c=n(56);function f(e){const t=s.decode("b"+e.toString().slice(1));let n=new r(t).multihash;return n=s.encode("base32",n).slice(1),n=a(n).toUpperCase(),new i("/"+n,!1)}function h(e){const t=s.decode("b"+e.toString().slice(1)),n=s.encode("base32",new r(1,"raw",t).bytes).slice(1);return new i(("/"+a(n)).toUpperCase(),!1)}async function l(e,t,n,r){const i=await u(e,"blocks",t);let s;await i.open(),n&&(s=await c(i.query({keysOnly:!0,filters:[({key:e})=>r(e).toString()!==e.toString()]})));try{let e=0;for await(const t of i.query({})){const a=r(t.key);a.toString()!==t.key.toString()&&(e+=1,o(`Migrating Block from ${t.key} to ${a}`),await i.delete(t.key),await i.put(a,t.value),n&&n(e/s*100,`Migrated Block from ${t.key} to ${a}`))}}finally{await i.close()}}e.exports={version:8,description:"Transforms key names into base32 encoding and converts Block store to use bare multihashes encoded as base32",migrate:(e,t,n)=>l(e,t,n,f),revert:(e,t,n)=>l(e,t,n,h)}},function(e,t,n){"use strict";var r=n(81).Buffer;e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(255!==t[o])throw new TypeError(s+" is ambiguous");t[o]=i}var a=e.length,u=e.charAt(0),c=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function h(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return r.alloc(0);var n=0;if(" "!==e[n]){for(var i=0,s=0;e[n]===u;)i++,n++;for(var o=(e.length-n)*c+1>>>0,f=new Uint8Array(o);e[n];){var h=t[e.charCodeAt(n)];if(255===h)return;for(var l=0,d=o-1;(0!==h||l<s)&&-1!==d;d--,l++)h+=a*f[d]>>>0,f[d]=h%256>>>0,h=h/256>>>0;if(0!==h)throw new Error("Non-zero carry");s=l,n++}if(" "!==e[n]){for(var p=o-s;p!==o&&0===f[p];)p++;var g=r.allocUnsafe(i+(o-p));g.fill(0,0,i);for(var b=i;p!==o;)g[b++]=f[p++];return g}}}return{encode:function(t){if((Array.isArray(t)||t instanceof Uint8Array)&&(t=r.from(t)),!r.isBuffer(t))throw new TypeError("Expected Buffer");if(0===t.length)return"";for(var n=0,i=0,s=0,o=t.length;s!==o&&0===t[s];)s++,n++;for(var c=(o-s)*f+1>>>0,h=new Uint8Array(c);s!==o;){for(var l=t[s],d=0,p=c-1;(0!==l||d<i)&&-1!==p;p--,d++)l+=256*h[p]>>>0,h[p]=l%a>>>0,l=l/a>>>0;if(0!==l)throw new Error("Non-zero carry");i=d,s++}for(var g=c-i;g!==c&&0===h[g];)g++;for(var b=u.repeat(n);g<c;++g)b+=e.charAt(h[g]);return b},decodeUnsafe:h,decode:function(e){var t=h(e);if(t)return t;throw new Error("Non-base"+a+" character")}}}},function(e,t,n){"use strict";var r=n(2),i=r.Buffer;function s(e,t){for(var n in e)t[n]=e[n]}function o(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(s(r,t),t.Buffer=o),o.prototype=Object.create(i.prototype),s(i,o),o.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},o.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,t,n){"use strict";t.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=c(e),o=r[0],a=r[1],u=new s(function(e,t,n){return 3*(t+n)/4-n}(0,o,a)),f=0,h=a>0?o-4:o;for(n=0;n<h;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],u[f++]=t>>16&255,u[f++]=t>>8&255,u[f++]=255&t;2===a&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,u[f++]=255&t);1===a&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,u[f++]=t>>8&255,u[f++]=255&t);return u},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,s=[],o=0,a=n-i;o<a;o+=16383)s.push(f(e,o,o+16383>a?a:o+16383));1===i?(t=e[n-1],s.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],s.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return s.join("")};for(var r=[],i=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=o.length;a<u;++a)r[a]=o[a],i[o.charCodeAt(a)]=a;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function f(e,t,n){for(var i,s,o=[],a=t;a<n;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),o.push(r[(s=i)>>18&63]+r[s>>12&63]+r[s>>6&63]+r[63&s]);return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t,n){"use strict";t.read=function(e,t,n,r,i){var s,o,a=8*i-r-1,u=(1<<a)-1,c=u>>1,f=-7,h=n?i-1:0,l=n?-1:1,d=e[t+h];for(h+=l,s=d&(1<<-f)-1,d>>=-f,f+=a;f>0;s=256*s+e[t+h],h+=l,f-=8);for(o=s&(1<<-f)-1,s>>=-f,f+=r;f>0;o=256*o+e[t+h],h+=l,f-=8);if(0===s)s=1-c;else{if(s===u)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,r),s-=c}return(d?-1:1)*o*Math.pow(2,s-r)},t.write=function(e,t,n,r,i,s){var o,a,u,c=8*s-i-1,f=(1<<c)-1,h=f>>1,l=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:s-1,p=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=f):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),(t+=o+h>=1?l/u:l*Math.pow(2,1-h))*u>=2&&(o++,u/=2),o+h>=f?(a=0,o=f):o+h>=1?(a=(t*u-1)*Math.pow(2,i),o+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;e[n+d]=255&a,d+=p,a/=256,i-=8);for(o=o<<i|a,c+=i;c>0;e[n+d]=255&o,d+=p,o/=256,c-=8);e[n+d-p]|=128*g}},function(e,t,n){"use strict";const{encodeText:r}=n(34);e.exports=class{constructor(e,t,n,i){this.name=e,this.code=t,this.codeBuf=r(this.code),this.alphabet=i,this.engine=n(i)}encode(e){return this.engine.encode(e)}decode(e){for(const t of e)if(this.alphabet&&this.alphabet.indexOf(t)<0)throw new Error(`invalid character '${t}' in '${e}'`);return this.engine.decode(e)}}},function(e,t,n){"use strict";e.exports=e=>t=>({encode:n=>((e,t,n)=>{const r="="===t[t.length-1],i=(1<<n)-1;let s="",o=0,a=0;for(let u=0;u<e.length;++u)for(a=a<<8|e[u],o+=8;o>n;)o-=n,s+=t[i&a>>o];if(o&&(s+=t[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s})(n,t,e),decode:n=>((e,t,n)=>{const r={};for(let c=0;c<t.length;++c)r[t[c]]=c;let i=e.length;for(;"="===e[i-1];)--i;const s=new Uint8Array(i*n/8|0);let o=0,a=0,u=0;for(let c=0;c<i;++c){const t=r[e[c]];if(void 0===t)throw new SyntaxError("Invalid character "+e[c]);a=a<<n|t,o+=n,o>=8&&(o-=8,s[u++]=255&a>>o)}if(o>=n||255&a<<8-o)throw new SyntaxError("Unexpected end of data");return s})(n,t,e)})},function(e,t,n){"use strict";e.exports=function e(t,n,i){n=n||[];var s=i=i||0;for(;t>=r;)n[i++]=255&t|128,t/=128;for(;-128&t;)n[i++]=255&t|128,t>>>=7;return n[i]=0|t,e.bytes=i-s+1,n};var r=Math.pow(2,31)},function(e,t,n){"use strict";e.exports=function e(t,n){var r,i=0,s=0,o=n=n||0,a=t.length;do{if(o>=a)throw e.bytes=0,new RangeError("Could not decode varint");r=t[o++],i+=s<28?(127&r)<<s:(127&r)*Math.pow(2,s),s+=7}while(r>=128);return e.bytes=o-n,i}},function(e,t,n){"use strict";var r=Math.pow(2,7),i=Math.pow(2,14),s=Math.pow(2,21),o=Math.pow(2,28),a=Math.pow(2,35),u=Math.pow(2,42),c=Math.pow(2,49),f=Math.pow(2,56),h=Math.pow(2,63);e.exports=function(e){return e<r?1:e<i?2:e<s?3:e<o?4:e<a?5:e<u?6:e<c?7:e<f?8:e<h?9:10}},function(e,t,n){"use strict";const r=Object.freeze({identity:0,sha1:17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,blake3:30,"murmur3-128":34,"murmur3-32":35,"dbl-sha2-256":86,md4:212,md5:213,bmt:214,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,x11:4352,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46e3,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082});e.exports={names:r}},function(e,t,n){"use strict";const r=n(19),i=new Map;for(const s in r){const e=r[s];i.set(e,s)}e.exports=Object.freeze(i)},function(e,t,n){"use strict";const r=n(19),i=n(46).varintEncode,s={};for(const o in r){const e=r[o];s[o]=i(e)}e.exports=Object.freeze(s)},function(e,t,n){"use strict";const{names:r}=n(17),{TextDecoder:i}=n(18),s=new i("utf8");e.exports=function(e,t="utf8"){if("utf8"===t||"utf-8"===t)return s.decode(e);const n=r[t];if(!n)throw new Error("Unknown base");return n.encode(e)}},function(e,t,n){"use strict";const{names:r}=n(17),{TextEncoder:i}=n(18),s=new i;e.exports=function(e,t="utf8"){if("utf8"===t||"utf-8"===t)return s.encode(e);const n=r[t];if(!n)throw new Error("Unknown base");return n.decode(e)}},function(e,t,n){"use strict";e.exports=function(e,t){t||(t=e.reduce((e,t)=>e+t.length,0));const n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}},function(e,t,n){"use strict";const r=n(19),i={};for(const[s,o]of Object.entries(r))i[s.toUpperCase().replace(/-/g,"_")]=o;e.exports=Object.freeze(i)},function(e,t,n){"use strict";const r=n(19),i={};for(const[s,o]of Object.entries(r))void 0===i[o]&&(i[o]=s);e.exports=Object.freeze(i)},function(e,t,n){"use strict";const r=n(25),i={checkCIDComponents:function(e){if(null==e)return"null values are not valid CIDs";if(0!==e.version&&1!==e.version)return"Invalid version, must be a number equal to 1 or 0";if("string"!=typeof e.codec)return"codec must be string";if(0===e.version){if("dag-pb"!==e.codec)return"codec must be 'dag-pb' for CIDv0";if("base58btc"!==e.multibaseName)return"multibaseName must be 'base58btc' for CIDv0"}if(!(e.multihash instanceof Uint8Array))return"multihash must be a Uint8Array";try{r.validate(e.multihash)}catch(t){let e=t.message;return e||(e="Multihash validation failed"),e}}};e.exports=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.urlAlphabet=void 0;t.urlAlphabet="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"},function(e,t,n){"use strict";const{nanoid:r}=n(48);e.exports=(e=(e=>e))=>e(r())},function(e,t,n){"use strict";const r=n(47),i=n(51),s=n(52);e.exports=class extends i{constructor(){super(),this.data={}}async put(e,t){this.data[e.toString()]=t}async get(e){if(!await this.has(e))throw s.notFoundError();return this.data[e.toString()]}async has(e){return void 0!==this.data[e.toString()]}async delete(e){delete this.data[e.toString()]}*_all(){yield*Object.entries(this.data).map(([e,t])=>({key:new r(e),value:t}))}}},function(e,t,n){"use strict";e.exports=async e=>{for await(const t of e);}},function(e,t,n){"use strict";e.exports=function(e){function t(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return r.colors[Math.abs(t)%r.colors.length]}function r(e){let n;function o(...e){if(!o.enabled)return;const t=o,i=Number(new Date),s=i-(n||i);t.diff=s,t.prev=n,t.curr=i,n=i,e[0]=r.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(n,i)=>{if("%%"===n)return n;a++;const s=r.formatters[i];if("function"==typeof s){const r=e[a];n=s.call(t,r),e.splice(a,1),a--}return n}),r.formatArgs.call(t,e);(t.log||r.log).apply(t,e)}return o.namespace=e,o.enabled=r.enabled(e),o.useColors=r.useColors(),o.color=t(e),o.destroy=i,o.extend=s,"function"==typeof r.init&&r.init(o),r.instances.push(o),o}function i(){const e=r.instances.indexOf(this);return-1!==e&&(r.instances.splice(e,1),!0)}function s(e,t){const n=r(this.namespace+(void 0===t?":":t)+e);return n.log=this.log,n}function o(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return r.debug=r,r.default=r,r.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},r.disable=function(){const e=[...r.names.map(o),...r.skips.map(o).map(e=>"-"+e)].join(",");return r.enable(""),e},r.enable=function(e){let t;r.save(e),r.names=[],r.skips=[];const n=("string"==typeof e?e:"").split(/[\s,]+/),i=n.length;for(t=0;t<i;t++)n[t]&&("-"===(e=n[t].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")));for(t=0;t<r.instances.length;t++){const e=r.instances[t];e.enabled=r.enabled(e.namespace)}},r.enabled=function(e){if("*"===e[e.length-1])return!0;let t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1},r.humanize=n(103),Object.keys(e).forEach(t=>{r[t]=e[t]}),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=t,r.enable(r.load()),r}},function(e,t,n){"use strict";var r=1e3,i=6e4,s=60*i,o=24*s;function a(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}e.exports=function(e,t){t=t||{};var n=typeof e;if("string"===n&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*n;case"weeks":case"week":case"w":return 6048e5*n;case"days":case"day":case"d":return n*o;case"hours":case"hour":case"hrs":case"hr":case"h":return n*s;case"minutes":case"minute":case"mins":case"min":case"m":return n*i;case"seconds":case"second":case"secs":case"sec":case"s":return n*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}(e);if("number"===n&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=o)return a(e,t,o,"day");if(t>=s)return a(e,t,s,"hour");if(t>=i)return a(e,t,i,"minute");if(t>=r)return a(e,t,r,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=o)return Math.round(e/o)+"d";if(t>=s)return Math.round(e/s)+"h";if(t>=i)return Math.round(e/i)+"m";if(t>=r)return Math.round(e/r)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){"use strict";const r=n(30),i=n(105),s=n(107),o=n(108),a=n(109),u=n(54);t.KeytransformDatastore=r,t.ShardingDatastore=i,t.MountDatastore=s,t.TieredDatastore=o,t.NamespaceDatastore=a,t.shard=u},function(e,t,n){"use strict";const{Adapter:r,Key:i}=n(3),s=n(54),o=n(30),{utf8Encoder:a}=n(55),u=new i(s.SHARDING_FN),c=new i(s.README_FN);class f extends r{constructor(e,t){super(),this.child=new o(e,{convert:this._convertKey.bind(this),invert:this._invertKey.bind(this)}),this.shard=t}open(){return this.child.open()}_convertKey(e){const t=e.toString();if(t===u.toString()||t===c.toString())return e;return new i(this.shard.fun(t)).child(e)}_invertKey(e){const t=e.toString();return t===u.toString()||t===c.toString()?e:i.withNamespaces(e.list().slice(1))}static async createOrOpen(e,t){try{await f.create(e,t)}catch(n){if(n&&"datastore exists"!==n.message)throw n}return f.open(e)}static async open(e){const t=await s.readShardFun("/",e);return new f(e,t)}static async create(e,t){if(!await e.has(u)){const n="function"==typeof e.putRaw?e.putRaw.bind(e):e.put.bind(e);return Promise.all([n(u,a.encode(t.toString()+"\n")),n(c,a.encode(s.readme))])}const n=(await s.readShardFun("/",e)||"").toString(),r=t.toString();if(n!==r)throw new Error(`specified fun ${r} does not match repo shard fun ${n}`);throw new Error("datastore exists")}put(e,t,n){return this.child.put(e,t,n)}get(e,t){return this.child.get(e,t)}has(e,t){return this.child.has(e,t)}delete(e,t){return this.child.delete(e,t)}batch(){return this.child.batch()}query(e,t){const n={keysOnly:e.keysOnly,offset:e.offset,limit:e.limit,filters:[e=>e.key.toString()!==u.toString(),e=>e.key.toString()!==c.toString()]};if(null!=e.prefix&&n.filters.push(t=>this._invertKey(t.key).toString().startsWith(e.prefix)),null!=e.filters){const t=e.filters.map(e=>t=>e(Object.assign({},t,{key:this._invertKey(t.key)})));n.filters=n.filters.concat(t)}return null!=e.orders&&(n.orders=e.orders.map(e=>async t=>{t.forEach(e=>{e.key=this._invertKey(e.key)});const n=await e(t);return n.forEach(e=>{e.key=this._convertKey(e.key)}),n})),this.child.query(n,t)}close(){return this.child.close()}}e.exports=f},function(e,t,n){"use strict";e.exports="This is a repository of IPLD objects. Each IPLD object is in a single file,\nnamed <base32 encoding of cid>.data. Where <base32 encoding of cid> is the\n\"base32\" encoding of the CID (as specified in\nhttps://github.com/multiformats/multibase) without the 'B' prefix.\nAll the object files are placed in a tree of directories, based on a\nfunction of the CID. This is a form of sharding similar to\nthe objects directory in git repositories. Previously, we used\nprefixes, we now use the next-to-last two charters.\n    func NextToLast(base32cid string) {\n      nextToLastLen := 2\n      offset := len(base32cid) - nextToLastLen - 1\n      return str[offset : offset+nextToLastLen]\n    }\nFor example, an object with a base58 CIDv1 of\n    zb2rhYSxw4ZjuzgCnWSt19Q94ERaeFhu9uSqRgjSdx9bsgM6f\nhas a base32 CIDv1 of\n    BAFKREIA22FLID5AJ2KU7URG47MDLROZIH6YF2KALU2PWEFPVI37YLKRSCA\nand will be placed at\n    SC/AFKREIA22FLID5AJ2KU7URG47MDLROZIH6YF2KALU2PWEFPVI37YLKRSCA.data\nwith 'SC' being the last-to-next two characters and the 'B' at the\nbeginning of the CIDv1 string is the multibase prefix that is not\nstored in the filename.\n"},function(e,t,n){"use strict";const{Adapter:r,Key:i,Errors:s,utils:{filter:o,take:a,sortAll:u,replaceStartWith:c}}=n(3),f=n(30);e.exports=class extends r{constructor(e){super(),this.mounts=e.slice()}open(){return Promise.all(this.mounts.map(e=>e.datastore.open()))}_lookup(e){for(const t of this.mounts)if(t.prefix.toString()===e.toString()||t.prefix.isAncestorOf(e)){const n=c(e.toString(),t.prefix.toString());return{datastore:t.datastore,mountpoint:t.prefix,rest:new i(n)}}}put(e,t,n){const r=this._lookup(e);if(null==r)throw s.dbWriteFailedError(new Error("No datastore mounted for this key"));return r.datastore.put(r.rest,t,n)}get(e,t){const n=this._lookup(e);if(null==n)throw s.notFoundError(new Error("No datastore mounted for this key"));return n.datastore.get(n.rest,t)}has(e,t){const n=this._lookup(e);return null!=n&&n.datastore.has(n.rest,t)}delete(e,t){const n=this._lookup(e);if(null==n)throw s.dbDeleteFailedError(new Error("No datastore mounted for this key"));return n.datastore.delete(n.rest,t)}close(){return Promise.all(this.mounts.map(e=>e.datastore.close()))}batch(){const e={},t=t=>{const n=this._lookup(t);if(null==n)throw new Error("No datastore mounted for this key");const r=n.mountpoint.toString();return null==e[r]&&(e[r]=n.datastore.batch()),{batch:e[r],rest:n.rest}};return{put:(e,n)=>{const r=t(e);r.batch.put(r.rest,n)},delete:e=>{const n=t(e);n.batch.delete(n.rest)},commit:t=>Promise.all(Object.keys(e).map(n=>e[n].commit(t)))}}query(e,t){const n=this.mounts.map(n=>{const r=new f(n.datastore,{convert:e=>{throw new Error("should never be called")},invert:e=>n.prefix.child(e)});let i;return null!=e.prefix&&(i=c(e.prefix,n.prefix.toString())),r.query({prefix:i,filters:e.filters,keysOnly:e.keysOnly},t)});let r=(i=n,async function*(){for(let e=0;e<i.length;e++)for await(const t of i[e])yield t}());var i;if(e.filters&&e.filters.forEach(e=>{r=o(r,e)}),e.orders&&e.orders.forEach(e=>{r=u(r,e)}),null!=e.offset){let t=0;r=o(r,()=>t++>=e.offset)}return null!=e.limit&&(r=a(r,e.limit)),r}}},function(e,t,n){"use strict";const{Adapter:r,Errors:i}=n(3),s=n(20)("datastore:core:tiered");e.exports=class extends r{constructor(e){super(),this.stores=e.slice()}async open(){try{await Promise.all(this.stores.map(e=>e.open()))}catch(e){throw i.dbOpenFailedError()}}async put(e,t){try{await Promise.all(this.stores.map(n=>n.put(e,t)))}catch(n){throw i.dbWriteFailedError()}}async get(e,t){for(const r of this.stores)try{const n=await r.get(e,t);if(n)return n}catch(n){s(n)}throw i.notFoundError()}async has(e,t){for(const n of this.stores)if(await n.has(e,t))return!0;return!1}async delete(e,t){try{await Promise.all(this.stores.map(n=>n.delete(e,t)))}catch(n){throw i.dbDeleteFailedError()}}async close(){await Promise.all(this.stores.map(e=>e.close()))}batch(){const e=this.stores.map(e=>e.batch());return{put:(t,n)=>{e.forEach(e=>e.put(t,n))},delete:t=>{e.forEach(e=>e.delete(t))},commit:async t=>{for(const n of e)await n.commit(t)}}}query(e,t){return this.stores[this.stores.length-1].query(e,t)}}},function(e,t,n){"use strict";const r=n(3).Key,i=n(30);e.exports=class extends i{constructor(e,t){super(e,{convert:e=>t.child(e),invert(e){if("/"===t.toString())return e;if(!t.isAncestorOf(e))throw new Error(`Expected prefix: (${t.toString()}) in key: ${e.toString()}`);return new r(e.toString().slice(t.toString().length),!1)}}),this.prefix=t}query(e){return e.prefix&&"/"!==this.prefix.toString()?super.query(Object.assign({},e,{prefix:this.prefix.child(new r(e.prefix)).toString()})):super.query(e)}}},function(e,t,n){"use strict";const r=n(4),i=n(57),s=n(151),o=n(26),a=n(16),u=n(173),{createStore:c}=n(29),{cidToKey:f,PIN_DS_KEY:h,PinTypes:l}=n(75),d=n(56);async function p(e,t,n,a){if(!await t.has(h))return;const c=await t.get(h),p=new r(c),g=await e.get(f(p)),b=i.util.deserialize(g);let y,m=0;a&&(y=await d(u.loadSet(e,b,l.recursive))+await d(u.loadSet(e,b,l.direct)));for await(const r of u.loadSet(e,b,l.recursive)){m++;const e={depth:1/0};0!==r.version&&(e.version=r.version),"dag-pb"!==r.codec&&(e.codec=o.getNumber(r.codec)),await n.put(f(r),s.encode(e)),a&&a(m/y*100,"Migrated recursive pin "+r)}for await(const r of u.loadSet(e,b,l.direct)){m++;const e={depth:0};0!==r.version&&(e.version=r.version),"dag-pb"!==r.codec&&(e.codec=o.getNumber(r.codec)),await n.put(f(r),s.encode(e)),a(m/y*100,"Migrated direct pin "+r)}await e.delete(f(p)),await t.delete(h)}async function g(e,t,n,c){let p,g=[],b=[],y=0;c&&(p=await d(n.query({keysOnly:!0})));for await(const{key:i,value:u}of n.query({})){y++;const e=s.decode(u),t=new r(e.version||0,e.codec&&o.getName(e.codec)||"dag-pb",a.decode("b"+i.toString().split("/").pop()));0===e.depth?(c&&c(y/p*100,"Reverted direct pin "+t),b.push(t)):(c&&c(y/p*100,"Reverted recursive pin "+t),g.push(t))}c(100,"Updating pin root");const m=new i.DAGNode(new Uint8Array,[await u.storeSet(e,l.recursive,g),await u.storeSet(e,l.direct,b)]).serialize(),w=await i.util.cid(m,{cidVersion:0,hashAlg:o.SHA2_256});await e.put(f(w),m),await t.put(h,w.multihash)}async function b(e,t,n,r){const i=await c(e,"blocks",t),s=await c(e,"datastore",t),o=await c(e,"pins",t);await i.open(),await s.open(),await o.open();try{await r(i,s,o,n)}finally{await o.close(),await s.close(),await i.close()}}e.exports={version:9,description:"Migrates pins to datastore",migrate:(e,t,n)=>b(e,t,n,p),revert:(e,t,n)=>b(e,t,n,g)}},function(e,t,n){"use strict";e.exports=n(58)},function(e,t,n){"use strict";e.exports=function(){var e=function(e,n){return t(e.slice(),n)};function t(e,t){"function"!=typeof t&&(t=function(e,t){return String(e).localeCompare(t)});var r=e.length;if(r<=1)return e;for(var i=new Array(r),s=1;s<r;s*=2){n(e,t,s,i);var o=e;e=i,i=o}return e}e.inplace=function(e,r){var i=t(e,r);return i!==e&&n(i,null,e.length,e),e};var n=function(e,t,n,r){var i,s,o,a,u,c=e.length,f=0,h=2*n;for(i=0;i<c;i+=h)for(o=(s=i+n)+n,s>c&&(s=c),o>c&&(o=c),a=i,u=s;;)if(a<s&&u<o)t(e[a],e[u])<=0?r[f++]=e[a++]:r[f++]=e[u++];else if(a<s)r[f++]=e[a++];else{if(!(u<o))break;r[f++]=e[u++]}};return e}()},function(e,t,n){"use strict";var r=n(114),i=n(116);e.exports=r,e.exports.parse=r,e.exports.stringify=i},function(e,t,n){"use strict";var r=n(115),i=["int32","int64","uint32","uint64","sint32","sint64","bool","fixed64","sfixed64","double","fixed32","sfixed32","float"],s=function(e){for(var t={};e.length;)switch(e[0]){case"[":case",":e.shift();var n=e.shift();if("("===n&&(n=e.shift(),e.shift()),"="!==e[0])throw new Error("Unexpected token in field options: "+e[0]);if(e.shift(),"]"===e[0])throw new Error("Unexpected ] in field option");t[n]=e.shift();break;case"]":return e.shift(),t;default:throw new Error("Unexpected token in field options: "+e[0])}throw new Error("No closing tag for field options")},o=function(e){for(var t={name:null,type:null,tag:-1,map:null,oneof:null,required:!1,repeated:!1,options:{}};e.length;)switch(e[0]){case"=":e.shift(),t.tag=Number(e.shift());break;case"map":if(t.type="map",t.map={from:null,to:null},e.shift(),"<"!==e[0])throw new Error("Unexpected token in map type: "+e[0]);if(e.shift(),t.map.from=e.shift(),","!==e[0])throw new Error("Unexpected token in map type: "+e[0]);if(e.shift(),t.map.to=e.shift(),">"!==e[0])throw new Error("Unexpected token in map type: "+e[0]);e.shift(),t.name=e.shift();break;case"repeated":case"required":case"optional":var n=e.shift();t.required="required"===n,t.repeated="repeated"===n,t.type=e.shift(),t.name=e.shift();break;case"[":t.options=s(e);break;case";":if(null===t.name)throw new Error("Missing field name");if(null===t.type)throw new Error("Missing type in message field: "+t.name);if(-1===t.tag)throw new Error("Missing tag number in message field: "+t.name);return e.shift(),t;default:throw new Error("Unexpected token in message field: "+e[0])}throw new Error("No ; found for message field")},a=function(e){for(var t={enums:[],options:{},messages:[],fields:[],extends:[],extensions:null};e.length;)switch(e[0]){case"map":case"repeated":case"optional":case"required":t.fields.push(o(e));break;case"enum":t.enums.push(p(e));break;case"message":t.messages.push(f(e));break;case"extensions":t.extensions=c(e);break;case"oneof":e.shift();var n=e.shift();if("{"!==e[0])throw new Error("Unexpected token in oneof: "+e[0]);for(e.shift();"}"!==e[0];){e.unshift("optional");var r=o(e);r.oneof=n,t.fields.push(r)}e.shift();break;case"extend":t.extends.push(u(e));break;case";":e.shift();break;case"reserved":for(e.shift();";"!==e[0];)e.shift();break;case"option":var i=g(e);if(void 0!==t.options[i.name])throw new Error("Duplicate option "+i.name);t.options[i.name]=i.value;break;default:e.unshift("optional"),t.fields.push(o(e))}return t},u=function(e){return{name:e[1],message:f(e)}},c=function(e){e.shift();var t=Number(e.shift());if(isNaN(t))throw new Error("Invalid from in extensions definition");if("to"!==e.shift())throw new Error("Expected keyword 'to' in extensions definition");var n=e.shift();if("max"===n&&(n=536870911),n=Number(n),isNaN(n))throw new Error("Invalid to in extensions definition");if(";"!==e.shift())throw new Error("Missing ; in extensions definition");return{from:t,to:n}},f=function(e){e.shift();var t=1,n=[],r={name:e.shift(),options:{},enums:[],extends:[],messages:[],fields:[]};if("{"!==e[0])throw new Error("Expected { but found "+e[0]);for(e.shift();e.length;){if("{"===e[0]?t++:"}"===e[0]&&t--,!t)return e.shift(),n=a(n),r.enums=n.enums,r.messages=n.messages,r.fields=n.fields,r.extends=n.extends,r.extensions=n.extensions,r.options=n.options,r;n.push(e.shift())}if(t)throw new Error("No closing tag for message")},h=function(e){e.shift();var t=e.shift();if(";"!==e[0])throw new Error("Expected ; but found "+e[0]);return e.shift(),t},l=function(e){if(e.shift(),"="!==e[0])throw new Error("Expected = but found "+e[0]);e.shift();var t=e.shift();switch(t){case'"proto2"':t=2;break;case'"proto3"':t=3;break;default:throw new Error("Expected protobuf syntax version but found "+t)}if(";"!==e[0])throw new Error("Expected ; but found "+e[0]);return e.shift(),t},d=function(e){if(e.length<4)throw new Error("Invalid enum value: "+e.slice(0,3).join(" "));if("="!==e[1])throw new Error("Expected = but found "+e[1]);if(";"!==e[3]&&"["!==e[3])throw new Error("Expected ; or [ but found "+e[1]);var t=e.shift();e.shift();var n={value:null,options:{}};return n.value=Number(e.shift()),"["===e[0]&&(n.options=s(e)),e.shift(),{name:t,val:n}},p=function(e){e.shift();var t={},n={name:e.shift(),values:{},options:{}};if("{"!==e[0])throw new Error("Expected { but found "+e[0]);for(e.shift();e.length;){if("}"===e[0])return e.shift(),";"===e[0]&&e.shift(),n;if("option"!==e[0]){var r=d(e);n.values[r.name]=r.val}else t=g(e),n.options[t.name]=t.value}throw new Error("No closing tag for enum")},g=function(e){for(var t=null,n=null,r=function(e){return"true"===e||"false"!==e&&e.replace(/^"+|"+$/gm,"")};e.length;){if(";"===e[0])return e.shift(),{name:t,value:n};switch(e[0]){case"option":e.shift();var i="("===e[0];if(i&&e.shift(),t=e.shift(),i){if(")"!==e[0])throw new Error("Expected ) but found "+e[0]);e.shift()}"."===e[0][0]&&(t+=e.shift());break;case"=":if(e.shift(),null===t)throw new Error("Expected key for option with value: "+e[0]);if(n=r(e.shift()),"optimize_for"===t&&!/^(SPEED|CODE_SIZE|LITE_RUNTIME)$/.test(n))throw new Error("Unexpected value for option optimize_for: "+n);"{"===n&&(n=b(e));break;default:throw new Error("Unexpected token in option: "+e[0])}}},b=function(e){for(var t=function(e){return"true"===e||"false"!==e&&e.replace(/^"+|"+$/gm,"")},n={};e.length;){if("}"===e[0])return e.shift(),n;var r="("===e[0];r&&e.shift();var i=e.shift();if(r){if(")"!==e[0])throw new Error("Expected ) but found "+e[0]);e.shift()}var s=null;switch(e[0]){case":":if(void 0!==n[i])throw new Error("Duplicate option map key "+i);e.shift(),"{"===(s=t(e.shift()))&&(s=b(e)),n[i]=s,";"===e[0]&&e.shift();break;case"{":if(e.shift(),s=b(e),void 0===n[i]&&(n[i]=[]),!Array.isArray(n[i]))throw new Error("Duplicate option map key "+i);n[i].push(s);break;default:throw new Error("Unexpected token in option map: "+e[0])}}throw new Error("No closing tag for option map")},y=function(e){e.shift();var t=e.shift().replace(/^"+|"+$/gm,"");if(";"!==e[0])throw new Error("Unexpected token: "+e[0]+'. Expected ";"');return e.shift(),t},m=function(e){e.shift();var t={name:e.shift(),methods:[],options:{}};if("{"!==e[0])throw new Error("Expected { but found "+e[0]);for(e.shift();e.length;){if("}"===e[0])return e.shift(),";"===e[0]&&e.shift(),t;switch(e[0]){case"option":var n=g(e);if(void 0!==t.options[n.name])throw new Error("Duplicate option "+n.name);t.options[n.name]=n.value;break;case"rpc":t.methods.push(w(e));break;default:throw new Error("Unexpected token in service: "+e[0])}}throw new Error("No closing tag for service")},w=function(e){e.shift();var t={name:e.shift(),input_type:null,output_type:null,client_streaming:!1,server_streaming:!1,options:{}};if("("!==e[0])throw new Error("Expected ( but found "+e[0]);if(e.shift(),"stream"===e[0]&&(e.shift(),t.client_streaming=!0),t.input_type=e.shift(),")"!==e[0])throw new Error("Expected ) but found "+e[0]);if(e.shift(),"returns"!==e[0])throw new Error("Expected returns but found "+e[0]);if(e.shift(),"("!==e[0])throw new Error("Expected ( but found "+e[0]);if(e.shift(),"stream"===e[0]&&(e.shift(),t.server_streaming=!0),t.output_type=e.shift(),")"!==e[0])throw new Error("Expected ) but found "+e[0]);if(e.shift(),";"===e[0])return e.shift(),t;if("{"!==e[0])throw new Error("Expected { but found "+e[0]);for(e.shift();e.length;){if("}"===e[0])return e.shift(),";"===e[0]&&e.shift(),t;if("option"!==e[0])throw new Error("Unexpected token in rpc options: "+e[0]);var n=g(e);if(void 0!==t.options[n.name])throw new Error("Duplicate option "+n.name);t.options[n.name]=n.value}throw new Error("No closing tag for rpc")};e.exports=function(e){for(var t=r(e.toString()),n=0;n<t.length;n++){var s;if(/^("|')([^'"]*)$/.test(t[n]))for(s=1===t[n].length?n+1:n;s<t.length;s++)if(/^[^'"\\]*(?:\\.[^'"\\]*)*("|')$/.test(t[s])){t=t.slice(0,n).concat(t.slice(n,s+1).join("")).concat(t.slice(s+1));break}}for(var o={syntax:3,package:null,imports:[],enums:[],messages:[],options:{},extends:[]},a=!0;t.length;){switch(t[0]){case"package":o.package=h(t);break;case"syntax":if(!a)throw new Error("Protobuf syntax version should be first thing in file");o.syntax=l(t);break;case"message":o.messages.push(f(t));break;case"enum":o.enums.push(p(t));break;case"option":var c=g(t);if(o.options[c.name])throw new Error("Duplicate option "+c.name);o.options[c.name]=c.value;break;case"import":o.imports.push(y(t));break;case"extend":o.extends.push(u(t));break;case"service":o.services||(o.services=[]),o.services.push(m(t));break;default:throw new Error("Unexpected token: "+t[0])}a=!1}return o.extends.forEach((function(e){o.messages.forEach((function(t){t.name===e.name&&e.message.fields.forEach((function(e){if(!t.extensions||e.tag<t.extensions.from||e.tag>t.extensions.to)throw new Error(t.name+" does not declare "+e.tag+" as an extension number");t.fields.push(e)}))}))})),o.messages.forEach((function(e){e.fields.forEach((function(t){var n,r,s,a;if(t.options&&"true"===t.options.packed&&-1===i.indexOf(t.type)){if(-1===t.type.indexOf(".")){if(e.enums&&e.enums.some((function(e){return e.name===t.type})))return}else{if((n=t.type.split(".")).length>2)throw new Error("what is this?");if(r=n[0],s=n[1],o.messages.some((function(e){if(e.name===r)return a=e,e})),a&&a.enums&&a.enums.some((function(e){return e.name===s})))return}throw new Error("Fields of type "+t.type+' cannot be declared [packed=true]. Only repeated fields of primitive numeric types (types which use the varint, 32-bit, or 64-bit wire types) can be declared "packed". See https://developers.google.com/protocol-buffers/docs/encoding#optional')}}))})),o}},function(e,t,n){"use strict";e.exports=function(e){var t,n=function(e){return e.trim()};return e.replace(/([;,{}()=:[\]<>]|\/\*|\*\/)/g," $1 ").split(/\n/).map(n).filter(Boolean).map((function(e){var t=e.indexOf("//");return t>-1?e.slice(0,t):e})).map(n).filter(Boolean).join("\n").split(/\s+|\n+/gm).filter((t=!1,function(e){return"/*"===e?(t=!0,!1):"*/"===e?(t=!1,!1):!t}))}},function(e,t,n){"use strict";var r=function(e,t){var n=e.repeated?"repeated":e.required?"required":"optional";"map"===e.type&&(n="map<"+e.map.from+","+e.map.to+">"),e.oneof&&(n="");var r=Object.keys(e.options||{}).map((function(t){return t+" = "+e.options[t]})).join(",");return r&&(r=" ["+r+"]"),t.push((n?n+" ":"")+("map"===e.map?"":e.type+" ")+e.name+" = "+e.tag+r+";"),t},i=function(e,t){t.push("message "+e.name+" {"),e.options||(e.options={}),a(e.options,t),e.enums||(e.enums=[]),e.enums.forEach((function(e){t.push(s(e,[]))})),e.messages||(e.messages=[]),e.messages.forEach((function(e){t.push(i(e,[]))}));var n={};return e.fields||(e.fields=[]),e.fields.forEach((function(e){e.oneof?(n[e.oneof]||(n[e.oneof]=[]),n[e.oneof].push(r(e,[]))):t.push(r(e,[]))})),Object.keys(n).forEach((function(e){n[e].unshift("oneof "+e+" {"),n[e].push("}"),t.push(n[e])})),t.push("}",""),t},s=function(e,t){t.push("enum "+e.name+" {"),e.options||(e.options={});var n=a(e.options,[]);return n.length>1&&t.push(n.slice(0,-1)),Object.keys(e.values).map((function(n){var r=o(e.values[n]);t.push([n+" = "+r+";"])})),t.push("}",""),t},o=function(e,t){var n=Object.keys(e.options||{}).map((function(t){return t+" = "+e.options[t]})).join(",");return n&&(n=" ["+n+"]"),e.value+n},a=function(e,t){var n=Object.keys(e);return n.forEach((function(n){var r=e[n];~n.indexOf(".")&&(n="("+n+")");var i=typeof r;"object"===i?(r=u(r,[])).length&&t.push("option "+n+" = {",r,"};"):("string"===i&&"optimize_for"!==n&&(r='"'+r+'"'),t.push("option "+n+" = "+r+";"))})),n.length>0&&t.push(""),t},u=function(e,t){return Object.keys(e).forEach((function(n){var r=e[n],i=typeof r;"object"===i?Array.isArray(r)?r.forEach((function(e){(e=u(e,[])).length&&t.push(n+" {",e,"}")})):(r=u(r,[])).length&&t.push(n+" {",r,"}"):("string"===i&&(r='"'+r+'"'),t.push(n+": "+r))})),t},c=function(e,t){var n="rpc "+e.name+"(";e.client_streaming&&(n+="stream "),n+=e.input_type+") returns (",e.server_streaming&&(n+="stream "),n+=e.output_type+")",e.options||(e.options={});var r=a(e.options,[]);return r.length>1?t.push(n+" {",r.slice(0,-1),"}"):t.push(n+";"),t},f=function(e){return function(t){return Array.isArray(t)?t.map(f(e+"  ")).join("\n"):e+t}};e.exports=function(e){var t=[];return t.push('syntax = "proto'+e.syntax+'";',""),e.package&&t.push("package "+e.package+";",""),e.options||(e.options={}),a(e.options,t),e.enums||(e.enums=[]),e.enums.forEach((function(e){s(e,t)})),e.messages||(e.messages=[]),e.messages.forEach((function(e){i(e,t)})),e.services&&e.services.forEach((function(e){!function(e,t){t.push("service "+e.name+" {"),e.options||(e.options={}),a(e.options,t),e.methods||(e.methods=[]),e.methods.forEach((function(e){t.push(c(e,[]))})),t.push("}","")}(e,t)})),t.map(f("")).join("\n")}},function(e,t,n){"use strict";const r=n(118),i=n(132),s=n(133),o=n(134),a=n(0);e.exports=function(e,t){const n={},u={},c={},f=function(e,t){e.enums&&e.enums.forEach((function(e){e.id=t+(t?".":"")+e.name,u[e.id]=e,f(e,e.id)})),e.messages&&e.messages.forEach((function(r){r.id=t+(t?".":"")+r.name,n[r.id]=r,r.fields.forEach((function(r){if(!r.map)return;const i="Map_"+r.map.from+"_"+r.map.to,s={name:i,enums:[],messages:[],fields:[{name:"key",type:r.map.from,tag:1,repeated:!1,required:!0},{name:"value",type:r.map.to,tag:2,repeated:!1,required:!1}],extensions:null,id:t+(t?".":"")+i};n[s.id]||(n[s.id]=s,e.messages.push(s)),r.type=i,r.repeated=!0})),f(r,r.id)}))};f(e,"");const h=function(e,t){e.messages.forEach((function(n){t[n.name]=l(n.name,e.id)})),e.enums.forEach((function(e){t[e.name]=function(e){if(!e)return null;const t={};return Object.keys(e).forEach((function(n){t[n]=e[n].value})),t}(e.values)})),t.type=2,t.message=!0,t.name=e.name;const n={};e.fields.forEach((function(e){e.oneof&&(n[e.oneof]||(n[e.oneof]=[]),n[e.oneof].push(e.name))}));const r=e.fields.map((function(t){return l(t.type,e.id)})),a=o(e,r,n),u=s(e,l,r,n,a),c=i(e,l,r);return u.bytes=c.bytes=0,t.buffer=!0,t.encode=u,t.decode=c,t.encodingLength=a,t},l=function(e,i,s){if(t&&t[e])return t[e];if(r[e])return r[e];const o=(i?i+"."+e:e).split(".").map((function(t,n,r){return r.slice(0,n).concat(e).join(".")})).reverse().reduce((function(e,t){return e||n[t]||u[t]}),null);if(!1===s)return o;if(!o)throw new Error("Could not resolve "+e);if(o.values)return function(e){const t=Object.keys(e.values||[]).map((function(t){return parseInt(e.values[t].value,10)}));return r.make(0,(function e(n,r,i,s){if(!t.length||-1===t.indexOf(n))throw new Error("Invalid enum value: "+n);return a.encode(n,r,s),e.bytes=a.encode.bytes,r}),(function e(n,r,i){var s=a.decode(n,i);if(!t.length||-1===t.indexOf(s))throw new Error("Invalid enum value: "+s);return e.bytes=a.decode.bytes,s}),a.encodingLength)}(o);return c[o.id]||h(o,c[o.id]={})};return(e.enums||[]).concat((e.messages||[]).map((function(e){return l(e.id)})))}},function(e,t,n){"use strict";t.make=n(1),t.bytes=n(119),t.string=n(120),t.bool=n(121),t.int32=n(122),t.int64=n(123),t.sint32=t.sint64=n(124),t.uint32=t.uint64=t.enum=t.varint=n(126),t.fixed64=t.sfixed64=n(127),t.double=n(128),t.fixed32=n(129),t.sfixed32=n(130),t.float=n(131)},function(e,t,n){"use strict";const r=n(0),i=n(1);function s(e){return e.byteLength}e.exports=i(2,(function e(t,n,i,o){const a=o,u=s(t);r.encode(u,n,o),o+=r.encode.bytes,n.set(t,o),e.bytes=(o+=u)-a}),(function e(t,n,i){const s=i,o=r.decode(t,i);i+=r.decode.bytes;const a=t.slice(i,i+o);return i+=a.length,e.bytes=i-s,a}),(function(e){const t=s(e);return r.encodingLength(t)+t}))},function(e,t,n){"use strict";const r=n(0),i=n(5),s=n(10),o=n(1);e.exports=o(2,(function e(t,n,s,o){const a=o,u=i(t).byteLength;r.encode(u,n,o,"utf-8"),o+=r.encode.bytes;const c=i(t);n.set(c,o),o+=c.length,e.bytes=o-a}),(function e(t,n,i){const o=i,a=r.decode(t,i);i+=r.decode.bytes;const u=s(t.subarray(i,i+a));return e.bytes=(i+=a)-o,u}),(function(e){const t=i(e).byteLength;return r.encodingLength(t)+t}))},function(e,t,n){"use strict";const r=n(1);e.exports=r(0,(function e(t,n,r,i){n[i]=t?1:0,e.bytes=1}),(function e(t,n,r){const i=t[r]>0;return e.bytes=1,i}),(function(){return 1}))},function(e,t,n){"use strict";const r=n(0),i=n(1);e.exports=i(0,(function e(t,n,i,s){r.encode(t<0?t+4294967296:t,n,s),e.bytes=r.encode.bytes}),(function e(t,n,i){const s=r.decode(t,i);return e.bytes=r.decode.bytes,s>2147483647?s-4294967296:s}),(function(e){return r.encodingLength(e<0?e+4294967296:e)}))},function(e,t,n){"use strict";const r=n(0),i=n(1);e.exports=i(0,(function e(t,n,i,s){if(t<0){const i=s+9;for(r.encode(-1*t,n,s),n[s+=r.encode.bytes-1]=128|n[s];s<i-1;)n[++s]=255;n[i]=1,e.bytes=10}else r.encode(t,n,s),e.bytes=r.encode.bytes}),(function e(t,n,i){let s=r.decode(t,i);if(s>=Math.pow(2,63)){let n=9;for(;255===t[i+n-1];)n--;n=n||9;const o=t.subarray(i,i+n);o[n-1]=127&o[n-1],s=-1*r.decode(o,0),e.bytes=10}else e.bytes=r.decode.bytes;return s}),(function(e){return e<0?10:r.encodingLength(e)}))},function(e,t,n){"use strict";const r=n(125),i=n(1);e.exports=i(0,(function e(t,n,i,s){r.encode(t,n,s),e.bytes=r.encode.bytes}),(function e(t,n,i){const s=r.decode(t,i);return e.bytes=r.decode.bytes,s}),r.encodingLength)},function(e,t,n){"use strict";var r=n(0);t.encode=function e(t,n,i){t=t>=0?2*t:-2*t-1;var s=r.encode(t,n,i);return e.bytes=r.encode.bytes,s},t.decode=function e(t,n){var i=r.decode(t,n);return e.bytes=r.decode.bytes,1&i?(i+1)/-2:i/2},t.encodingLength=function(e){return r.encodingLength(e>=0?2*e:-2*e-1)}},function(e,t,n){"use strict";const r=n(0),i=n(1);e.exports=i(0,(function e(t,n,i,s){r.encode(t,n,s),e.bytes=r.encode.bytes}),(function e(t,n,i){const s=r.decode(t,i);return e.bytes=r.decode.bytes,s}),r.encodingLength)},function(e,t,n){"use strict";const r=n(1);e.exports=r(1,(function e(t,n,r,i){for(const s of t)n[i]=s,i++;e.bytes=8}),(function e(t,n,r){const i=t.slice(r,r+8);return e.bytes=8,i}),(function(){return 8}))},function(e,t,n){"use strict";const r=n(1);e.exports=r(1,(function e(t,n,r,i){r.setFloat64(i,t,!0),e.bytes=8}),(function e(t,n,r){const i=n.getFloat64(r,!0);return e.bytes=8,i}),(function(){return 8}))},function(e,t,n){"use strict";const r=n(1);e.exports=r(5,(function e(t,n,r,i){r.setUint32(i,t,!0),e.bytes=4}),(function e(t,n,r){const i=n.getUint32(r,!0);return e.bytes=4,i}),(function(e){return 4}))},function(e,t,n){"use strict";const r=n(1);e.exports=r(5,(function e(t,n,r,i){r.setInt32(i,t,!0),e.bytes=4}),(function e(t,n,r){const i=n.getInt32(r,!0);return e.bytes=4,i}),(function(e){return 4}))},function(e,t,n){"use strict";const r=n(1);e.exports=r(5,(function e(t,n,r,i){r.setFloat32(i,t,!0),e.bytes=4}),(function e(t,n,r){const i=n.getFloat32(r,!0);return e.bytes=4,i}),(function(){return 4}))},function(e,t,n){"use strict";const r=n(0),i=n(39).defined;function s(e){return`${e.substring(0,1).toUpperCase()}${e.substring(1)}`}function o(e,t,n,r){if(Object.prototype.hasOwnProperty.call(e,t))return;const i=s(t);Object.defineProperties(e,{[t]:{enumerable:!0,configurable:!0,set:e=>{n=e},get:()=>void 0===n?r:n},["has"+i]:{configurable:!0,value:()=>void 0!==n},["set"+i]:{configurable:!0,value:e=>{n=e}},["get"+i]:{configurable:!0,value:()=>n},["clear"+i]:{configurable:!0,value:()=>{n=void 0,e[t]=void 0}}})}var a=function(e,t,n,i){switch(e){case 0:return r.decode(t,i),i+r.decode.bytes;case 1:return i+8;case 2:var s=r.decode(t,i);return i+r.decode.bytes+s;case 3:case 4:throw new Error("Groups are not supported");case 5:return i+4;default:throw new Error("Unknown wire type: "+e)}},u=function(e){if(e.map)return{};if(e.repeated)return[];switch(e.type){case"string":return"";case"bool":return!1;case"float":case"double":case"sfixed32":case"fixed32":case"varint":case"enum":case"uint64":case"uint32":case"int64":case"int32":case"sint64":case"sint32":return 0;default:return null}},c=function(e,t){if(void 0===t)return t;switch(e.type){case"bool":return"true"===t;case"float":case"double":case"sfixed32":case"fixed32":case"varint":case"enum":case"uint64":case"uint32":case"int64":case"int32":case"sint64":case"sint32":return parseInt(t,10);default:return t}};e.exports=function(e,t,n){const f=[],h={},l=[],d=[];for(var p=0;p<n.length;p++){const n=e.fields[p];h[n.tag]=p;const r=n.options&&n.options.default,i=t(n.type,e.id,!1);d[p]=[r,i&&i.values],e.fields[p].packed=n.repeated&&n.options&&n.options.packed&&"false"!==n.options.packed,n.required&&f.push(n.name),n.oneof&&l.push(n.name)}function g(e,t,n,i,a,u,c){const f=t.name;if(t.oneof){const e=Object.keys(n);for(var h=0;h<e.length;h++)if(l.indexOf(e[h])>-1){const t=s(e[h]);delete n["has"+t],delete n["get"+t],delete n["set"+t],delete n["clear"+t],delete n[e[h]]}}let d;if(e.message){const s=r.decode(i,u);u+=r.decode.bytes;const o=e.decode(i,a,u,u+s);t.map?(d=n[f]||{},d[o.key]=o.value):t.repeated?(d=n[f]||[],d.push(o)):d=o}else t.repeated?(d=n[f]||[],d.push(e.decode(i,a,u))):d=e.decode(i,a,u);return o(n,f,d),u+=e.decode.bytes}return function t(s,p,b,y){if(null==b&&(b=0),null==y&&(y=s.length),!(y<=s.length&&b<=s.length))throw new Error("Decoded message is not valid");p||(p=new DataView(s.buffer,s.byteOffset,s.byteLength));for(var m,w=b,k={};;){if(y<=b){var v,E,_="",A=0;for(A=0;A<f.length;A++)if(_=f[A],!i(k[_]))throw new Error("Decoded message is not valid, missing required field: "+_);for(A=0;A<n.length;A++){let t;if(m=e.fields[A],E=d[A][0],v=d[A][1],_=m.name,!Object.prototype.hasOwnProperty.call(k,_)){var S=!1;if(m.oneof)for(var x=Object.keys(k),I=0;I<x.length;I++)if(l.indexOf(x[I])>-1){S=!0;break}S||(v?m.repeated?E=[]:(E=E&&v[E]?v[E].value:v[Object.keys(v)[0]].value,E=parseInt(E||0,10)):(t=u(m),E=c(m,E)),o(k,_,E,t))}}return t.bytes=b-w,k}var T=r.decode(s,b);b+=r.decode.bytes;var N=h[T>>3];if(null!=N){var O=n[N];if((m=e.fields[N]).packed){var R=r.decode(s,b);for(R+=b+=r.decode.bytes;b<R;)b=g(O,m,k,s,p,b)}else b=g(O,m,k,s,p,b)}else b=a(7&T,s,p,b)}}}},function(e,t,n){"use strict";var r=n(39).defined,i=n(0);e.exports=function(e,t,n,s,o){const a=Object.keys(s),u=n.length,c={};for(let r=0;r<u;r++){c[r]={p:i.encode(e.fields[r].tag<<3|2),h:i.encode(e.fields[r].tag<<3|n[r].type)};const t=e.fields[r];e.fields[r].packed=t.repeated&&t.options&&t.options.packed&&"false"!==t.options.packed}function f(e,t,n,r,s,o,a){let u=0;if(!o)for(u=0;u<r.length;u++)e[n++]=r[u];return s.message&&(i.encode(s.encodingLength(a),e,n),n+=i.encode.bytes),s.encode(a,e,t,n),n+s.encode.bytes}return function t(h,l,d,p=0){null==l&&(l=new Uint8Array(o(h))),null==d&&(d=new DataView(l.buffer,l.byteOffset,l.byteLength));const g=p,b=Object.keys(h);let y=0,m=!1;for(y=0;y<a.length;y++){const e=a[y],t=s[y];if(b.indexOf(t)>-1){if(m)throw new Error("only one of the properties defined in oneof "+e+" can be set");m=!0}}for(y=0;y<u;y++){const t=n[y],s=e.fields[y];let o=h[s.name],a=0;if(!r(o)){if(s.required)throw new Error(s.name+" is required");continue}const u=c[y].p,g=c[y].h,b=s.packed;if(s.map){const e=Object.keys(o);for(a=0;a<e.length;a++)e[a]={key:e[a],value:o[e[a]]};o=e}if(b){let e=0;for(a=0;a<o.length;a++)Object.prototype.hasOwnProperty.call(o,a)&&(e+=t.encodingLength(o[a]));if(e){for(a=0;a<g.length;a++)l[p++]=u[a];i.encode(e,l,p),p+=i.encode.bytes}}if(s.repeated){let e;for(a=0;a<o.length;a++)e=o[a],r(e)&&(p=f(l,d,p,g,t,b,e))}else p=f(l,d,p,g,t,b,o)}return t.bytes=p-g,l}}},function(e,t,n){"use strict";var r=n(39).defined,i=n(0);e.exports=function(e,t,n){const s=Object.keys(n),o=t.length,a=new Array(o);for(let r=0;r<e.fields.length;r++){a[r]=i.encodingLength(e.fields[r].tag<<3|t[r].type);const n=e.fields[r];e.fields[r].packed=n.repeated&&n.options&&n.options.packed&&"false"!==n.options.packed}return function(u){let c=0,f=0,h=0;for(f=0;f<s.length;f++){const e=s[f],t=n[e];let i=!1;for(h=0;h<t.length;h++)if(r(u[t[h]])){if(i)throw new Error("only one of the properties defined in oneof "+e+" can be set");i=!0}}for(f=0;f<o;f++){const n=t[f],s=e.fields[f];let o=u[s.name];const l=a[f];let d;if(r(o)){if(s.map){const e=Object.keys(o);for(h=0;h<e.length;h++)e[h]={key:e[h],value:o[e[h]]};o=e}if(s.packed){let e=0;for(h=0;h<o.length;h++)r(o[h])&&(d=n.encodingLength(o[h]),e+=d,n.message&&(e+=i.encodingLength(d)));e&&(c+=l+e+i.encodingLength(e))}else if(s.repeated)for(h=0;h<o.length;h++)r(o[h])&&(d=n.encodingLength(o[h]),c+=l+d+(n.message?i.encodingLength(d):0));else d=n.encodingLength(o),c+=l+d+(n.message?i.encodingLength(d):0)}else if(s.required)throw new Error(s.name+" is required")}return c}}},function(e,t,n){"use strict";const r=n(12),i=n(63);e.exports=async(e,t={})=>{const n=await i.cid(e.serialize(),t);return new r(t.name||"",e.size,n)}},function(e,t,n){"use strict";const r=n(137),i=n(139),{factory:s}=n(141),{fromNumberTo32BitBuf:o}=n(142),a=n(5),u=e=>async t=>{switch(e){case"sha3-224":return new Uint8Array(r.sha3_224.arrayBuffer(t));case"sha3-256":return new Uint8Array(r.sha3_256.arrayBuffer(t));case"sha3-384":return new Uint8Array(r.sha3_384.arrayBuffer(t));case"sha3-512":return new Uint8Array(r.sha3_512.arrayBuffer(t));case"shake-128":return new Uint8Array(r.shake128.create(128).update(t).arrayBuffer());case"shake-256":return new Uint8Array(r.shake256.create(256).update(t).arrayBuffer());case"keccak-224":return new Uint8Array(r.keccak224.arrayBuffer(t));case"keccak-256":return new Uint8Array(r.keccak256.arrayBuffer(t));case"keccak-384":return new Uint8Array(r.keccak384.arrayBuffer(t));case"keccak-512":return new Uint8Array(r.keccak512.arrayBuffer(t));case"murmur3-128":return a(i.x64.hash128(t),"base16");case"murmur3-32":return o(i.x86.hash32(t));default:throw new TypeError(e+" is not a supported algorithm")}};e.exports={identity:e=>e,sha1:s("sha1"),sha2256:s("sha2-256"),sha2512:s("sha2-512"),dblSha2256:s("dbl-sha2-256"),sha3224:u("sha3-224"),sha3256:u("sha3-256"),sha3384:u("sha3-384"),sha3512:u("sha3-512"),shake128:u("shake-128"),shake256:u("shake-256"),keccak224:u("keccak-224"),keccak256:u("keccak-256"),keccak384:u("keccak-384"),keccak512:u("keccak-512"),murmur3128:u("murmur3-128"),murmur332:u("murmur3-32"),addBlake:n(143)}},function(e,t,n){"use strict";(function(r,i){var s;!function(){var o="input is invalid type",a="object"==typeof window,u=a?window:{};u.JS_SHA3_NO_WINDOW&&(a=!1);var c=!a&&"object"==typeof self;!u.JS_SHA3_NO_NODE_JS&&"object"==typeof r&&r.versions&&r.versions.node?u=i:c&&(u=self);var f=!u.JS_SHA3_NO_COMMON_JS&&"object"==typeof e&&e.exports,h=n(138),l=!u.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,d="0123456789abcdef".split(""),p=[4,1024,262144,67108864],g=[0,8,16,24],b=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],y=[224,256,384,512],m=[128,256],w=["hex","buffer","arrayBuffer","array","digest"],k={128:168,256:136};!u.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!l||!u.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});for(var v=function(e,t,n){return function(r){return new M(e,t,e).update(r)[n]()}},E=function(e,t,n){return function(r,i){return new M(e,t,i).update(r)[n]()}},_=function(e,t,n){return function(t,r,i,s){return T["cshake"+e].update(t,r,i,s)[n]()}},A=function(e,t,n){return function(t,r,i,s){return T["kmac"+e].update(t,r,i,s)[n]()}},S=function(e,t,n,r){for(var i=0;i<w.length;++i){var s=w[i];e[s]=t(n,r,s)}return e},x=function(e,t){var n=v(e,t,"hex");return n.create=function(){return new M(e,t,e)},n.update=function(e){return n.create().update(e)},S(n,v,e,t)},I=[{name:"keccak",padding:[1,256,65536,16777216],bits:y,createMethod:x},{name:"sha3",padding:[6,1536,393216,100663296],bits:y,createMethod:x},{name:"shake",padding:[31,7936,2031616,520093696],bits:m,createMethod:function(e,t){var n=E(e,t,"hex");return n.create=function(n){return new M(e,t,n)},n.update=function(e,t){return n.create(t).update(e)},S(n,E,e,t)}},{name:"cshake",padding:p,bits:m,createMethod:function(e,t){var n=k[e],r=_(e,0,"hex");return r.create=function(r,i,s){return i||s?new M(e,t,r).bytepad([i,s],n):T["shake"+e].create(r)},r.update=function(e,t,n,i){return r.create(t,n,i).update(e)},S(r,_,e,t)}},{name:"kmac",padding:p,bits:m,createMethod:function(e,t){var n=k[e],r=A(e,0,"hex");return r.create=function(r,i,s){return new j(e,t,i).bytepad(["KMAC",s],n).bytepad([r],n)},r.update=function(e,t,n,i){return r.create(e,n,i).update(t)},S(r,A,e,t)}}],T={},N=[],O=0;O<I.length;++O)for(var R=I[O],U=R.bits,B=0;B<U.length;++B){var C=R.name+"_"+U[B];if(N.push(C),T[C]=R.createMethod(U[B],R.padding),"sha3"!==R.name){var L=R.name+U[B];N.push(L),T[L]=T[C]}}function M(e,t,n){this.blocks=[],this.s=[],this.padding=t,this.outputBits=n,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=n>>5,this.extraBytes=(31&n)>>3;for(var r=0;r<50;++r)this.s[r]=0}function j(e,t,n){M.call(this,e,t,n)}M.prototype.update=function(e){if(this.finalized)throw new Error("finalize already called");var t,n=typeof e;if("string"!==n){if("object"!==n)throw new Error(o);if(null===e)throw new Error(o);if(l&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||l&&ArrayBuffer.isView(e)))throw new Error(o);t=!0}for(var r,i,s=this.blocks,a=this.byteCount,u=e.length,c=this.blockCount,f=0,h=this.s;f<u;){if(this.reset)for(this.reset=!1,s[0]=this.block,r=1;r<c+1;++r)s[r]=0;if(t)for(r=this.start;f<u&&r<a;++f)s[r>>2]|=e[f]<<g[3&r++];else for(r=this.start;f<u&&r<a;++f)(i=e.charCodeAt(f))<128?s[r>>2]|=i<<g[3&r++]:i<2048?(s[r>>2]|=(192|i>>6)<<g[3&r++],s[r>>2]|=(128|63&i)<<g[3&r++]):i<55296||i>=57344?(s[r>>2]|=(224|i>>12)<<g[3&r++],s[r>>2]|=(128|i>>6&63)<<g[3&r++],s[r>>2]|=(128|63&i)<<g[3&r++]):(i=65536+((1023&i)<<10|1023&e.charCodeAt(++f)),s[r>>2]|=(240|i>>18)<<g[3&r++],s[r>>2]|=(128|i>>12&63)<<g[3&r++],s[r>>2]|=(128|i>>6&63)<<g[3&r++],s[r>>2]|=(128|63&i)<<g[3&r++]);if(this.lastByteIndex=r,r>=a){for(this.start=r-a,this.block=s[c],r=0;r<c;++r)h[r]^=s[r];D(h),this.reset=!0}else this.start=r}return this},M.prototype.encode=function(e,t){var n=255&e,r=1,i=[n];for(n=255&(e>>=8);n>0;)i.unshift(n),n=255&(e>>=8),++r;return t?i.push(r):i.unshift(r),this.update(i),i.length},M.prototype.encodeString=function(e){var t,n=typeof e;if("string"!==n){if("object"!==n)throw new Error(o);if(null===e)throw new Error(o);if(l&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||l&&ArrayBuffer.isView(e)))throw new Error(o);t=!0}var r=0,i=e.length;if(t)r=i;else for(var s=0;s<e.length;++s){var a=e.charCodeAt(s);a<128?r+=1:a<2048?r+=2:a<55296||a>=57344?r+=3:(a=65536+((1023&a)<<10|1023&e.charCodeAt(++s)),r+=4)}return r+=this.encode(8*r),this.update(e),r},M.prototype.bytepad=function(e,t){for(var n=this.encode(t),r=0;r<e.length;++r)n+=this.encodeString(e[r]);var i=t-n%t,s=[];return s.length=i,this.update(s),this},M.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex,n=this.blockCount,r=this.s;if(e[t>>2]|=this.padding[3&t],this.lastByteIndex===this.byteCount)for(e[0]=e[n],t=1;t<n+1;++t)e[t]=0;for(e[n-1]|=2147483648,t=0;t<n;++t)r[t]^=e[t];D(r)}},M.prototype.toString=M.prototype.hex=function(){this.finalize();for(var e,t=this.blockCount,n=this.s,r=this.outputBlocks,i=this.extraBytes,s=0,o=0,a="";o<r;){for(s=0;s<t&&o<r;++s,++o)e=n[s],a+=d[e>>4&15]+d[15&e]+d[e>>12&15]+d[e>>8&15]+d[e>>20&15]+d[e>>16&15]+d[e>>28&15]+d[e>>24&15];o%t==0&&(D(n),s=0)}return i&&(e=n[s],a+=d[e>>4&15]+d[15&e],i>1&&(a+=d[e>>12&15]+d[e>>8&15]),i>2&&(a+=d[e>>20&15]+d[e>>16&15])),a},M.prototype.arrayBuffer=function(){this.finalize();var e,t=this.blockCount,n=this.s,r=this.outputBlocks,i=this.extraBytes,s=0,o=0,a=this.outputBits>>3;e=i?new ArrayBuffer(r+1<<2):new ArrayBuffer(a);for(var u=new Uint32Array(e);o<r;){for(s=0;s<t&&o<r;++s,++o)u[o]=n[s];o%t==0&&D(n)}return i&&(u[s]=n[s],e=e.slice(0,a)),e},M.prototype.buffer=M.prototype.arrayBuffer,M.prototype.digest=M.prototype.array=function(){this.finalize();for(var e,t,n=this.blockCount,r=this.s,i=this.outputBlocks,s=this.extraBytes,o=0,a=0,u=[];a<i;){for(o=0;o<n&&a<i;++o,++a)e=a<<2,t=r[o],u[e]=255&t,u[e+1]=t>>8&255,u[e+2]=t>>16&255,u[e+3]=t>>24&255;a%n==0&&D(r)}return s&&(e=a<<2,t=r[o],u[e]=255&t,s>1&&(u[e+1]=t>>8&255),s>2&&(u[e+2]=t>>16&255)),u},j.prototype=new M,j.prototype.finalize=function(){return this.encode(this.outputBits,!0),M.prototype.finalize.call(this)};var D=function(e){var t,n,r,i,s,o,a,u,c,f,h,l,d,p,g,y,m,w,k,v,E,_,A,S,x,I,T,N,O,R,U,B,C,L,M,j,D,P,F,z,G,q,H,Y,$,V,W,K,J,X,Z,Q,ee,te,ne,re,ie,se,oe,ae,ue,ce,fe;for(r=0;r<48;r+=2)i=e[0]^e[10]^e[20]^e[30]^e[40],s=e[1]^e[11]^e[21]^e[31]^e[41],o=e[2]^e[12]^e[22]^e[32]^e[42],a=e[3]^e[13]^e[23]^e[33]^e[43],u=e[4]^e[14]^e[24]^e[34]^e[44],c=e[5]^e[15]^e[25]^e[35]^e[45],f=e[6]^e[16]^e[26]^e[36]^e[46],h=e[7]^e[17]^e[27]^e[37]^e[47],t=(l=e[8]^e[18]^e[28]^e[38]^e[48])^(o<<1|a>>>31),n=(d=e[9]^e[19]^e[29]^e[39]^e[49])^(a<<1|o>>>31),e[0]^=t,e[1]^=n,e[10]^=t,e[11]^=n,e[20]^=t,e[21]^=n,e[30]^=t,e[31]^=n,e[40]^=t,e[41]^=n,t=i^(u<<1|c>>>31),n=s^(c<<1|u>>>31),e[2]^=t,e[3]^=n,e[12]^=t,e[13]^=n,e[22]^=t,e[23]^=n,e[32]^=t,e[33]^=n,e[42]^=t,e[43]^=n,t=o^(f<<1|h>>>31),n=a^(h<<1|f>>>31),e[4]^=t,e[5]^=n,e[14]^=t,e[15]^=n,e[24]^=t,e[25]^=n,e[34]^=t,e[35]^=n,e[44]^=t,e[45]^=n,t=u^(l<<1|d>>>31),n=c^(d<<1|l>>>31),e[6]^=t,e[7]^=n,e[16]^=t,e[17]^=n,e[26]^=t,e[27]^=n,e[36]^=t,e[37]^=n,e[46]^=t,e[47]^=n,t=f^(i<<1|s>>>31),n=h^(s<<1|i>>>31),e[8]^=t,e[9]^=n,e[18]^=t,e[19]^=n,e[28]^=t,e[29]^=n,e[38]^=t,e[39]^=n,e[48]^=t,e[49]^=n,p=e[0],g=e[1],V=e[11]<<4|e[10]>>>28,W=e[10]<<4|e[11]>>>28,N=e[20]<<3|e[21]>>>29,O=e[21]<<3|e[20]>>>29,ae=e[31]<<9|e[30]>>>23,ue=e[30]<<9|e[31]>>>23,q=e[40]<<18|e[41]>>>14,H=e[41]<<18|e[40]>>>14,L=e[2]<<1|e[3]>>>31,M=e[3]<<1|e[2]>>>31,y=e[13]<<12|e[12]>>>20,m=e[12]<<12|e[13]>>>20,K=e[22]<<10|e[23]>>>22,J=e[23]<<10|e[22]>>>22,R=e[33]<<13|e[32]>>>19,U=e[32]<<13|e[33]>>>19,ce=e[42]<<2|e[43]>>>30,fe=e[43]<<2|e[42]>>>30,te=e[5]<<30|e[4]>>>2,ne=e[4]<<30|e[5]>>>2,j=e[14]<<6|e[15]>>>26,D=e[15]<<6|e[14]>>>26,w=e[25]<<11|e[24]>>>21,k=e[24]<<11|e[25]>>>21,X=e[34]<<15|e[35]>>>17,Z=e[35]<<15|e[34]>>>17,B=e[45]<<29|e[44]>>>3,C=e[44]<<29|e[45]>>>3,S=e[6]<<28|e[7]>>>4,x=e[7]<<28|e[6]>>>4,re=e[17]<<23|e[16]>>>9,ie=e[16]<<23|e[17]>>>9,P=e[26]<<25|e[27]>>>7,F=e[27]<<25|e[26]>>>7,v=e[36]<<21|e[37]>>>11,E=e[37]<<21|e[36]>>>11,Q=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,Y=e[8]<<27|e[9]>>>5,$=e[9]<<27|e[8]>>>5,I=e[18]<<20|e[19]>>>12,T=e[19]<<20|e[18]>>>12,se=e[29]<<7|e[28]>>>25,oe=e[28]<<7|e[29]>>>25,z=e[38]<<8|e[39]>>>24,G=e[39]<<8|e[38]>>>24,_=e[48]<<14|e[49]>>>18,A=e[49]<<14|e[48]>>>18,e[0]=p^~y&w,e[1]=g^~m&k,e[10]=S^~I&N,e[11]=x^~T&O,e[20]=L^~j&P,e[21]=M^~D&F,e[30]=Y^~V&K,e[31]=$^~W&J,e[40]=te^~re&se,e[41]=ne^~ie&oe,e[2]=y^~w&v,e[3]=m^~k&E,e[12]=I^~N&R,e[13]=T^~O&U,e[22]=j^~P&z,e[23]=D^~F&G,e[32]=V^~K&X,e[33]=W^~J&Z,e[42]=re^~se&ae,e[43]=ie^~oe&ue,e[4]=w^~v&_,e[5]=k^~E&A,e[14]=N^~R&B,e[15]=O^~U&C,e[24]=P^~z&q,e[25]=F^~G&H,e[34]=K^~X&Q,e[35]=J^~Z&ee,e[44]=se^~ae&ce,e[45]=oe^~ue&fe,e[6]=v^~_&p,e[7]=E^~A&g,e[16]=R^~B&S,e[17]=U^~C&x,e[26]=z^~q&L,e[27]=G^~H&M,e[36]=X^~Q&Y,e[37]=Z^~ee&$,e[46]=ae^~ce&te,e[47]=ue^~fe&ne,e[8]=_^~p&y,e[9]=A^~g&m,e[18]=B^~S&I,e[19]=C^~x&T,e[28]=q^~L&j,e[29]=H^~M&D,e[38]=Q^~Y&V,e[39]=ee^~$&W,e[48]=ce^~te&re,e[49]=fe^~ne&ie,e[0]^=b[r],e[1]^=b[r+1]};if(f)e.exports=T;else{for(O=0;O<N.length;++O)u[N[O]]=T[N[O]];h&&(void 0===(s=function(){return T}.call(t,n,t,e))||(e.exports=s))}}()}).call(this,n(11),n(9))},function(e,t){(function(t){e.exports=t}).call(this,{})},function(e,t,n){"use strict";e.exports=n(140)},function(e,t,n){"use strict";!function(n,r){var i={version:"3.0.0",x86:{},x64:{},inputValidation:!0};function s(e){if(!Array.isArray(e)&&!ArrayBuffer.isView(e))return!1;for(var t=0;t<e.length;t++)if(!Number.isInteger(e[t])||e[t]<0||e[t]>255)return!1;return!0}function o(e,t){return(65535&e)*t+(((e>>>16)*t&65535)<<16)}function a(e,t){return e<<t|e>>>32-t}function u(e){return e=o(e^=e>>>16,2246822507),e=o(e^=e>>>13,3266489909),e^=e>>>16}function c(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]+t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]+t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]+t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]+t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function f(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]*t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]*t[3],n[1]+=n[2]>>>16,n[2]&=65535,n[2]+=e[3]*t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]*t[3],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[2]*t[2],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[3]*t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]*t[3]+e[1]*t[2]+e[2]*t[1]+e[3]*t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function h(e,t){return 32===(t%=64)?[e[1],e[0]]:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t|e[0]>>>32-t]:(t-=32,[e[1]<<t|e[0]>>>32-t,e[0]<<t|e[1]>>>32-t])}function l(e,t){return 0===(t%=64)?e:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t]:[e[1]<<t-32,0]}function d(e,t){return[e[0]^t[0],e[1]^t[1]]}function p(e){return e=d(e,[0,e[0]>>>1]),e=d(e=f(e,[4283543511,3981806797]),[0,e[0]>>>1]),e=d(e=f(e,[3301882366,444984403]),[0,e[0]>>>1])}i.x86.hash32=function(e,t){if(!i.inputValidation||s(e)){t=t||0;for(var n=e.length%4,r=e.length-n,c=t,f=0,h=3432918353,l=461845907,d=0;d<r;d+=4)f=o(f=e[d]|e[d+1]<<8|e[d+2]<<16|e[d+3]<<24,h),f=o(f=a(f,15),l),c=o(c=a(c^=f,13),5)+3864292196;switch(f=0,n){case 3:f^=e[d+2]<<16;case 2:f^=e[d+1]<<8;case 1:f=o(f^=e[d],h),c^=f=o(f=a(f,15),l)}return(c=u(c^=e.length))>>>0}},i.x86.hash128=function(e,t){if(!i.inputValidation||s(e)){t=t||0;for(var n=e.length%16,r=e.length-n,c=t,f=t,h=t,l=t,d=0,p=0,g=0,b=0,y=597399067,m=2869860233,w=951274213,k=2716044179,v=0;v<r;v+=16)d=e[v]|e[v+1]<<8|e[v+2]<<16|e[v+3]<<24,p=e[v+4]|e[v+5]<<8|e[v+6]<<16|e[v+7]<<24,g=e[v+8]|e[v+9]<<8|e[v+10]<<16|e[v+11]<<24,b=e[v+12]|e[v+13]<<8|e[v+14]<<16|e[v+15]<<24,d=a(d=o(d,y),15),c=a(c^=d=o(d,m),19),c=o(c+=f,5)+1444728091,p=a(p=o(p,m),16),f=a(f^=p=o(p,w),17),f=o(f+=h,5)+197830471,g=a(g=o(g,w),17),h=a(h^=g=o(g,k),15),h=o(h+=l,5)+2530024501,b=a(b=o(b,k),18),l=a(l^=b=o(b,y),13),l=o(l+=c,5)+850148119;switch(d=0,p=0,g=0,b=0,n){case 15:b^=e[v+14]<<16;case 14:b^=e[v+13]<<8;case 13:b=o(b^=e[v+12],k),l^=b=o(b=a(b,18),y);case 12:g^=e[v+11]<<24;case 11:g^=e[v+10]<<16;case 10:g^=e[v+9]<<8;case 9:g=o(g^=e[v+8],w),h^=g=o(g=a(g,17),k);case 8:p^=e[v+7]<<24;case 7:p^=e[v+6]<<16;case 6:p^=e[v+5]<<8;case 5:p=o(p^=e[v+4],m),f^=p=o(p=a(p,16),w);case 4:d^=e[v+3]<<24;case 3:d^=e[v+2]<<16;case 2:d^=e[v+1]<<8;case 1:d=o(d^=e[v],y),c^=d=o(d=a(d,15),m)}return c^=e.length,c+=f^=e.length,c+=h^=e.length,f+=c+=l^=e.length,h+=c,l+=c,c=u(c),c+=f=u(f),c+=h=u(h),f+=c+=l=u(l),h+=c,l+=c,("00000000"+(c>>>0).toString(16)).slice(-8)+("00000000"+(f>>>0).toString(16)).slice(-8)+("00000000"+(h>>>0).toString(16)).slice(-8)+("00000000"+(l>>>0).toString(16)).slice(-8)}},i.x64.hash128=function(e,t){if(!i.inputValidation||s(e)){t=t||0;for(var n=e.length%16,r=e.length-n,o=[0,t],a=[0,t],u=[0,0],g=[0,0],b=[2277735313,289559509],y=[1291169091,658871167],m=0;m<r;m+=16)u=[e[m+4]|e[m+5]<<8|e[m+6]<<16|e[m+7]<<24,e[m]|e[m+1]<<8|e[m+2]<<16|e[m+3]<<24],g=[e[m+12]|e[m+13]<<8|e[m+14]<<16|e[m+15]<<24,e[m+8]|e[m+9]<<8|e[m+10]<<16|e[m+11]<<24],u=h(u=f(u,b),31),o=c(o=h(o=d(o,u=f(u,y)),27),a),o=c(f(o,[0,5]),[0,1390208809]),g=h(g=f(g,y),33),a=c(a=h(a=d(a,g=f(g,b)),31),o),a=c(f(a,[0,5]),[0,944331445]);switch(u=[0,0],g=[0,0],n){case 15:g=d(g,l([0,e[m+14]],48));case 14:g=d(g,l([0,e[m+13]],40));case 13:g=d(g,l([0,e[m+12]],32));case 12:g=d(g,l([0,e[m+11]],24));case 11:g=d(g,l([0,e[m+10]],16));case 10:g=d(g,l([0,e[m+9]],8));case 9:g=f(g=d(g,[0,e[m+8]]),y),a=d(a,g=f(g=h(g,33),b));case 8:u=d(u,l([0,e[m+7]],56));case 7:u=d(u,l([0,e[m+6]],48));case 6:u=d(u,l([0,e[m+5]],40));case 5:u=d(u,l([0,e[m+4]],32));case 4:u=d(u,l([0,e[m+3]],24));case 3:u=d(u,l([0,e[m+2]],16));case 2:u=d(u,l([0,e[m+1]],8));case 1:u=f(u=d(u,[0,e[m]]),b),o=d(o,u=f(u=h(u,31),y))}return o=c(o=d(o,[0,e.length]),a=d(a,[0,e.length])),a=c(a,o),o=c(o=p(o),a=p(a)),a=c(a,o),("00000000"+(o[0]>>>0).toString(16)).slice(-8)+("00000000"+(o[1]>>>0).toString(16)).slice(-8)+("00000000"+(a[0]>>>0).toString(16)).slice(-8)+("00000000"+(a[1]>>>0).toString(16)).slice(-8)}},e.exports&&(t=e.exports=i),t.murmurHash3=i}()},function(e,t,n){"use strict";const r=n(25),i=self.crypto||self.msCrypto,s=async(e,t)=>{if("undefined"==typeof self||!self.crypto&&!self.msCrypto)throw new Error("Please use a browser with webcrypto support and ensure the code has been delivered securely via HTTPS/TLS and run within a Secure Context");switch(t){case"sha1":return new Uint8Array(await i.subtle.digest({name:"SHA-1"},e));case"sha2-256":return new Uint8Array(await i.subtle.digest({name:"SHA-256"},e));case"sha2-512":return new Uint8Array(await i.subtle.digest({name:"SHA-512"},e));case"dbl-sha2-256":{const t=await i.subtle.digest({name:"SHA-256"},e);return new Uint8Array(await i.subtle.digest({name:"SHA-256"},t))}default:throw new Error(t+" is not a supported algorithm")}};e.exports={factory:e=>async t=>s(t,e),digest:s,multihashing:async(e,t,n)=>{const i=await s(e,t);return r.encode(i,t,n)}}},function(e,t,n){"use strict";e.exports={fromNumberTo32BitBuf:e=>{const t=new Uint8Array(4);for(let n=0;n<4;n++)t[n]=255&e,e>>=8;return t}}},function(e,t,n){"use strict";const r=n(144),i={init:r.blake2bInit,update:r.blake2bUpdate,digest:r.blake2bFinal},s={init:r.blake2sInit,update:r.blake2sUpdate,digest:r.blake2sFinal},o=(e,t)=>async n=>{const r=t.init(e,null);return t.update(r,n),t.digest(r)};e.exports=e=>{for(let t=0;t<64;t++)e[45569+t]=o(t+1,i);for(let t=0;t<32;t++)e[45633+t]=o(t+1,s)}},function(e,t,n){"use strict";var r=n(145),i=n(146);e.exports={blake2b:r.blake2b,blake2bHex:r.blake2bHex,blake2bInit:r.blake2bInit,blake2bUpdate:r.blake2bUpdate,blake2bFinal:r.blake2bFinal,blake2s:i.blake2s,blake2sHex:i.blake2sHex,blake2sInit:i.blake2sInit,blake2sUpdate:i.blake2sUpdate,blake2sFinal:i.blake2sFinal}},function(e,t,n){"use strict";var r=n(65);function i(e,t,n){var r=e[t]+e[n],i=e[t+1]+e[n+1];r>=4294967296&&i++,e[t]=r,e[t+1]=i}function s(e,t,n,r){var i=e[t]+n;n<0&&(i+=4294967296);var s=e[t+1]+r;i>=4294967296&&s++,e[t]=i,e[t+1]=s}function o(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function a(e,t,n,r,o,a){var u=h[o],c=h[o+1],l=h[a],d=h[a+1];i(f,e,t),s(f,e,u,c);var p=f[r]^f[e],g=f[r+1]^f[e+1];f[r]=g,f[r+1]=p,i(f,n,r),p=f[t]^f[n],g=f[t+1]^f[n+1],f[t]=p>>>24^g<<8,f[t+1]=g>>>24^p<<8,i(f,e,t),s(f,e,l,d),p=f[r]^f[e],g=f[r+1]^f[e+1],f[r]=p>>>16^g<<16,f[r+1]=g>>>16^p<<16,i(f,n,r),p=f[t]^f[n],g=f[t+1]^f[n+1],f[t]=g>>>31^p<<1,f[t+1]=p>>>31^g<<1}var u=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),c=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3].map((function(e){return 2*e}))),f=new Uint32Array(32),h=new Uint32Array(32);function l(e,t){var n=0;for(n=0;n<16;n++)f[n]=e.h[n],f[n+16]=u[n];for(f[24]=f[24]^e.t,f[25]=f[25]^e.t/4294967296,t&&(f[28]=~f[28],f[29]=~f[29]),n=0;n<32;n++)h[n]=o(e.b,4*n);for(n=0;n<12;n++)a(0,8,16,24,c[16*n+0],c[16*n+1]),a(2,10,18,26,c[16*n+2],c[16*n+3]),a(4,12,20,28,c[16*n+4],c[16*n+5]),a(6,14,22,30,c[16*n+6],c[16*n+7]),a(0,10,20,30,c[16*n+8],c[16*n+9]),a(2,12,22,24,c[16*n+10],c[16*n+11]),a(4,14,16,26,c[16*n+12],c[16*n+13]),a(6,8,18,28,c[16*n+14],c[16*n+15]);for(n=0;n<16;n++)e.h[n]=e.h[n]^f[n]^f[n+16]}function d(e,t){if(0===e||e>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(t&&t.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");for(var n={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:e},r=0;r<16;r++)n.h[r]=u[r];var i=t?t.length:0;return n.h[0]^=16842752^i<<8^e,t&&(p(n,t),n.c=128),n}function p(e,t){for(var n=0;n<t.length;n++)128===e.c&&(e.t+=e.c,l(e,!1),e.c=0),e.b[e.c++]=t[n]}function g(e){for(e.t+=e.c;e.c<128;)e.b[e.c++]=0;l(e,!0);for(var t=new Uint8Array(e.outlen),n=0;n<e.outlen;n++)t[n]=e.h[n>>2]>>8*(3&n);return t}function b(e,t,n){n=n||64,e=r.normalizeInput(e);var i=d(n,t);return p(i,e),g(i)}e.exports={blake2b:b,blake2bHex:function(e,t,n){var i=b(e,t,n);return r.toHex(i)},blake2bInit:d,blake2bUpdate:p,blake2bFinal:g}},function(e,t,n){"use strict";var r=n(65);function i(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function s(e,t,n,r,i,s){c[e]=c[e]+c[t]+i,c[r]=o(c[r]^c[e],16),c[n]=c[n]+c[r],c[t]=o(c[t]^c[n],12),c[e]=c[e]+c[t]+s,c[r]=o(c[r]^c[e],8),c[n]=c[n]+c[r],c[t]=o(c[t]^c[n],7)}function o(e,t){return e>>>t^e<<32-t}var a=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),u=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),c=new Uint32Array(16),f=new Uint32Array(16);function h(e,t){var n=0;for(n=0;n<8;n++)c[n]=e.h[n],c[n+8]=a[n];for(c[12]^=e.t,c[13]^=e.t/4294967296,t&&(c[14]=~c[14]),n=0;n<16;n++)f[n]=i(e.b,4*n);for(n=0;n<10;n++)s(0,4,8,12,f[u[16*n+0]],f[u[16*n+1]]),s(1,5,9,13,f[u[16*n+2]],f[u[16*n+3]]),s(2,6,10,14,f[u[16*n+4]],f[u[16*n+5]]),s(3,7,11,15,f[u[16*n+6]],f[u[16*n+7]]),s(0,5,10,15,f[u[16*n+8]],f[u[16*n+9]]),s(1,6,11,12,f[u[16*n+10]],f[u[16*n+11]]),s(2,7,8,13,f[u[16*n+12]],f[u[16*n+13]]),s(3,4,9,14,f[u[16*n+14]],f[u[16*n+15]]);for(n=0;n<8;n++)e.h[n]^=c[n]^c[n+8]}function l(e,t){if(!(e>0&&e<=32))throw new Error("Incorrect output length, should be in [1, 32]");var n=t?t.length:0;if(t&&!(n>0&&n<=32))throw new Error("Incorrect key length, should be in [1, 32]");var r={h:new Uint32Array(a),b:new Uint32Array(64),c:0,t:0,outlen:e};return r.h[0]^=16842752^n<<8^e,n>0&&(d(r,t),r.c=64),r}function d(e,t){for(var n=0;n<t.length;n++)64===e.c&&(e.t+=e.c,h(e,!1),e.c=0),e.b[e.c++]=t[n]}function p(e){for(e.t+=e.c;e.c<64;)e.b[e.c++]=0;h(e,!0);for(var t=new Uint8Array(e.outlen),n=0;n<e.outlen;n++)t[n]=e.h[n>>2]>>8*(3&n)&255;return t}function g(e,t,n){n=n||32,e=r.normalizeInput(e);var i=l(n,t);return d(i,e),p(i)}e.exports={blake2s:g,blake2sHex:function(e,t,n){var i=g(e,t,n);return r.toHex(i)},blake2sInit:l,blake2sUpdate:d,blake2sFinal:p}},function(e,t,n){"use strict";const r=n(59),i=n(66);e.exports=(e,t)=>{const n=(e=>{if(i.isDAGLink(e))return e;if(!("cid"in e||"hash"in e||"Hash"in e||"multihash"in e))throw new Error("Link must be a DAGLink or DAGLink-like. Convert the DAGNode into a DAGLink via `node.toDAGLink()`.");return new i(e.Name||e.name,e.Tsize||e.size,e.Hash||e.multihash||e.hash||e.cid)})(t);e.Links.push(n),r(e.Links)}},function(e,t,n){"use strict";const r=n(12);e.exports.createDagLinkFromB58EncodedHash=function(e){return new r(e.Name||e.name||"",e.Tsize||e.Size||e.size||0,e.Hash||e.hash||e.multihash||e.cid)}},function(e,t,n){"use strict";const r=n(4),i=n(28);e.exports=(e,t)=>{let n=null;if("string"==typeof t?n=e=>e.Name===t:(t instanceof Uint8Array||r.isCID(t))&&(n=e=>i(e.Hash,t)),!n)throw new Error("second arg needs to be a name or CID");{const t=e.Links;let r=0;for(;r<t.length;){n(t[r])?t.splice(r,1):r++}}}},function(e,t,n){"use strict";const r=n(4),i=n(67);t.resolve=(e,t)=>{let n=i.deserialize(e);const s=t.split("/").filter(Boolean);for(;s.length;){const e=s.shift();if(void 0===n[e]){for(const t of n.Links)if(t.Name===e)return{value:t.Hash,remainderPath:s.join("/")};throw new Error(`Object has no property '${e}'`)}if(n=n[e],r.isCID(n))return{value:n,remainderPath:s.join("/")}}return{value:n,remainderPath:""}},t.tree=function*(e){const t=i.deserialize(e);yield"Data",yield"Links";for(let n=0;n<t.Links.length;n++)yield"Links/"+n,yield`Links/${n}/Name`,yield`Links/${n}/Tsize`,yield`Links/${n}/Hash`}},function(e,t,n){"use strict";t.Commented=n(152),t.Diagnose=n(171),t.Decoder=n(33),t.Encoder=n(74),t.Simple=n(23),t.Tagged=n(43),t.Map=n(172),t.comment=t.Commented.comment,t.decodeAll=t.Decoder.decodeAll,t.decodeFirst=t.Decoder.decodeFirst,t.decodeAllSync=t.Decoder.decodeAllSync,t.decodeFirstSync=t.Decoder.decodeFirstSync,t.diagnose=t.Diagnose.diagnose,t.encode=t.Encoder.encode,t.encodeCanonical=t.Encoder.encodeCanonical,t.encodeOne=t.Encoder.encodeOne,t.encodeAsync=t.Encoder.encodeAsync,t.decode=t.Decoder.decodeFirstSync,t.leveldb={decode:t.Decoder.decodeAllSync,encode:t.Encoder.encode,buffer:!0,name:"cbor"},t.hasBigInt=n(15).hasBigInt},function(e,t,n){"use strict";(function(t){const r=n(13),i=n(22),s=(n(15),n(23),n(33)),o=n(8),a=n(7).BigNumber,u=n(24),c=o.MT,f=o.NUMBYTES,h=o.SYMS;function l(e){return e>1?"s":""}class d extends r.Transform{constructor(e){const t=Object.assign({max_depth:10},e,{readableObjectMode:!1,writableObjectMode:!1}),n=t.max_depth;delete t.max_depth,super(t),this.depth=1,this.max_depth=n,this.all=new u,this.parser=new s(t),this.parser.on("value",this._on_value.bind(this)),this.parser.on("start",this._on_start.bind(this)),this.parser.on("start-string",this._on_start_string.bind(this)),this.parser.on("stop",this._on_stop.bind(this)),this.parser.on("more-bytes",this._on_more.bind(this)),this.parser.on("error",this._on_error.bind(this)),this.parser.on("data",this._on_data.bind(this)),this.parser.bs.on("read",this._on_read.bind(this))}_transform(e,t,n){this.parser.write(e,t,n)}_flush(e){return this.parser._flush(e)}static comment(e,t,n){if(null==e)throw new Error("input required");let r="string"==typeof e?"hex":void 0,i=10;switch(typeof t){case"function":n=t;break;case"string":r=t;break;case"number":i=t;break;case"object":const e=t.encoding,s=t.max_depth;r=null!=e?e:r,i=null!=s?s:i;break;case"undefined":break;default:throw new Error("Unknown option type")}const s=new u,o=new d({max_depth:i});let a=null;return"function"==typeof n?(o.on("end",()=>{n(null,s.toString("utf8"))}),o.on("error",n)):a=new Promise((e,t)=>(o.on("end",()=>{e(s.toString("utf8"))}),o.on("error",t))),o.pipe(s),o.end(e,r),a}_on_error(e){return this.push("ERROR: ")&&this.push(e.toString())&&this.push("\n")}_on_read(e){this.all.write(e);const t=e.toString("hex");this.push(new Array(this.depth+1).join("  ")),this.push(t);let n=2*(this.max_depth-this.depth);return n-=t.length,n<1&&(n=1),this.push(new Array(n+1).join(" ")),this.push("-- ")}_on_more(e,t,n,r){this.depth++;let i="";switch(e){case c.POS_INT:i="Positive number,";break;case c.NEG_INT:i="Negative number,";break;case c.ARRAY:i="Array, length";break;case c.MAP:i="Map, count";break;case c.BYTE_STRING:i="Bytes, length";break;case c.UTF8_STRING:i="String, length";break;case c.SIMPLE_FLOAT:i=1===t?"Simple value,":"Float,"}return this.push(i+" next "+t+" byte"+l(t)+"\n")}_on_start_string(e,t,n,r){this.depth++;let i="";switch(e){case c.BYTE_STRING:i="Bytes, length: "+t;break;case c.UTF8_STRING:i="String, length: "+t.toString()}return this.push(i+"\n")}_on_start(e,t,n,r){if(this.depth++,t!==h.BREAK)switch(n){case c.ARRAY:this.push(`[${r}], `);break;case c.MAP:r%2?this.push(`{Val:${Math.floor(r/2)}}, `):this.push(`{Key:${Math.floor(r/2)}}, `)}switch(e){case c.TAG:this.push("Tag #"+t);break;case c.ARRAY:t===h.STREAM?this.push("Array (streaming)"):this.push(`Array, ${t} item${l(t)}`);break;case c.MAP:t===h.STREAM?this.push("Map (streaming)"):this.push(`Map, ${t} pair${l(t)}`);break;case c.BYTE_STRING:this.push("Bytes (streaming)");break;case c.UTF8_STRING:this.push("String (streaming)")}return this.push("\n")}_on_stop(e){return this.depth--}_on_value(e,n,r,s){if(e!==h.BREAK)switch(n){case c.ARRAY:this.push(`[${r}], `);break;case c.MAP:r%2?this.push(`{Val:${Math.floor(r/2)}}, `):this.push(`{Key:${Math.floor(r/2)}}, `)}switch(e===h.BREAK?this.push("BREAK\n"):e===h.NULL?this.push("null\n"):e===h.UNDEFINED?this.push("undefined\n"):"string"==typeof e?(this.depth--,e.length>0&&(this.push(JSON.stringify(e)),this.push("\n"))):t.isBuffer(e)?(this.depth--,e.length>0&&(this.push(e.toString("hex")),this.push("\n"))):e instanceof a?(this.push(e.toString()),this.push("\n")):(this.push(i.inspect(e)),this.push("\n")),s){case f.ONE:case f.TWO:case f.FOUR:case f.EIGHT:this.depth--}}_on_data(){return this.push("0x"),this.push(this.all.read().toString("hex")),this.push("\n")}}e.exports=d}).call(this,n(2).Buffer)},function(e,t){},function(e,t,n){"use strict";var r=n(32).Buffer,i=n(155);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var t,n,i,s=r.allocUnsafe(e>>>0),o=this.head,a=0;o;)t=o.data,n=s,i=a,t.copy(n,i),a+=o.data.length,o=o.next;return s},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t){},function(e,t,n){"use strict";(function(t){function n(e){try{if(!t.localStorage)return!1}catch(r){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}}).call(this,n(9))},function(e,t,n){"use strict";e.exports=s;var r=n(72),i=Object.create(n(21));function s(e){if(!(this instanceof s))return new s(e);r.call(this,e)}i.inherits=n(14),i.inherits(s,r),s.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){"use strict";e.exports=n(42)},function(e,t,n){"use strict";e.exports=n(6)},function(e,t,n){"use strict";e.exports=n(41).Transform},function(e,t,n){"use strict";e.exports=n(41).PassThrough},function(e,t,n){"use strict";e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t,n){"use strict";"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){"use strict";const r=n(13),i=n(24),s=r.Transform;e.exports=class extends s{constructor(e){super(e),this._writableState.objectMode=!1,this._readableState.objectMode=!0,this.bs=new i,this.__restart()}_transform(e,t,n){for(this.bs.write(e);this.bs.length>=this.__needed;){let e;const t=null===this.__needed?void 0:this.bs.read(this.__needed);try{e=this.__parser.next(t)}catch(r){return n(r)}this.__needed&&(this.__fresh=!1),e.done?(this.push(e.value),this.__restart()):this.__needed=e.value||0}return n()}*_parse(){throw new Error("Must be implemented in subclass")}__restart(){this.__needed=null,this.__parser=this._parse(),this.__fresh=!0}_flush(e){e(this.__fresh?null:new Error("unexpected end of input"))}}},function(e,t,n){"use strict";(function(e,r){var i;!function(s){t&&t.nodeType,e&&e.nodeType;var o="object"==typeof r&&r;o.global!==o&&o.window!==o&&o.self;var a,u=2147483647,c=/^xn--/,f=/[^\x20-\x7E]/,h=/[\x2E\u3002\uFF0E\uFF61]/g,l={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},d=Math.floor,p=String.fromCharCode;function g(e){throw new RangeError(l[e])}function b(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function y(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+b((e=e.replace(h,".")).split("."),t).join(".")}function m(e){for(var t,n,r=[],i=0,s=e.length;i<s;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<s?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function w(e){return b(e,(function(e){var t="";return e>65535&&(t+=p((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=p(e)})).join("")}function k(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function v(e,t,n){var r=0;for(e=n?d(e/700):e>>1,e+=d(e/t);e>455;r+=36)e=d(e/35);return d(r+36*e/(e+38))}function E(e){var t,n,r,i,s,o,a,c,f,h,l,p=[],b=e.length,y=0,m=128,k=72;for((n=e.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&g("not-basic"),p.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<b;){for(s=y,o=1,a=36;i>=b&&g("invalid-input"),((c=(l=e.charCodeAt(i++))-48<10?l-22:l-65<26?l-65:l-97<26?l-97:36)>=36||c>d((u-y)/o))&&g("overflow"),y+=c*o,!(c<(f=a<=k?1:a>=k+26?26:a-k));a+=36)o>d(u/(h=36-f))&&g("overflow"),o*=h;k=v(y-s,t=p.length+1,0==s),d(y/t)>u-m&&g("overflow"),m+=d(y/t),y%=t,p.splice(y++,0,m)}return w(p)}function _(e){var t,n,r,i,s,o,a,c,f,h,l,b,y,w,E,_=[];for(b=(e=m(e)).length,t=128,n=0,s=72,o=0;o<b;++o)(l=e[o])<128&&_.push(p(l));for(r=i=_.length,i&&_.push("-");r<b;){for(a=u,o=0;o<b;++o)(l=e[o])>=t&&l<a&&(a=l);for(a-t>d((u-n)/(y=r+1))&&g("overflow"),n+=(a-t)*y,t=a,o=0;o<b;++o)if((l=e[o])<t&&++n>u&&g("overflow"),l==t){for(c=n,f=36;!(c<(h=f<=s?1:f>=s+26?26:f-s));f+=36)E=c-h,w=36-h,_.push(p(k(h+E%w,0))),c=d(E/w);_.push(p(k(c,0))),s=v(n,y,r==i),n=0,++r}++n,++t}return _.join("")}a={version:"1.4.1",ucs2:{decode:m,encode:w},decode:E,encode:_,toASCII:function(e){return y(e,(function(e){return f.test(e)?"xn--"+_(e):e}))},toUnicode:function(e){return y(e,(function(e){return c.test(e)?E(e.slice(4).toLowerCase()):e}))}},void 0===(i=function(){return a}.call(t,n,t,e))||(e.exports=i)}()}).call(this,n(166)(e),n(9))},function(e,t,n){"use strict";e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,n){"use strict";t.decode=t.parse=n(169),t.encode=t.stringify=n(170)},function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,i){t=t||"&",n=n||"=";var s={};if("string"!=typeof e||0===e.length)return s;var o=/\+/g;e=e.split(t);var a=1e3;i&&"number"==typeof i.maxKeys&&(a=i.maxKeys);var u=e.length;a>0&&u>a&&(u=a);for(var c=0;c<u;++c){var f,h,l,d,p=e[c].replace(o,"%20"),g=p.indexOf(n);g>=0?(f=p.substr(0,g),h=p.substr(g+1)):(f=p,h=""),l=decodeURIComponent(f),d=decodeURIComponent(h),r(s,l)?Array.isArray(s[l])?s[l].push(d):s[l]=[s[l],d]:s[l]=d}return s}},function(e,t,n){"use strict";var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,i){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(i){var s=encodeURIComponent(r(i))+n;return Array.isArray(e[i])?e[i].map((function(e){return s+encodeURIComponent(r(e))})).join(t):s+encodeURIComponent(r(e[i]))})).join(t):i?encodeURIComponent(r(i))+n+encodeURIComponent(r(e)):""}},function(e,t,n){"use strict";(function(t){const r=n(13),i=n(22),s=n(33),o=(n(23),n(15)),a=n(8),u=n(7).BigNumber,c=n(24),f=a.MT,h=a.SYMS;class l extends r.Transform{constructor(e){const t=Object.assign({separator:"\n",stream_errors:!1},e,{readableObjectMode:!1,writableObjectMode:!1}),n=t.separator;delete t.separator;const r=t.stream_errors;delete t.stream_errors,super(t),this.float_bytes=-1,this.separator=n,this.stream_errors=r,this.parser=new s(t),this.parser.on("more-bytes",this._on_more.bind(this)),this.parser.on("value",this._on_value.bind(this)),this.parser.on("start",this._on_start.bind(this)),this.parser.on("stop",this._on_stop.bind(this)),this.parser.on("data",this._on_data.bind(this)),this.parser.on("error",this._on_error.bind(this))}_transform(e,t,n){return this.parser.write(e,t,n)}_flush(e){return this.parser._flush(t=>this.stream_errors?(t&&this._on_error(t),e()):e(t))}static diagnose(e,t,n){if(null==e)throw new Error("input required");let r={},i="hex";switch(typeof t){case"function":n=t,i=o.guessEncoding(e);break;case"object":r=o.extend({},t),i=null!=r.encoding?r.encoding:o.guessEncoding(e),delete r.encoding;break;default:i=null!=t?t:"hex"}const s=new c,a=new l(r);let u=null;return"function"==typeof n?(a.on("end",()=>n(null,s.toString("utf8"))),a.on("error",n)):u=new Promise((e,t)=>(a.on("end",()=>e(s.toString("utf8"))),a.on("error",t))),a.pipe(s),a.end(e,i),u}_on_error(e){return this.stream_errors?this.push(e.toString()):this.emit("error",e)}_on_more(e,t,n,r){if(e===f.SIMPLE_FLOAT)return this.float_bytes={2:1,4:2,8:3}[t]}_fore(e,t){switch(e){case f.BYTE_STRING:case f.UTF8_STRING:case f.ARRAY:if(t>0)return this.push(", ");break;case f.MAP:if(t>0)return t%2?this.push(": "):this.push(", ")}}_on_value(e,n,r){if(e!==h.BREAK)return this._fore(n,r),this.push((()=>{switch(!1){case e!==h.NULL:return"null";case e!==h.UNDEFINED:return"undefined";case"string"!=typeof e:return JSON.stringify(e);case!(this.float_bytes>0):const n=this.float_bytes;return this.float_bytes=-1,i.inspect(e)+"_"+n;case!t.isBuffer(e):return"h'"+e.toString("hex")+"'";case!(e instanceof u):return e.toString();default:return i.inspect(e)}})())}_on_start(e,t,n,r){switch(this._fore(n,r),e){case f.TAG:this.push(t+"(");break;case f.ARRAY:this.push("[");break;case f.MAP:this.push("{");break;case f.BYTE_STRING:case f.UTF8_STRING:this.push("(")}if(t===h.STREAM)return this.push("_ ")}_on_stop(e){switch(e){case f.TAG:return this.push(")");case f.ARRAY:return this.push("]");case f.MAP:return this.push("}");case f.BYTE_STRING:case f.UTF8_STRING:return this.push(")")}}_on_data(){return this.push(this.separator)}}e.exports=l}).call(this,n(2).Buffer)},function(e,t,n){"use strict";(function(t){const r=n(74),i=n(33),s=n(8).MT;class o extends Map{constructor(e){super(e)}static _encode(e){return r.encodeCanonical(e).toString("base64")}static _decode(e){return i.decodeFirstSync(e,"base64")}get(e){return super.get(o._encode(e))}set(e,t){return super.set(o._encode(e),t)}delete(e){return super.delete(o._encode(e))}has(e){return super.has(o._encode(e))}*keys(){for(const e of super.keys())yield o._decode(e)}*entries(){for(const e of super.entries())yield[o._decode(e[0]),e[1]]}[Symbol.iterator](){return this.entries()}forEach(e,t){if("function"!=typeof e)throw new TypeError("Must be function");for(const n of super.entries())e.call(this,n[1],o._decode(n[0]),this)}encodeCBOR(e){if(!e._pushInt(this.size,s.MAP))return!1;if(e.canonical){const n=Array.from(super.entries()).map(e=>[t.from(e[0],"base64"),e[1]]);n.sort((e,t)=>e[0].compare(t[0]));for(const t of n)if(!e.push(t[0])||!e.pushAny(t[1]))return!1}else for(const n of super.entries())if(!e.push(t.from(n[0],"base64"))||!e.pushAny(n[1]))return!1;return!0}}e.exports=o}).call(this,n(2).Buffer)},function(e,t,n){"use strict";const r=n(4),i=n(38),s=n(174),o=n(0),a=n(57),{DAGNode:u,DAGLink:c}=a,f=n(26),h=n(175),{cidToKey:l,DEFAULT_FANOUT:d,MAX_ITEMS:p,EMPTY_KEY:g}=n(75),b=n(35),y=n(60),m=n(10),w=n(5),k=n(28),v=i(h);function E(e,t){const n=new Uint8Array(4);new DataView(n.buffer).setUint32(0,e,!0);const i=w(function(e){return new r(e).toBaseEncodedString()}(t)),o=b([n,i],n.byteLength+i.byteLength);return s(m(o))}async function*_(e,t){const n=function(e){const t=e.Data,n=o.decode(t),r=o.decode.bytes;if(r<=0)throw new Error("Invalid Set header length");if(r+n>t.length)throw new Error("Impossibly large set header length");const i=t.slice(r,n+r),s=v.Set.decode(i);if(1!==s.version)throw new Error("Unsupported Set version: "+s.version);if(s.fanout>e.Links.length)throw new Error("Impossibly large fanout");return{header:s,data:t.slice(n+r)}}(t);let r=0;for(const i of t.Links){if(r<n.header.fanout){const t=i.Hash;if(!k(g,t.bytes)){const n=await e.get(l(t)),r=a.util.deserialize(n);yield*_(e,r)}}else yield i.Hash;r++}}e.exports={loadSet:async function*(e,t,n){const r=t.Links.find(e=>e.Name===n);if(!r)throw new Error("No link found with name "+n);const i=await e.get(l(r.Hash)),s=a.util.deserialize(i);yield*_(e,s)},storeSet:async function(e,t,n){const r=await function(e,t){return async function t(n,r){const i=v.Set.encode({version:1,fanout:d,seed:r}),s=o.encode(i.length),h=b([s,i]),m=[];for(let e=0;e<d;e++)m.push(new c("",1,g));if(n.length<=p){const e=n.map(e=>({link:new c("",1,e.key),data:e.data||new Uint8Array})).sort((e,t)=>y(e.link.Hash.bytes,t.link.Hash.bytes)),t=m.concat(e.map(e=>e.link)),r=b([h,...e.map(e=>e.data)]);return new u(r,t)}{const e=n.reduce((e,t)=>{const n=E(r,t.key)%d;return e[n]=n in e?e[n].concat([t]):[t],e},[]);let i=0;for(const n of e){const e=await t(n,r+1);await w(e,i),i++}return new u(h,m)}async function w(t,n){const r=a.util.serialize(t),i=await a.util.cid(r,{cidVersion:0,hashAlg:f.SHA2_256});await e.put(l(i),r),m[n]=new c("",t.size,i)}}(t,0)}(e,n.map(e=>({key:e,data:null}))),i=r.serialize(r),s=await a.util.cid(i,{cidVersion:0,hashAlg:f.SHA2_256});return await e.put(l(s),i),new c(t,r.size,s)}}},function(e,t,n){"use strict";function r(e){for(var t=r.BASE,n=0,i=e.length;n<i;n++)t^=e.charCodeAt(n),t+=(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24);return t>>>0}r.BASE=2166136261,e.exports=r},function(e,t,n){"use strict";e.exports='\n  syntax = "proto2";\n\n  package ipfs.pin;\n\n  option go_package = "pb";\n\n  message Set {\n    optional uint32 version = 1;\n    optional uint32 fanout = 2;\n    optional fixed32 seed = 3;\n  }\n'},function(e,t,n){"use strict";const r=n(177),{MissingRepoOptionsError:i,NotInitializedRepoError:s}=n(44),{VERSION_KEY:o,createStore:a}=n(29),u=n(5);t.getVersion=async function(e,t){if(!await r.isRepoInitialized(e,t))throw new s(`Repo in path ${e} is not initialized!`);if(!t)throw new i("Please pass repo options when trying to open a repo");const n=await a(e,"root",t);await n.open();const u=parseInt(await n.get(o));return await n.close(),u},t.setVersion=async function(e,t,n){if(!n)throw new i("Please pass repo options when trying to open a repo");const r=await a(e,"root",n);await r.open(),await r.put(o,u(String(t))),await r.close()}},function(e,t,n){"use strict";const r=n(20)("ipfs:repo:migrator:repo:init"),{CONFIG_KEY:i,VERSION_KEY:s,createStore:o}=n(29),{MissingRepoOptionsError:a}=n(44);t.isRepoInitialized=async function(e,t){if(!t)throw new a("Please pass repo options when trying to open a repo");let n;try{n=await o(e,"root",t),await n.open();const a=await n.has(s),u=await n.has(i);return!(!a||!u)||(r("Version entry present: "+a),r("Config entry present: "+u),!1)}catch(u){return r("While checking if repo is initialized error was thrown: "+u.message),!1}finally{void 0!==n&&await n.close()}}},function(e,t,n){"use strict";const r=n(20)("ipfs:repo:migrator:repo_mem_lock"),i={};t.lock=async function(e,t){const n=t+"/repo.lock";if(r("locking %s",n),!0===i[n])throw Error("There is already present lock for: "+n);return i[n]=!0,{close(){i[n]&&(r("releasing lock %s",n),delete i[n])}}}}])}));