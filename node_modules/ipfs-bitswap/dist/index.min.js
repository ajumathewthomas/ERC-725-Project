/*! For license information please see index.min.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.IpfsBitswap=t():e.IpfsBitswap=t()}(self,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var s=t[r]={i:r,l:!1,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(r,s,function(t){return e[t]}.bind(null,s));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=35)}([function(e,t,n){"use strict";e.exports={encode:n(41),decode:n(42),encodingLength:n(43)}},function(e,t,n){"use strict";e.exports=function(e,t,n,r){return t.bytes=n.bytes=0,{type:e,encode:t,decode:n,encodingLength:r}}},function(e,t,n){"use strict";const r=n(71),s=n(10),i=(e,t,n)=>{let r=0;const s=n.length;for(;r<s;){if(e(t,n[r]))return!0;r+=1}return!1};e.exports={logger:(e,t)=>{const n=["bitswap"];t&&n.push(t),e&&n.push(""+e.toB58String().slice(0,8));const s=r(n.join(":"));return s.error=r(n.concat(["error"]).join(":")),s},includesWith:i,uniqWith:(e,t)=>{let n=0;const r=t.length,s=[];let o;for(;n<r;)o=t[n],i(e,o,s)||(s[s.length]=o),n+=1;return s},groupBy:(e,t)=>t.reduce((t,n)=>{const r=e(n);return t[r]?t[r].push(n):t[r]=[n],t},{}),pullAllWith:(e,t,n)=>t.filter(t=>!i(e,t,n)),sortBy:(e,t)=>Array.prototype.slice.call(t,0).sort((t,n)=>{const r=e(t),s=e(n);return r<s?-1:r>s?1:0}),isMapEqual:(e,t)=>{if(e.size!==t.size)return!1;for(const[n,r]of e){if(!t.has(n))return!1;const e=t.get(n);if("function"==typeof r.equals&&!r.equals(e))return!1;if(r._data&&!s(r._data,e._data))return!1}return!0}}},function(e,t,n){"use strict";(function(e){var r=n(67),s=n(68),i=n(69);function o(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,n){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return l(this,e)}return u(this,e,t,n)}function u(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=h(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|d(t,n),s=(e=a(e,r)).write(t,n);s!==r&&(e=e.slice(0,s));return e}(e,t,n):function(e,t){if(c.isBuffer(t)){var n=0|p(t.length);return 0===(e=a(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?a(e,0):h(e,t);if("Buffer"===t.type&&i(t.data))return h(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function f(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function l(e,t){if(f(t),e=a(e,t<0?0:0|p(t)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function h(e,t){var n=t.length<0?0:0|p(t.length);e=a(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function p(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function d(e,t){if(c.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return F(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return z(e).length;default:if(r)return F(e).length;t=(""+t).toLowerCase(),r=!0}}function g(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return T(this,t,n);case"utf8":case"utf-8":return B(this,t,n);case"ascii":return C(this,t,n);case"latin1":case"binary":return S(this,t,n);case"base64":return A(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function b(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function k(e,t,n,r,s){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=s?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(s)return-1;n=e.length-1}else if(n<0){if(!s)return-1;n=0}if("string"==typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,s);if("number"==typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?s?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,s);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,s){var i,o=1,a=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,a/=2,c/=2,n/=2}function u(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(s){var f=-1;for(i=n;i<a;i++)if(u(e,i)===u(t,-1===f?0:i-f)){if(-1===f&&(f=i),i-f+1===c)return f*o}else-1!==f&&(i-=i-f),f=-1}else for(n+c>a&&(n=a-c),i=n;i>=0;i--){for(var l=!0,h=0;h<c;h++)if(u(e,i+h)!==u(t,h)){l=!1;break}if(l)return i}return-1}function m(e,t,n,r){n=Number(n)||0;var s=e.length-n;r?(r=Number(r))>s&&(r=s):r=s;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var o=0;o<r;++o){var a=parseInt(t.substr(2*o,2),16);if(isNaN(a))return o;e[n+o]=a}return o}function w(e,t,n,r){return H(F(t,e.length-n),e,n,r)}function v(e,t,n,r){return H(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function _(e,t,n,r){return v(e,t,n,r)}function E(e,t,n,r){return H(z(t),e,n,r)}function x(e,t,n,r){return H(function(e,t){for(var n,r,s,i=[],o=0;o<e.length&&!((t-=2)<0);++o)n=e.charCodeAt(o),r=n>>8,s=n%256,i.push(s),i.push(r);return i}(t,e.length-n),e,n,r)}function A(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function B(e,t,n){n=Math.min(e.length,n);for(var r=[],s=t;s<n;){var i,o,a,c,u=e[s],f=null,l=u>239?4:u>223?3:u>191?2:1;if(s+l<=n)switch(l){case 1:u<128&&(f=u);break;case 2:128==(192&(i=e[s+1]))&&(c=(31&u)<<6|63&i)>127&&(f=c);break;case 3:i=e[s+1],o=e[s+2],128==(192&i)&&128==(192&o)&&(c=(15&u)<<12|(63&i)<<6|63&o)>2047&&(c<55296||c>57343)&&(f=c);break;case 4:i=e[s+1],o=e[s+2],a=e[s+3],128==(192&i)&&128==(192&o)&&128==(192&a)&&(c=(15&u)<<18|(63&i)<<12|(63&o)<<6|63&a)>65535&&c<1114112&&(f=c)}null===f?(f=65533,l=1):f>65535&&(f-=65536,r.push(f>>>10&1023|55296),f=56320|1023&f),r.push(f),s+=l}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}t.Buffer=c,t.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},t.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=o(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,n){return u(null,e,t,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,n){return function(e,t,n,r){return f(t),t<=0?a(e,t):void 0!==n?"string"==typeof r?a(e,t).fill(n,r):a(e,t).fill(n):a(e,t)}(null,e,t,n)},c.allocUnsafe=function(e){return l(null,e)},c.allocUnsafeSlow=function(e){return l(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,s=0,i=Math.min(n,r);s<i;++s)if(e[s]!==t[s]){n=e[s],r=t[s];break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=c.allocUnsafe(t),s=0;for(n=0;n<e.length;++n){var o=e[n];if(!c.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,s),s+=o.length}return r},c.byteLength=d,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)b(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)b(this,t,t+3),b(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)b(this,t,t+7),b(this,t+1,t+6),b(this,t+2,t+5),b(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?B(this,0,e):g.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,n,r,s){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===s&&(s=this.length),t<0||n>e.length||r<0||s>this.length)throw new RangeError("out of range index");if(r>=s&&t>=n)return 0;if(r>=s)return-1;if(t>=n)return 1;if(this===e)return 0;for(var i=(s>>>=0)-(r>>>=0),o=(n>>>=0)-(t>>>=0),a=Math.min(i,o),u=this.slice(r,s),f=e.slice(t,n),l=0;l<a;++l)if(u[l]!==f[l]){i=u[l],o=f[l];break}return i<o?-1:o<i?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return k(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return k(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var s=this.length-t;if((void 0===n||n>s)&&(n=s),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return m(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":return v(this,e,t,n);case"latin1":case"binary":return _(this,e,t,n);case"base64":return E(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function C(e,t,n){var r="";n=Math.min(e.length,n);for(var s=t;s<n;++s)r+=String.fromCharCode(127&e[s]);return r}function S(e,t,n){var r="";n=Math.min(e.length,n);for(var s=t;s<n;++s)r+=String.fromCharCode(e[s]);return r}function T(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var s="",i=t;i<n;++i)s+=j(e[i]);return s}function O(e,t,n){for(var r=e.slice(t,n),s="",i=0;i<r.length;i+=2)s+=String.fromCharCode(r[i]+256*r[i+1]);return s}function P(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function U(e,t,n,r,s,i){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>s||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function L(e,t,n,r){t<0&&(t=65535+t+1);for(var s=0,i=Math.min(e.length-n,2);s<i;++s)e[n+s]=(t&255<<8*(r?s:1-s))>>>8*(r?s:1-s)}function I(e,t,n,r){t<0&&(t=4294967295+t+1);for(var s=0,i=Math.min(e.length-n,4);s<i;++s)e[n+s]=t>>>8*(r?s:3-s)&255}function D(e,t,n,r,s,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function R(e,t,n,r,i){return i||D(e,0,n,4),s.write(e,t,n,r,23,4),n+4}function M(e,t,n,r,i){return i||D(e,0,n,8),s.write(e,t,n,r,52,8),n+8}c.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=c.prototype;else{var s=t-e;n=new c(s,void 0);for(var i=0;i<s;++i)n[i]=this[i+e]}return n},c.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=this[e],s=1,i=0;++i<t&&(s*=256);)r+=this[e+i]*s;return r},c.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=this[e+--t],s=1;t>0&&(s*=256);)r+=this[e+--t]*s;return r},c.prototype.readUInt8=function(e,t){return t||P(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||P(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||P(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||P(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||P(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=this[e],s=1,i=0;++i<t&&(s*=256);)r+=this[e+i]*s;return r>=(s*=128)&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=t,s=1,i=this[e+--r];r>0&&(s*=256);)i+=this[e+--r]*s;return i>=(s*=128)&&(i-=Math.pow(2,8*t)),i},c.prototype.readInt8=function(e,t){return t||P(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||P(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){t||P(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return t||P(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||P(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||P(e,4,this.length),s.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||P(e,4,this.length),s.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||P(e,8,this.length),s.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||P(e,8,this.length),s.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||U(this,e,t,n,Math.pow(2,8*n)-1,0);var s=1,i=0;for(this[t]=255&e;++i<n&&(s*=256);)this[t+i]=e/s&255;return t+n},c.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||U(this,e,t,n,Math.pow(2,8*n)-1,0);var s=n-1,i=1;for(this[t+s]=255&e;--s>=0&&(i*=256);)this[t+s]=e/i&255;return t+n},c.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||U(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||U(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||U(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||U(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):I(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||U(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):I(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var s=Math.pow(2,8*n-1);U(this,e,t,n,s-1,-s)}var i=0,o=1,a=0;for(this[t]=255&e;++i<n&&(o*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/o>>0)-a&255;return t+n},c.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var s=Math.pow(2,8*n-1);U(this,e,t,n,s-1,-s)}var i=n-1,o=1,a=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/o>>0)-a&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||U(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||U(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||U(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||U(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):I(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||U(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):I(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,n){return R(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return R(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return M(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return M(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var s,i=r-n;if(this===e&&n<t&&t<r)for(s=i-1;s>=0;--s)e[s+t]=this[s+n];else if(i<1e3||!c.TYPED_ARRAY_SUPPORT)for(s=0;s<i;++s)e[s+t]=this[s+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i},c.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var s=e.charCodeAt(0);s<256&&(e=s)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var o=c.isBuffer(e)?e:F(new c(e,r).toString()),a=o.length;for(i=0;i<n-t;++i)this[i+t]=o[i%a]}return this};var N=/[^+\/0-9A-Za-z-_]/g;function j(e){return e<16?"0"+e.toString(16):e.toString(16)}function F(e,t){var n;t=t||1/0;for(var r=e.length,s=null,i=[],o=0;o<r;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!s){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&i.push(239,191,189);continue}s=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),s=n;continue}n=65536+(s-55296<<10|n-56320)}else s&&(t-=3)>-1&&i.push(239,191,189);if(s=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function z(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(N,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function H(e,t,n,r){for(var s=0;s<r&&!(s+n>=t.length||s>=e.length);++s)t[s+n]=e[s];return s}}).call(this,n(17))},function(e,t,n){"use strict";const r=n(20),s=n(13),{getName:i}=n(23),o=n(54),a=n(55),{isMapEqual:c}=n(2),{Message:u}=n(74),f=n(98);class l{constructor(e){this.full=e,this.wantlist=new Map,this.blocks=new Map,this.blockPresences=new Map,this.pendingBytes=0}get empty(){return 0===this.blocks.size&&0===this.wantlist.size&&0===this.blockPresences.size}addEntry(e,t,n,r,s){null==n&&(n=l.WantType.Block);const i=e.toString("base58btc"),o=this.wantlist.get(i);o?(o.wantType===n&&(o.priority=t),r&&(o.cancel=Boolean(r)),s&&(o.sendDontHave=Boolean(s)),n===l.WantType.Block&&o.wantType===l.WantType.Have&&(o.wantType=n)):this.wantlist.set(i,new f(e,t,n,r,s))}addBlock(e){const t=e.cid.toString("base58btc");this.blocks.set(t,e)}addHave(e){const t=e.toString("base58btc");this.blockPresences.has(t)||this.blockPresences.set(t,l.BlockPresenceType.Have)}addDontHave(e){const t=e.toString("base58btc");this.blockPresences.has(t)||this.blockPresences.set(t,l.BlockPresenceType.DontHave)}cancel(e){const t=e.toString("base58btc");this.wantlist.delete(t),this.addEntry(e,0,l.WantType.Block,!0,!1)}setPendingBytes(e){this.pendingBytes=e}serializeToBitswap100(){const e={wantlist:{entries:Array.from(this.wantlist.values()).map(e=>({block:e.cid.bytes,priority:Number(e.priority),cancel:Boolean(e.cancel)}))},blocks:Array.from(this.blocks.values()).map(e=>e.data)};return this.full&&(e.wantlist.full=!0),u.encode(e)}serializeToBitswap110(){const e={wantlist:{entries:Array.from(this.wantlist.values()).map(e=>({block:e.cid.bytes,priority:Number(e.priority),wantType:e.wantType,cancel:Boolean(e.cancel),sendDontHave:Boolean(e.sendDontHave)}))},blockPresences:[],payload:[]};this.full&&(e.wantlist.full=!0),this.blocks.forEach(t=>{e.payload.push({prefix:t.cid.prefix,data:t.data})});for(const[t,n]of this.blockPresences)e.blockPresences.push({cid:new s(t).bytes,type:n});return this.pendingBytes>0&&(e.pendingBytes=this.pendingBytes),u.encode(e)}equals(e){return!!(this.full===e.full&&this.pendingBytes===e.pendingBytes&&c(this.wantlist,e.wantlist)&&c(this.blocks,e.blocks)&&c(this.blockPresences,e.blockPresences))}get[Symbol.toStringTag](){const e=Array.from(this.wantlist.keys()),t=Array.from(this.blocks.keys());return`BitswapMessage <full: ${this.full}, list: ${e}, blocks: ${t}>`}}l.deserialize=async e=>{const t=u.decode(e),n=t.wantlist&&t.wantlist.full||!1,c=new l(n);return t.wantlist&&t.wantlist.entries.forEach(e=>{const t=new s(e.block);c.addEntry(t,e.priority,e.wantType,e.cancel,e.sendDontHave)}),t.blockPresences&&t.blockPresences.forEach(e=>{const t=new s(e.cid);e.type===l.BlockPresenceType.Have?c.addHave(t):c.addDontHave(t)}),t.blocks.length>0?(await Promise.all(t.blocks.map(async e=>{const t=await a(e,"sha2-256"),n=new s(t);c.addBlock(new r(e,n))})),c):t.payload.length>0?(await Promise.all(t.payload.map(async e=>{if(!e.prefix||!e.data)return;const t=o(e.prefix),n=t[0],u=t[1],f=t[2],l=await a(e.data,f),h=new s(n,i(u),l);c.addBlock(new r(e.data,h))})),c.setPendingBytes(t.pendingBytes),c):c},l.blockPresenceSize=e=>e.bytes.length+1,l.Entry=f,l.WantType={Block:u.Wantlist.WantType.Block,Have:u.Wantlist.WantType.Have},l.BlockPresenceType={Have:u.BlockPresenceType.Have,DontHave:u.BlockPresenceType.DontHave},e.exports=l},function(e,t,n){"use strict";const r=n(38),s=n(39),i=n(40),{decodeText:o,encodeText:a}=n(14),c=[["identity","\0",()=>({encode:o,decode:a}),""],["base2","0",i(1),"01"],["base8","7",i(3),"01234567"],["base10","9",r,"0123456789"],["base16","f",i(4),"0123456789abcdef"],["base16upper","F",i(4),"0123456789ABCDEF"],["base32hex","v",i(5),"0123456789abcdefghijklmnopqrstuv"],["base32hexupper","V",i(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV"],["base32hexpad","t",i(5),"0123456789abcdefghijklmnopqrstuv="],["base32hexpadupper","T",i(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV="],["base32","b",i(5),"abcdefghijklmnopqrstuvwxyz234567"],["base32upper","B",i(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"],["base32pad","c",i(5),"abcdefghijklmnopqrstuvwxyz234567="],["base32padupper","C",i(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567="],["base32z","h",i(5),"ybndrfg8ejkmcpqxot1uwisza345h769"],["base36","k",r,"0123456789abcdefghijklmnopqrstuvwxyz"],["base36upper","K",r,"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"],["base58btc","z",r,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base58flickr","Z",r,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base64","m",i(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",i(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",i(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",i(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]],u=c.reduce((e,t)=>(e[t[0]]=new s(t[0],t[1],t[2],t[3]),e),{}),f=c.reduce((e,t)=>(e[t[1]]=u[t[0]],e),{});e.exports={names:u,codes:f}},function(e,t,n){"use strict";t.TextEncoder=TextEncoder,t.TextDecoder=TextDecoder},function(e){e.exports=JSON.parse('{"identity":0,"ip4":4,"tcp":6,"sha1":17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,"blake3":30,"dccp":33,"murmur3-128":34,"murmur3-32":35,"ip6":41,"ip6zone":42,"path":47,"multicodec":48,"multihash":49,"multiaddr":50,"multibase":51,"dns":53,"dns4":54,"dns6":55,"dnsaddr":56,"protobuf":80,"cbor":81,"raw":85,"dbl-sha2-256":86,"rlp":96,"bencode":99,"dag-pb":112,"dag-cbor":113,"libp2p-key":114,"git-raw":120,"torrent-info":123,"torrent-file":124,"leofcoin-block":129,"leofcoin-tx":130,"leofcoin-pr":131,"sctp":132,"dag-jose":133,"dag-cose":134,"eth-block":144,"eth-block-list":145,"eth-tx-trie":146,"eth-tx":147,"eth-tx-receipt-trie":148,"eth-tx-receipt":149,"eth-state-trie":150,"eth-account-snapshot":151,"eth-storage-trie":152,"bitcoin-block":176,"bitcoin-tx":177,"bitcoin-witness-commitment":178,"zcash-block":192,"zcash-tx":193,"stellar-block":208,"stellar-tx":209,"md4":212,"md5":213,"bmt":214,"decred-block":224,"decred-tx":225,"ipld-ns":226,"ipfs-ns":227,"swarm-ns":228,"ipns-ns":229,"zeronet":230,"secp256k1-pub":231,"bls12_381-g1-pub":234,"bls12_381-g2-pub":235,"x25519-pub":236,"ed25519-pub":237,"dash-block":240,"dash-tx":241,"swarm-manifest":250,"swarm-feed":251,"udp":273,"p2p-webrtc-star":275,"p2p-webrtc-direct":276,"p2p-stardust":277,"p2p-circuit":290,"dag-json":297,"udt":301,"utp":302,"unix":400,"p2p":421,"ipfs":421,"https":443,"onion":444,"onion3":445,"garlic64":446,"garlic32":447,"tls":448,"quic":460,"ws":477,"wss":478,"p2p-websocket-star":479,"http":480,"json":512,"messagepack":513,"libp2p-peer-record":769,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,"x11":4352,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46000,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082,"zeroxcert-imprint-256":52753,"fil-commitment-unsealed":61697,"fil-commitment-sealed":61698,"holochain-adr-v0":8417572,"holochain-adr-v1":8483108,"holochain-key-v0":9728292,"holochain-key-v1":9793828,"holochain-sig-v0":10645796,"holochain-sig-v1":10711332}')},function(e,t,n){"use strict";const r=n(21),s=n(0),{names:i}=n(44),o=n(9),a=n(15),c=n(22),u={};for(const l in i)u[i[l]]=l;function f(e){t.decode(e)}t.names=i,t.codes=Object.freeze(u),t.toHexString=function(e){if(!(e instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return o(e,"base16")},t.fromHexString=function(e){return a(e,"base16")},t.toB58String=function(e){if(!(e instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return o(r.encode("base58btc",e)).slice(1)},t.fromB58String=function(e){const t=e instanceof Uint8Array?o(e):e;return r.decode("z"+t)},t.decode=function(e){if(!(e instanceof Uint8Array))throw new Error("multihash must be a Uint8Array");if(e.length<2)throw new Error("multihash too short. must be > 2 bytes.");const n=s.decode(e);if(!t.isValidCode(n))throw new Error("multihash unknown function code: 0x"+n.toString(16));e=e.slice(s.decode.bytes);const r=s.decode(e);if(r<0)throw new Error("multihash invalid length: "+r);if((e=e.slice(s.decode.bytes)).length!==r)throw new Error("multihash length inconsistent: 0x"+o(e,"base16"));return{code:n,name:u[n],length:r,digest:e}},t.encode=function(e,n,r){if(!e||void 0===n)throw new Error("multihash encode requires at least two args: digest, code");const i=t.coerceCode(n);if(!(e instanceof Uint8Array))throw new Error("digest should be a Uint8Array");if(null==r&&(r=e.length),r&&e.length!==r)throw new Error("digest length should be equal to specified length.");const o=s.encode(i),a=s.encode(r);return c([o,a,e],o.length+a.length+e.length)},t.coerceCode=function(e){let n=e;if("string"==typeof e){if(void 0===i[e])throw new Error("Unrecognized hash function named: "+e);n=i[e]}if("number"!=typeof n)throw new Error("Hash function code should be a number. Got: "+n);if(void 0===u[n]&&!t.isAppCode(n))throw new Error("Unrecognized function code: "+n);return n},t.isAppCode=function(e){return e>0&&e<16},t.isValidCode=function(e){return!!t.isAppCode(e)||!!u[e]},t.validate=f,t.prefix=function(e){return f(e),e.subarray(0,2)}},function(e,t,n){"use strict";const{names:r}=n(5),{TextDecoder:s}=n(6),i=new s("utf8");e.exports=function(e,t="utf8"){if("utf8"===t||"utf-8"===t)return i.decode(e);if("ascii"===t)return function(e){let t="";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}(e);const n=r[t];if(!n)throw new Error("Unknown base");return n.encode(e)}},function(e,t,n){"use strict";e.exports=function(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0}},function(e,t,n){"use strict";const{sortBy:r}=n(2),s=n(99);class i{constructor(e){this.set=new Map,this._stats=e}get length(){return this.set.size}add(e,t,r){const i=n(4),o=e.toString("base58btc"),a=this.set.get(o);a?(a.inc(),a.priority=t,a.wantType===i.WantType.Have&&r===i.WantType.Block&&(a.wantType=r)):(this.set.set(o,new s(e,t,r)),this._stats&&this._stats.push(null,"wantListSize",1))}remove(e){const t=e.toString("base58btc"),n=this.set.get(t);n&&(n.dec(),n.hasRefs()||(this.set.delete(t),this._stats&&this._stats.push(null,"wantListSize",-1)))}removeForce(e){this.set.has(e)&&this.set.delete(e)}forEach(e){return this.set.forEach(e)}entries(){return this.set.entries()}sortedEntries(){return new Map(r(e=>e[1].key,Array.from(this.set.entries())))}contains(e){const t=e.toString("base58btc");return this.set.get(t)}}i.Entry=s,e.exports=i},function(e,t,n){"use strict";e.exports={maxProvidersPerRequest:3,providerRequestTimeout:1e4,hasBlockTimeout:15e3,provideTimeout:15e3,kMaxPriority:Math.pow(2,31)-1,maxListeners:1e3,wantlistSendDebounceMs:1}},function(e,t,n){"use strict";const r=n(8),s=n(21),i=n(23),o=n(7),a=n(52),c=n(16),u=n(22),f=n(9),l=n(10),h=Object.keys(o).reduce((e,t)=>(e[o[t]]=t,e),{});class p{constructor(e,t,n,o){if(d.isCID(e)){const t=e;return this.version=t.version,this.codec=t.codec,this.multihash=t.multihash,void(this.multibaseName=t.multibaseName||(0===t.version?"base58btc":"base32"))}if("string"==typeof e){const t=s.isEncoded(e);if(t){const n=s.decode(e);this.version=parseInt(n.slice(0,1).toString("hex"),16),this.codec=i.getCodec(n.slice(1)),this.multihash=i.rmPrefix(n.slice(1)),this.multibaseName=t}else this.version=0,this.codec="dag-pb",this.multihash=r.fromB58String(e),this.multibaseName="base58btc";return p.validateCID(this),void Object.defineProperty(this,"string",{value:e})}if(e instanceof Uint8Array){const t=e.slice(0,1),n=parseInt(t.toString("hex"),16);if(1===n){const t=e;this.version=n,this.codec=i.getCodec(t.slice(1)),this.multihash=i.rmPrefix(t.slice(1)),this.multibaseName="base32"}else this.version=0,this.codec="dag-pb",this.multihash=e,this.multibaseName="base58btc";p.validateCID(this)}else this.version=e,"number"==typeof t&&(t=h[t]),this.codec=t,this.multihash=n,this.multibaseName=o||(0===e?"base58btc":"base32"),p.validateCID(this)}get bytes(){let e=this._bytes;if(!e){if(0===this.version)e=this.multihash;else{if(1!==this.version)throw new Error("unsupported version");{const t=i.getCodeVarint(this.codec);e=u([[1],t,this.multihash],1+t.byteLength+this.multihash.byteLength)}}Object.defineProperty(this,"_bytes",{value:e})}return e}get prefix(){const e=i.getCodeVarint(this.codec),t=r.prefix(this.multihash);return u([[this.version],e,t],1+e.byteLength+t.byteLength)}get code(){return o[this.codec]}toV0(){if("dag-pb"!==this.codec)throw new Error("Cannot convert a non dag-pb CID to CIDv0");const{name:e,length:t}=r.decode(this.multihash);if("sha2-256"!==e)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");if(32!==t)throw new Error("Cannot convert non 32 byte multihash CID to CIDv0");return new d(0,this.codec,this.multihash)}toV1(){return new d(1,this.codec,this.multihash)}toBaseEncodedString(e=this.multibaseName){if(this.string&&e===this.multibaseName)return this.string;let t=null;if(0===this.version){if("base58btc"!==e)throw new Error("not supported with CIDv0, to support different bases, please migrate the instance do CIDv1, you can do that through cid.toV1()");t=r.toB58String(this.multihash)}else{if(1!==this.version)throw new Error("unsupported version");t=f(s.encode(e,this.bytes))}return e===this.multibaseName&&Object.defineProperty(this,"string",{value:t}),t}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}toString(e){return this.toBaseEncodedString(e)}toJSON(){return{codec:this.codec,version:this.version,hash:this.multihash}}equals(e){return this.codec===e.codec&&this.version===e.version&&l(this.multihash,e.multihash)}static validateCID(e){const t=a.checkCIDComponents(e);if(t)throw new Error(t)}}const d=c(p,{className:"CID",symbolName:"@ipld/js-cid/CID"});d.codecs=o,e.exports=d},function(e,t,n){"use strict";const{TextEncoder:r,TextDecoder:s}=n(6),i=new s,o=new r;e.exports={decodeText:e=>i.decode(e),encodeText:e=>o.encode(e),concat:function(e,t){const n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}}},function(e,t,n){"use strict";const{names:r}=n(5),{TextEncoder:s}=n(6),i=new s;e.exports=function(e,t="utf8"){if("utf8"===t||"utf-8"===t)return i.encode(e);if("ascii"===t)return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(e);const n=r[t];if(!n)throw new Error("Unknown base");return n.decode(e)}},function(e,t,n){"use strict";e.exports=function(e,{className:t,symbolName:n}){const r=Symbol.for(n),s={[t]:class extends e{constructor(...e){super(...e),Object.defineProperty(this,r,{value:!0})}get[Symbol.toStringTag](){return t}}}[t];return s["is"+t]=e=>!(!e||!e[r]),s},e.exports.proto=function(e,{className:t,symbolName:n,withoutNew:r}){const s=Symbol.for(n),i={[t]:function(...t){if(r&&!(this instanceof i))return new i(...t);const n=e.call(this,...t)||this;return n&&!n[s]&&Object.defineProperty(n,s,{value:!0}),n}}[t];return i.prototype=Object.create(e.prototype),i.prototype.constructor=i,Object.defineProperty(i.prototype,Symbol.toStringTag,{get:()=>t}),i["is"+t]=e=>!(!e||!e[s]),i}},function(e,t,n){"use strict";var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(s){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,n){"use strict";t.defined=function(e){return null!=e&&("number"!=typeof e||!isNaN(e))}},function(e,t,n){"use strict";var r,s="object"==typeof Reflect?Reflect:null,i=s&&"function"==typeof s.apply?s.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=s&&"function"==typeof s.ownKeys?s.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise((function(n,r){function s(){void 0!==i&&e.removeListener("error",i),n([].slice.call(arguments))}var i;"error"!==t&&(i=function(n){e.removeListener(t,s),r(n)},e.once("error",i)),e.once(t,s)}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var c=10;function u(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function f(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function l(e,t,n,r){var s,i,o,a;if(u(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),o=i[t]),void 0===o)o=i[t]=n,++e._eventsCount;else if("function"==typeof o?o=i[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),(s=f(e))>0&&o.length>s&&!o.warned){o.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=o.length,a=c,console&&console.warn&&console.warn(a)}return e}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},s=h.bind(r);return s.listener=n,r.wrapFn=s,s}function d(e,t,n){var r=e._events;if(void 0===r)return[];var s=r[t];return void 0===s?[]:"function"==typeof s?n?[s.listener||s]:[s]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(s):b(s,s.length)}function g(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function b(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return f(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,s=this._events;if(void 0!==s)r=r&&void 0===s.error;else if(!r)return!1;if(r){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=s[e];if(void 0===c)return!1;if("function"==typeof c)i(c,this,t);else{var u=c.length,f=b(c,u);for(n=0;n<u;++n)i(f[n],this,t)}return!0},a.prototype.addListener=function(e,t){return l(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return l(this,e,t,!0)},a.prototype.once=function(e,t){return u(t),this.on(e,p(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return u(t),this.prependListener(e,p(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,r,s,i,o;if(u(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(s=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){o=n[i].listener,s=i;break}if(s<0)return this;0===s?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,s),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,o||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var s,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(s=i[r])&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},a.prototype.listeners=function(e){return d(this,e,!0)},a.prototype.rawListeners=function(e){return d(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):g.call(e,t)},a.prototype.listenerCount=g,a.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t,n){"use strict";const r=n(13),{version:s}=n(53),i=Symbol.for("@ipld/js-ipld-block/block"),o={writable:!1,configurable:!1,enumerable:!0};class a{constructor(e,t){if(!(e&&e instanceof Uint8Array))throw new Error("first argument  must be a Uint8Array");if(!t||!r.isCID(t))throw new Error("second argument must be a CID");this.data=e,this.cid=t,Object.defineProperties(this,{data:o,cid:o})}get _data(){return f(),this.data}get _cid(){return u(),this.cid}get[Symbol.toStringTag](){return"Block"}get[i](){return!0}static isBlock(e){return Boolean(e&&e[i])}}const c=(e,t)=>{let n=!1;return()=>{if(!e.test(s))throw new Error(t);n||(n=!0,console.warn(t))}},u=c(/^0\.10|^0\.11/,"block._cid is deprecated and will be removed in 0.12 release. Please use block.cid instead"),f=c(/^0\.10|^0.11/,"block._data is deprecated and will be removed in 0.12 release. Please use block.data instead");e.exports=a},function(e,t,n){"use strict";const r=n(5),{encodeText:s,decodeText:i,concat:o}=n(14);function a(e){if(r.names[e])return r.names[e];if(r.codes[e])return r.codes[e];throw new Error("Unsupported encoding: "+e)}(t=e.exports=function(e,t){if(!t)throw new Error("requires an encoded Uint8Array");const{name:n,codeBuf:r}=a(e);return function(e,t){a(e).decode(i(t))}(n,t),o([r,t],r.length+t.length)}).encode=function(e,t){const n=a(e),r=s(n.encode(t));return o([n.codeBuf,r],n.codeBuf.length+r.length)},t.decode=function(e){e instanceof Uint8Array&&(e=i(e));const t=e[0];return["f","F","v","V","t","T","b","B","c","C","h","k","K"].includes(t)&&(e=e.toLowerCase()),a(e[0]).decode(e.substring(1))},t.isEncoded=function(e){if(e instanceof Uint8Array&&(e=i(e)),"[object String]"!==Object.prototype.toString.call(e))return!1;try{return a(e[0]).name}catch(t){return!1}},t.encoding=a,t.encodingFromData=function(e){return e instanceof Uint8Array&&(e=i(e)),a(e[0])},t.names=Object.freeze(r.names),t.codes=Object.freeze(r.codes)},function(e,t,n){"use strict";e.exports=function(e,t){t||(t=e.reduce((e,t)=>e+t.length,0));const n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}},function(e,t,n){"use strict";const r=n(0),s=n(45),i=n(46),o=n(24),a=n(49);(t=e.exports).addPrefix=(e,t)=>{let n;if(e instanceof Uint8Array)n=o.varintUint8ArrayEncode(e);else{if(!i[e])throw new Error("multicodec not recognized");n=i[e]}return a([n,t],n.length+t.length)},t.rmPrefix=e=>(r.decode(e),e.slice(r.decode.bytes)),t.getCodec=e=>{const t=r.decode(e),n=s.get(t);if(void 0===n)throw new Error(`Code ${t} not found`);return n},t.getName=e=>s.get(e),t.getNumber=e=>{const t=i[e];if(void 0===t)throw new Error("Codec `"+e+"` not found");return r.decode(t)},t.getCode=e=>r.decode(e),t.getCodeVarint=e=>{const t=i[e];if(void 0===t)throw new Error("Codec `"+e+"` not found");return t},t.getVarint=e=>r.encode(e);const c=n(50);Object.assign(t,c),t.print=n(51)},function(e,t,n){"use strict";const r=n(0),s=n(47),i=n(48);function o(e){return parseInt(s(e,"base16"),16)}e.exports={numberToUint8Array:function(e){let t=e.toString(16);t.length%2==1&&(t="0"+t);return i(t,"base16")},uint8ArrayToNumber:o,varintUint8ArrayEncode:function(e){return Uint8Array.from(r.encode(o(e)))},varintEncode:function(e){return Uint8Array.from(r.encode(e))}}},function(e,t,n){"use strict";var r,s,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function c(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{s="function"==typeof clearTimeout?clearTimeout:a}catch(e){s=a}}();var u,f=[],l=!1,h=-1;function p(){l&&u&&(l=!1,u.length?f=u.concat(f):h=-1,f.length&&d())}function d(){if(!l){var e=c(p);l=!0;for(var t=f.length;t;){for(u=f,f=[];++h<t;)u&&u[h].run();h=-1,t=f.length}u=null,l=!1,function(e){if(s===clearTimeout)return clearTimeout(e);if((s===a||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(e);try{s(e)}catch(t){try{return s.call(null,e)}catch(t){return s.call(this,e)}}}(e)}}function g(e,t){this.fun=e,this.array=t}function b(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];f.push(new g(e,t)),1!==f.length||l||c(d)},g.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=b,i.addListener=b,i.once=b,i.off=b,i.removeListener=b,i.removeAllListeners=b,i.emit=b,i.prependListener=b,i.prependOnceListener=b,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";(function(t){function n(e){return(4294967296+e).toString(16).substring(1)}e.exports={normalizeInput:function(e){var n;if(e instanceof Uint8Array)n=e;else if(e instanceof t)n=new Uint8Array(e);else{if("string"!=typeof e)throw new Error("Input must be an string, Buffer or Uint8Array");n=new Uint8Array(t.from(e,"utf8"))}return n},toHex:function(e){return Array.prototype.map.call(e,(function(e){return(e<16?"0":"")+e.toString(16)})).join("")},debugPrint:function(e,t,r){for(var s="\n"+e+" = ",i=0;i<t.length;i+=2){if(32===r)s+=n(t[i]).toUpperCase(),s+=" ",s+=n(t[i+1]).toUpperCase();else{if(64!==r)throw new Error("Invalid size "+r);s+=n(t[i+1]).toUpperCase(),s+=n(t[i]).toUpperCase()}i%6==4?s+="\n"+new Array(e.length+4).join(" "):i<t.length-2&&(s+=" ")}console.log(s)},testSpeed:function(e,t,n){for(var r=(new Date).getTime(),s=new Uint8Array(t),i=0;i<t;i++)s[i]=i%256;var o=(new Date).getTime();for(console.log("Generated random input in "+(o-r)+"ms"),r=o,i=0;i<n;i++){var a=e(s),c=(new Date).getTime(),u=c-r;r=c,console.log("Hashed in "+u+"ms: "+a.substring(0,20)+"..."),console.log(Math.round(t/(1<<20)/(u/1e3)*100)/100+" MB PER SECOND")}}}}).call(this,n(3).Buffer)},function(e,t,n){"use strict";const{Buffer:r}=n(3),s=Symbol.for("BufferList");function i(e){if(!(this instanceof i))return new i(e);i._init.call(this,e)}i._init=function(e){Object.defineProperty(this,s,{value:!0}),this._bufs=[],this.length=0,e&&this.append(e)},i.prototype._new=function(e){return new i(e)},i.prototype._offset=function(e){if(0===e)return[0,0];let t=0;for(let n=0;n<this._bufs.length;n++){const r=t+this._bufs[n].length;if(e<r||n===this._bufs.length-1)return[n,e-t];t=r}},i.prototype._reverseOffset=function(e){const t=e[0];let n=e[1];for(let r=0;r<t;r++)n+=this._bufs[r].length;return n},i.prototype.get=function(e){if(e>this.length||e<0)return;const t=this._offset(e);return this._bufs[t[0]][t[1]]},i.prototype.slice=function(e,t){return"number"==typeof e&&e<0&&(e+=this.length),"number"==typeof t&&t<0&&(t+=this.length),this.copy(null,0,e,t)},i.prototype.copy=function(e,t,n,s){if(("number"!=typeof n||n<0)&&(n=0),("number"!=typeof s||s>this.length)&&(s=this.length),n>=this.length)return e||r.alloc(0);if(s<=0)return e||r.alloc(0);const i=!!e,o=this._offset(n),a=s-n;let c=a,u=i&&t||0,f=o[1];if(0===n&&s===this.length){if(!i)return 1===this._bufs.length?this._bufs[0]:r.concat(this._bufs,this.length);for(let t=0;t<this._bufs.length;t++)this._bufs[t].copy(e,u),u+=this._bufs[t].length;return e}if(c<=this._bufs[o[0]].length-f)return i?this._bufs[o[0]].copy(e,t,f,f+c):this._bufs[o[0]].slice(f,f+c);i||(e=r.allocUnsafe(a));for(let r=o[0];r<this._bufs.length;r++){const t=this._bufs[r].length-f;if(!(c>t)){this._bufs[r].copy(e,u,f,f+c),u+=t;break}this._bufs[r].copy(e,u,f),u+=t,c-=t,f&&(f=0)}return e.length>u?e.slice(0,u):e},i.prototype.shallowSlice=function(e,t){if(e=e||0,t="number"!=typeof t?this.length:t,e<0&&(e+=this.length),t<0&&(t+=this.length),e===t)return this._new();const n=this._offset(e),r=this._offset(t),s=this._bufs.slice(n[0],r[0]+1);return 0===r[1]?s.pop():s[s.length-1]=s[s.length-1].slice(0,r[1]),0!==n[1]&&(s[0]=s[0].slice(n[1])),this._new(s)},i.prototype.toString=function(e,t,n){return this.slice(t,n).toString(e)},i.prototype.consume=function(e){if(e=Math.trunc(e),Number.isNaN(e)||e<=0)return this;for(;this._bufs.length;){if(!(e>=this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},i.prototype.duplicate=function(){const e=this._new();for(let t=0;t<this._bufs.length;t++)e.append(this._bufs[t]);return e},i.prototype.append=function(e){if(null==e)return this;if(e.buffer)this._appendBuffer(r.from(e.buffer,e.byteOffset,e.byteLength));else if(Array.isArray(e))for(let t=0;t<e.length;t++)this.append(e[t]);else if(this._isBufferList(e))for(let t=0;t<e._bufs.length;t++)this.append(e._bufs[t]);else"number"==typeof e&&(e=e.toString()),this._appendBuffer(r.from(e));return this},i.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length},i.prototype.indexOf=function(e,t,n){if(void 0===n&&"string"==typeof t&&(n=t,t=void 0),"function"==typeof e||Array.isArray(e))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if("number"==typeof e?e=r.from([e]):"string"==typeof e?e=r.from(e,n):this._isBufferList(e)?e=e.slice():Array.isArray(e.buffer)?e=r.from(e.buffer,e.byteOffset,e.byteLength):r.isBuffer(e)||(e=r.from(e)),t=Number(t||0),isNaN(t)&&(t=0),t<0&&(t=this.length+t),t<0&&(t=0),0===e.length)return t>this.length?this.length:t;const s=this._offset(t);let i=s[0],o=s[1];for(;i<this._bufs.length;i++){const t=this._bufs[i];for(;o<t.length;){if(t.length-o>=e.length){const n=t.indexOf(e,o);if(-1!==n)return this._reverseOffset([i,n]);o=t.length-e.length+1}else{const t=this._reverseOffset([i,o]);if(this._match(t,e))return t;o++}}o=0}return-1},i.prototype._match=function(e,t){if(this.length-e<t.length)return!1;for(let n=0;n<t.length;n++)if(this.get(e+n)!==t[n])return!1;return!0},function(){const e={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(const t in e)!function(t){i.prototype[t]=null===e[t]?function(e,n){return this.slice(e,e+n)[t](0,n)}:function(n){return this.slice(n,n+e[t])[t](0)}}(t)}(),i.prototype._isBufferList=function(e){return e instanceof i||i.isBufferList(e)},i.isBufferList=function(e){return null!=e&&e[s]},e.exports=i},function(e,t,n){"use strict";const r=n(0),{Buffer:s}=n(3),i=(e,t,n)=>{const o=r.encode(e,t,n);return i.bytes=r.encode.bytes,t||s.from(o)};e.exports=i},function(e,t,n){"use strict";const{Buffer:r}=n(3),s=n(0),i=e=>{const t=s.decode(r.isBuffer(e)?e:(n=e,new Proxy({},{get:(e,t)=>"l"===t[0]?n[t]:n.get(parseInt(t))})));var n;return i.bytes=s.decode.bytes,t};e.exports=i},function(e,t,n){"use strict";const{AbortController:r,AbortSignal:s}="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0;e.exports=r,e.exports.AbortSignal=s,e.exports.default=r},function(e,t,n){"use strict";var r=n(124),s="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),i=Object.prototype.toString,o=Array.prototype.concat,a=Object.defineProperty,c=a&&function(){var e={};try{for(var t in a(e,"x",{enumerable:!1,value:e}),e)return!1;return e.x===e}catch(n){return!1}}(),u=function(e,t,n,r){var s;(!(t in e)||"function"==typeof(s=r)&&"[object Function]"===i.call(s)&&r())&&(c?a(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0}):e[t]=n)},f=function(e,t){var n=arguments.length>2?arguments[2]:{},i=r(t);s&&(i=o.call(i,Object.getOwnPropertySymbols(t)));for(var a=0;a<i.length;a+=1)u(e,i[a],t[i[a]],n[i[a]])};f.supportsDescriptors=!!c,e.exports=f},function(e,t,n){"use strict";var r=Object.prototype.toString;e.exports=function(e){var t=r.call(e),n="[object Arguments]"===t;return n||(n="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===r.call(e.callee)),n}},function(e,t,n){"use strict";"undefined"!=typeof self?e.exports=self:"undefined"!=typeof window?e.exports=window:e.exports=Function("return this")()},function(e,t,n){"use strict";(function(t){var r=n(33);e.exports=function(){return"object"==typeof t&&t&&t.Math===Math&&t.Array===Array?t:r}}).call(this,n(17))},function(e,t,n){e.exports=n(36)},function(e,t,n){"use strict";const r=n(37),s=n(102),i=n(111),o=n(116),a=n(2).logger,c=n(117),u=n(30),f=n(121),l={statsEnabled:!1,statsComputeThrottleTimeout:1e3,statsComputeThrottleMaxQueueSize:1e3},h=["blocksReceived","dataReceived","dupBlksReceived","dupDataReceived","blocksSent","dataSent","providesBufferLength","wantListLength","peerCount"];e.exports=class{constructor(e,t,n){this._libp2p=e,this._log=a(this.peerId),this._options=Object.assign({},l,n),this._stats=new c(h,{enabled:this._options.statsEnabled,computeThrottleTimeout:this._options.statsComputeThrottleTimeout,computeThrottleMaxQueueSize:this._options.statsComputeThrottleMaxQueueSize}),this.network=new s(e,this,{},this._stats),this.blockstore=t,this.engine=new i(this.peerId,t,this.network,this._stats),this.wm=new r(this.peerId,this.network,this._stats),this.notifications=new o(this.peerId)}get peerId(){return this._libp2p.peerId}async _receiveMessage(e,t){try{await this.engine.messageReceived(e,t)}catch(s){this._log("failed to receive message",t)}if(0===t.blocks.size)return;const n=Array.from(t.blocks.values()),r=n.filter(e=>this.wm.wantlist.contains(e.cid)).map(e=>e.cid);this.wm.cancelWants(r),await Promise.all(n.map(async t=>{const n=r.includes(t.cid);await this._handleReceivedBlock(e,t,n)}))}async _handleReceivedBlock(e,t,n){this._log("received block");const r=await this.blockstore.has(t.cid);this._updateReceiveCounters(e.toB58String(),t,r),n&&await this.put(t)}_updateReceiveCounters(e,t,n){this._stats.push(e,"blocksReceived",1),this._stats.push(e,"dataReceived",t.data.length),n&&(this._stats.push(e,"dupBlksReceived",1),this._stats.push(e,"dupDataReceived",t.data.length))}_receiveError(e){this._log.error("ReceiveError: %s",e.message)}_onPeerConnected(e){this.wm.connected(e)}_onPeerDisconnected(e){this.wm.disconnected(e),this.engine.peerDisconnected(e),this._stats.disconnected(e)}enableStats(){this._stats.enable()}disableStats(){this._stats.disable()}wantlistForPeer(e){return this.engine.wantlistForPeer(e)}ledgerForPeer(e){return this.engine.ledgerForPeer(e)}async get(e,t={}){const n=(e,t)=>(this.wm.wantBlocks([e],t),this.notifications.wantBlock(e,t));let r=!1;const s=new u,i=f([t.signal,s.signal]),o=await Promise.race([this.notifications.wantBlock(e,{signal:i}),(async(e,t)=>{try{return await this.blockstore.get(e,t)}catch(s){if("ERR_NOT_FOUND"!==s.code)throw s;return r||(r=!0,this.network.findAndConnect(e).catch(e=>this._log.error(e))),n(e,t)}})(e,{signal:i})]);return s.abort(),o}async*getMany(e,t={}){for await(const n of e)yield this.get(n,t)}unwant(e){Array.isArray(e)||(e=[e]),this.wm.unwantBlocks(e),e.forEach(e=>this.notifications.unwantBlock(e))}cancelWants(e){Array.isArray(e)||(e=[e]),this.wm.cancelWants(e)}async put(e){await this.blockstore.put(e),this._sendHaveBlockNotifications(e)}async*putMany(e){for await(const t of this.blockstore.putMany(e))this._sendHaveBlockNotifications(t),yield t}_sendHaveBlockNotifications(e){this.notifications.hasBlock(e),this.engine.receivedBlocks([e]),this.network.provide(e.cid).catch(e=>{this._log.error("Failed to provide: %s",e.message)})}getWantlist(){return this.wm.wantlist.entries()}peers(){return this.engine.peers()}stat(){return this._stats}start(){this.wm.start(),this.network.start(),this.engine.start()}stop(){this._stats.stop(),this.wm.stop(),this.network.stop(),this.engine.stop()}}},function(e,t,n){"use strict";const r=n(4),s=n(11),i=n(12),o=n(100),a=n(2).logger;e.exports=class{constructor(e,t,n){this.peers=new Map,this.wantlist=new s(n),this.network=t,this._stats=n,this._peerId=e,this._log=a(e,"want")}_addEntries(e,t,n){const s=e.map((e,n)=>new r.Entry(e,i.kMaxPriority-n,r.WantType.Block,t));s.forEach(e=>{e.cancel?n?this.wantlist.removeForce(e.cid):this.wantlist.remove(e.cid):(this._log("adding to wl"),this.wantlist.add(e.cid,e.priority))});for(const r of this.peers.values())r.addEntries(s)}_startPeerHandler(e){let t=this.peers.get(e.toB58String());if(t)return void t.refcnt++;t=new o(this._peerId,e,this.network);const n=new r(!0);for(const r of this.wantlist.entries())n.addEntry(r[1].cid,r[1].priority);return t.addMessage(n),this.peers.set(e.toB58String(),t),t}_stopPeerHandler(e){const t=this.peers.get(e.toB58String());t&&(t.refcnt--,t.refcnt>0||this.peers.delete(e.toB58String()))}wantBlocks(e,t={}){this._addEntries(e,!1),t&&t.signal&&t.signal.addEventListener("abort",()=>{this.cancelWants(e)})}unwantBlocks(e){this._log("unwant blocks: %s",e.length),this._addEntries(e,!0,!0)}cancelWants(e){this._log("cancel wants: %s",e.length),this._addEntries(e,!0)}connectedPeers(){return Array.from(this.peers.keys())}connected(e){this._startPeerHandler(e)}disconnected(e){this._stopPeerHandler(e)}start(){}stop(){this.peers.forEach(e=>this.disconnected(e.peerId)),clearInterval(this.timer)}}},function(e,t,n){"use strict";e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var r=0;r<e.length;r++){var s=e.charAt(r),i=s.charCodeAt(0);if(255!==t[i])throw new TypeError(s+" is ambiguous");t[i]=r}var o=e.length,a=e.charAt(0),c=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function f(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var n=0;if(" "!==e[n]){for(var r=0,s=0;e[n]===a;)r++,n++;for(var i=(e.length-n)*c+1>>>0,u=new Uint8Array(i);e[n];){var f=t[e.charCodeAt(n)];if(255===f)return;for(var l=0,h=i-1;(0!==f||l<s)&&-1!==h;h--,l++)f+=o*u[h]>>>0,u[h]=f%256>>>0,f=f/256>>>0;if(0!==f)throw new Error("Non-zero carry");s=l,n++}if(" "!==e[n]){for(var p=i-s;p!==i&&0===u[p];)p++;for(var d=new Uint8Array(r+(i-p)),g=r;p!==i;)d[g++]=u[p++];return d}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,s=0,i=t.length;s!==i&&0===t[s];)s++,n++;for(var c=(i-s)*u+1>>>0,f=new Uint8Array(c);s!==i;){for(var l=t[s],h=0,p=c-1;(0!==l||h<r)&&-1!==p;p--,h++)l+=256*f[p]>>>0,f[p]=l%o>>>0,l=l/o>>>0;if(0!==l)throw new Error("Non-zero carry");r=h,s++}for(var d=c-r;d!==c&&0===f[d];)d++;for(var g=a.repeat(n);d<c;++d)g+=e.charAt(f[d]);return g},decodeUnsafe:f,decode:function(e){var t=f(e);if(t)return t;throw new Error("Non-base"+o+" character")}}}},function(e,t,n){"use strict";const{encodeText:r}=n(14);e.exports=class{constructor(e,t,n,s){this.name=e,this.code=t,this.codeBuf=r(this.code),this.alphabet=s,this.engine=n(s)}encode(e){return this.engine.encode(e)}decode(e){for(const t of e)if(this.alphabet&&this.alphabet.indexOf(t)<0)throw new Error(`invalid character '${t}' in '${e}'`);return this.engine.decode(e)}}},function(e,t,n){"use strict";e.exports=e=>t=>({encode:n=>((e,t,n)=>{const r="="===t[t.length-1],s=(1<<n)-1;let i="",o=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],o+=8;o>n;)o-=n,i+=t[s&a>>o];if(o&&(i+=t[s&a<<n-o]),r)for(;i.length*n&7;)i+="=";return i})(n,t,e),decode:n=>((e,t,n)=>{const r={};for(let u=0;u<t.length;++u)r[t[u]]=u;let s=e.length;for(;"="===e[s-1];)--s;const i=new Uint8Array(s*n/8|0);let o=0,a=0,c=0;for(let u=0;u<s;++u){const t=r[e[u]];if(void 0===t)throw new SyntaxError("Invalid character "+e[u]);a=a<<n|t,o+=n,o>=8&&(o-=8,i[c++]=255&a>>o)}if(o>=n||255&a<<8-o)throw new SyntaxError("Unexpected end of data");return i})(n,t,e)})},function(e,t,n){"use strict";e.exports=function e(t,n,s){n=n||[];var i=s=s||0;for(;t>=r;)n[s++]=255&t|128,t/=128;for(;-128&t;)n[s++]=255&t|128,t>>>=7;return n[s]=0|t,e.bytes=s-i+1,n};var r=Math.pow(2,31)},function(e,t,n){"use strict";e.exports=function e(t,n){var r,s=0,i=0,o=n=n||0,a=t.length;do{if(o>=a)throw e.bytes=0,new RangeError("Could not decode varint");r=t[o++],s+=i<28?(127&r)<<i:(127&r)*Math.pow(2,i),i+=7}while(r>=128);return e.bytes=o-n,s}},function(e,t,n){"use strict";var r=Math.pow(2,7),s=Math.pow(2,14),i=Math.pow(2,21),o=Math.pow(2,28),a=Math.pow(2,35),c=Math.pow(2,42),u=Math.pow(2,49),f=Math.pow(2,56),l=Math.pow(2,63);e.exports=function(e){return e<r?1:e<s?2:e<i?3:e<o?4:e<a?5:e<c?6:e<u?7:e<f?8:e<l?9:10}},function(e,t,n){"use strict";const r=Object.freeze({identity:0,sha1:17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,blake3:30,"murmur3-128":34,"murmur3-32":35,"dbl-sha2-256":86,md4:212,md5:213,bmt:214,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,x11:4352,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46e3,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082});e.exports={names:r}},function(e,t,n){"use strict";const r=n(7),s=new Map;for(const i in r){const e=r[i];s.set(e,i)}e.exports=Object.freeze(s)},function(e,t,n){"use strict";const r=n(7),s=n(24).varintEncode,i={};for(const o in r){const e=r[o];i[o]=s(e)}e.exports=Object.freeze(i)},function(e,t,n){"use strict";const{names:r}=n(5),{TextDecoder:s}=n(6),i=new s("utf8");e.exports=function(e,t="utf8"){if("utf8"===t||"utf-8"===t)return i.decode(e);const n=r[t];if(!n)throw new Error("Unknown base");return n.encode(e)}},function(e,t,n){"use strict";const{names:r}=n(5),{TextEncoder:s}=n(6),i=new s;e.exports=function(e,t="utf8"){if("utf8"===t||"utf-8"===t)return i.encode(e);const n=r[t];if(!n)throw new Error("Unknown base");return n.decode(e)}},function(e,t,n){"use strict";e.exports=function(e,t){t||(t=e.reduce((e,t)=>e+t.length,0));const n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}},function(e,t,n){"use strict";const r=n(7),s={};for(const[i,o]of Object.entries(r))s[i.toUpperCase().replace(/-/g,"_")]=o;e.exports=Object.freeze(s)},function(e,t,n){"use strict";const r=n(7),s={};for(const[i,o]of Object.entries(r))void 0===s[o]&&(s[o]=i);e.exports=Object.freeze(s)},function(e,t,n){"use strict";const r=n(8),s={checkCIDComponents:function(e){if(null==e)return"null values are not valid CIDs";if(0!==e.version&&1!==e.version)return"Invalid version, must be a number equal to 1 or 0";if("string"!=typeof e.codec)return"codec must be string";if(0===e.version){if("dag-pb"!==e.codec)return"codec must be 'dag-pb' for CIDv0";if("base58btc"!==e.multibaseName)return"multibaseName must be 'base58btc' for CIDv0"}if(!(e.multihash instanceof Uint8Array))return"multihash must be a Uint8Array";try{r.validate(e.multihash)}catch(t){let e=t.message;return e||(e="Multihash validation failed"),e}}};e.exports=s},function(e){e.exports=JSON.parse('{"_from":"ipld-block@^0.11.0","_id":"ipld-block@0.11.0","_inBundle":false,"_integrity":"sha512-Kk56OOPmlWAjXfBJXvx2jX5RA6R9qUrcc2JXwF7Y4IL9mlmxcxTNkgcsJYR78DbyMllQbi7yreghjGjtCTYKaw==","_location":"/ipld-block","_phantomChildren":{},"_requested":{"type":"range","registry":true,"raw":"ipld-block@^0.11.0","name":"ipld-block","escapedName":"ipld-block","rawSpec":"^0.11.0","saveSpec":null,"fetchSpec":"^0.11.0"},"_requiredBy":["/","/ipfs-repo"],"_resolved":"https://registry.npmjs.org/ipld-block/-/ipld-block-0.11.0.tgz","_shasum":"71b24b70f4d867b0609a738efa4872ef4df84c7a","_spec":"ipld-block@^0.11.0","_where":"/Users/alex/Documents/Workspaces/ipfs/js-ipfs-bitswap","bugs":{"url":"https://github.com/ipld/js-ipld-block/issues"},"bundleDependencies":false,"contributors":[{"name":"David Dias","email":"daviddias.p@gmail.com"},{"name":"Volker Mische","email":"volker.mische@gmail.com"},{"name":"Friedel Ziegelmayer","email":"dignifiedquire@gmail.com"},{"name":"Irakli Gozalishvili","email":"contact@gozala.io"},{"name":"achingbrain","email":"alex@achingbrain.net"},{"name":" ","email":"victorbjelkholm@gmail.com"},{"name":"Alan Shaw","email":"alan.shaw@protocol.ai"},{"name":"Charlie","email":"the_charlie_daly@hotmail.co.uk"},{"name":"Diogo Silva","email":"fsdiogo@gmail.com"},{"name":"Hugo Dias","email":"hugomrdias@gmail.com"},{"name":"Mikeal Rogers","email":"mikeal.rogers@gmail.com"},{"name":"Richard Littauer","email":"richard.littauer@gmail.com"},{"name":"Richard Schneider","email":"makaretu@gmail.com"},{"name":"Xmader","email":"xmader@outlook.com"}],"dependencies":{"cids":"^1.0.0"},"deprecated":false,"description":"JavaScript Implementation of IPLD Block","devDependencies":{"aegir":"^27.0.0","typescript":"^4.0.3","uint8arrays":"^1.0.0"},"engines":{"node":">=6.0.0","npm":">=3.0.0"},"homepage":"https://github.com/ipld/js-ipld-block#readme","keywords":["IPLD"],"leadMaintainer":"Volker Mische <volker.mische@gmail.com>","license":"MIT","main":"src/index.js","name":"ipld-block","pre-push":["lint","test"],"repository":{"type":"git","url":"git+https://github.com/ipld/js-ipld-block.git"},"scripts":{"build":"npm run build:js && npm run build:types","build:js":"aegir build","build:types":"tsc --emitDeclarationOnly --declarationDir dist","check":"tsc --noEmit --noErrorTruncation","coverage":"aegir coverage","coverage-publish":"aegir coverage --provider coveralls","docs":"aegir docs","lint":"aegir lint","prepare":"npm run build:types","release":"aegir release --docs","release-major":"aegir release --type major --docs","release-minor":"aegir release --type minor --docs","test":"aegir test","test:browser":"aegir test --target browser","test:node":"aegir test --target node"},"typesVersions":{"*":{"*":["dist/*"]}},"version":"0.11.0"}')},function(e,t,n){"use strict";const r=n(0);e.exports=e=>{if(!(e instanceof Uint8Array))throw new Error("arg needs to be a Uint8Array");const t=[];for(;e.length>0;){const n=r.decode(e);t.push(n),e=e.slice(r.decode.bytes)}return t}},function(e,t,n){"use strict";const r=n(56),s=n(8),i=n(57),o=n(10);async function a(e,t,n){const r=await a.digest(e,t,n);return s.encode(r,t,n)}a.multihash=s,a.digest=async(e,t,n)=>{const r=a.createHash(t),s=await r(e);return n?s.slice(0,n):s},a.createHash=function(e){if(!e)throw r(new Error("hash algorithm must be specified"),"ERR_HASH_ALGORITHM_NOT_SPECIFIED");if(e=s.coerceCode(e),!a.functions[e])throw r(new Error(`multihash function '${e}' not yet supported`),"ERR_HASH_ALGORITHM_NOT_SUPPORTED");return a.functions[e]},a.functions={0:i.identity,17:i.sha1,18:i.sha2256,19:i.sha2512,20:i.sha3512,21:i.sha3384,22:i.sha3256,23:i.sha3224,24:i.shake128,25:i.shake256,26:i.keccak224,27:i.keccak256,28:i.keccak384,29:i.keccak512,34:i.murmur3128,35:i.murmur332,86:i.dblSha2256},i.addBlake(a.functions),a.validate=async(e,t)=>{const n=await a(e,s.decode(t).name);return o(t,n)},e.exports=a},function(e,t,n){"use strict";function r(e,t){for(const n in t)Object.defineProperty(e,n,{value:t[n],enumerable:!0,configurable:!0});return e}e.exports=function(e,t,n){if(!e||"string"==typeof e)throw new TypeError("Please pass an Error to err-code");n||(n={}),"object"==typeof t&&(n=t,t=void 0),null!=t&&(n.code=t);try{return r(e,n)}catch(s){n.message=e.message,n.stack=e.stack;const t=function(){};return t.prototype=Object.create(Object.getPrototypeOf(e)),r(new t,n)}}},function(e,t,n){"use strict";const r=n(58),s=n(60),{factory:i}=n(62),{fromNumberTo32BitBuf:o}=n(63),a=n(15),c=e=>async t=>{switch(e){case"sha3-224":return new Uint8Array(r.sha3_224.arrayBuffer(t));case"sha3-256":return new Uint8Array(r.sha3_256.arrayBuffer(t));case"sha3-384":return new Uint8Array(r.sha3_384.arrayBuffer(t));case"sha3-512":return new Uint8Array(r.sha3_512.arrayBuffer(t));case"shake-128":return new Uint8Array(r.shake128.create(128).update(t).arrayBuffer());case"shake-256":return new Uint8Array(r.shake256.create(256).update(t).arrayBuffer());case"keccak-224":return new Uint8Array(r.keccak224.arrayBuffer(t));case"keccak-256":return new Uint8Array(r.keccak256.arrayBuffer(t));case"keccak-384":return new Uint8Array(r.keccak384.arrayBuffer(t));case"keccak-512":return new Uint8Array(r.keccak512.arrayBuffer(t));case"murmur3-128":return a(s.x64.hash128(t),"base16");case"murmur3-32":return o(s.x86.hash32(t));default:throw new TypeError(e+" is not a supported algorithm")}};e.exports={identity:e=>e,sha1:i("sha1"),sha2256:i("sha2-256"),sha2512:i("sha2-512"),dblSha2256:i("dbl-sha2-256"),sha3224:c("sha3-224"),sha3256:c("sha3-256"),sha3384:c("sha3-384"),sha3512:c("sha3-512"),shake128:c("shake-128"),shake256:c("shake-256"),keccak224:c("keccak-224"),keccak256:c("keccak-256"),keccak384:c("keccak-384"),keccak512:c("keccak-512"),murmur3128:c("murmur3-128"),murmur332:c("murmur3-32"),addBlake:n(64)}},function(e,t,n){"use strict";(function(r,s){var i;!function(){var o="input is invalid type",a="object"==typeof window,c=a?window:{};c.JS_SHA3_NO_WINDOW&&(a=!1);var u=!a&&"object"==typeof self;!c.JS_SHA3_NO_NODE_JS&&"object"==typeof r&&r.versions&&r.versions.node?c=s:u&&(c=self);var f=!c.JS_SHA3_NO_COMMON_JS&&"object"==typeof e&&e.exports,l=n(59),h=!c.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,p="0123456789abcdef".split(""),d=[4,1024,262144,67108864],g=[0,8,16,24],b=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],k=[224,256,384,512],y=[128,256],m=["hex","buffer","arrayBuffer","array","digest"],w={128:168,256:136};!c.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!h||!c.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});for(var v=function(e,t,n){return function(r){return new R(e,t,e).update(r)[n]()}},_=function(e,t,n){return function(r,s){return new R(e,t,s).update(r)[n]()}},E=function(e,t,n){return function(t,r,s,i){return S["cshake"+e].update(t,r,s,i)[n]()}},x=function(e,t,n){return function(t,r,s,i){return S["kmac"+e].update(t,r,s,i)[n]()}},A=function(e,t,n,r){for(var s=0;s<m.length;++s){var i=m[s];e[i]=t(n,r,i)}return e},B=function(e,t){var n=v(e,t,"hex");return n.create=function(){return new R(e,t,e)},n.update=function(e){return n.create().update(e)},A(n,v,e,t)},C=[{name:"keccak",padding:[1,256,65536,16777216],bits:k,createMethod:B},{name:"sha3",padding:[6,1536,393216,100663296],bits:k,createMethod:B},{name:"shake",padding:[31,7936,2031616,520093696],bits:y,createMethod:function(e,t){var n=_(e,t,"hex");return n.create=function(n){return new R(e,t,n)},n.update=function(e,t){return n.create(t).update(e)},A(n,_,e,t)}},{name:"cshake",padding:d,bits:y,createMethod:function(e,t){var n=w[e],r=E(e,0,"hex");return r.create=function(r,s,i){return s||i?new R(e,t,r).bytepad([s,i],n):S["shake"+e].create(r)},r.update=function(e,t,n,s){return r.create(t,n,s).update(e)},A(r,E,e,t)}},{name:"kmac",padding:d,bits:y,createMethod:function(e,t){var n=w[e],r=x(e,0,"hex");return r.create=function(r,s,i){return new M(e,t,s).bytepad(["KMAC",i],n).bytepad([r],n)},r.update=function(e,t,n,s){return r.create(e,n,s).update(t)},A(r,x,e,t)}}],S={},T=[],O=0;O<C.length;++O)for(var P=C[O],U=P.bits,L=0;L<U.length;++L){var I=P.name+"_"+U[L];if(T.push(I),S[I]=P.createMethod(U[L],P.padding),"sha3"!==P.name){var D=P.name+U[L];T.push(D),S[D]=S[I]}}function R(e,t,n){this.blocks=[],this.s=[],this.padding=t,this.outputBits=n,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=n>>5,this.extraBytes=(31&n)>>3;for(var r=0;r<50;++r)this.s[r]=0}function M(e,t,n){R.call(this,e,t,n)}R.prototype.update=function(e){if(this.finalized)throw new Error("finalize already called");var t,n=typeof e;if("string"!==n){if("object"!==n)throw new Error(o);if(null===e)throw new Error(o);if(h&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||h&&ArrayBuffer.isView(e)))throw new Error(o);t=!0}for(var r,s,i=this.blocks,a=this.byteCount,c=e.length,u=this.blockCount,f=0,l=this.s;f<c;){if(this.reset)for(this.reset=!1,i[0]=this.block,r=1;r<u+1;++r)i[r]=0;if(t)for(r=this.start;f<c&&r<a;++f)i[r>>2]|=e[f]<<g[3&r++];else for(r=this.start;f<c&&r<a;++f)(s=e.charCodeAt(f))<128?i[r>>2]|=s<<g[3&r++]:s<2048?(i[r>>2]|=(192|s>>6)<<g[3&r++],i[r>>2]|=(128|63&s)<<g[3&r++]):s<55296||s>=57344?(i[r>>2]|=(224|s>>12)<<g[3&r++],i[r>>2]|=(128|s>>6&63)<<g[3&r++],i[r>>2]|=(128|63&s)<<g[3&r++]):(s=65536+((1023&s)<<10|1023&e.charCodeAt(++f)),i[r>>2]|=(240|s>>18)<<g[3&r++],i[r>>2]|=(128|s>>12&63)<<g[3&r++],i[r>>2]|=(128|s>>6&63)<<g[3&r++],i[r>>2]|=(128|63&s)<<g[3&r++]);if(this.lastByteIndex=r,r>=a){for(this.start=r-a,this.block=i[u],r=0;r<u;++r)l[r]^=i[r];N(l),this.reset=!0}else this.start=r}return this},R.prototype.encode=function(e,t){var n=255&e,r=1,s=[n];for(n=255&(e>>=8);n>0;)s.unshift(n),n=255&(e>>=8),++r;return t?s.push(r):s.unshift(r),this.update(s),s.length},R.prototype.encodeString=function(e){var t,n=typeof e;if("string"!==n){if("object"!==n)throw new Error(o);if(null===e)throw new Error(o);if(h&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||h&&ArrayBuffer.isView(e)))throw new Error(o);t=!0}var r=0,s=e.length;if(t)r=s;else for(var i=0;i<e.length;++i){var a=e.charCodeAt(i);a<128?r+=1:a<2048?r+=2:a<55296||a>=57344?r+=3:(a=65536+((1023&a)<<10|1023&e.charCodeAt(++i)),r+=4)}return r+=this.encode(8*r),this.update(e),r},R.prototype.bytepad=function(e,t){for(var n=this.encode(t),r=0;r<e.length;++r)n+=this.encodeString(e[r]);var s=t-n%t,i=[];return i.length=s,this.update(i),this},R.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex,n=this.blockCount,r=this.s;if(e[t>>2]|=this.padding[3&t],this.lastByteIndex===this.byteCount)for(e[0]=e[n],t=1;t<n+1;++t)e[t]=0;for(e[n-1]|=2147483648,t=0;t<n;++t)r[t]^=e[t];N(r)}},R.prototype.toString=R.prototype.hex=function(){this.finalize();for(var e,t=this.blockCount,n=this.s,r=this.outputBlocks,s=this.extraBytes,i=0,o=0,a="";o<r;){for(i=0;i<t&&o<r;++i,++o)e=n[i],a+=p[e>>4&15]+p[15&e]+p[e>>12&15]+p[e>>8&15]+p[e>>20&15]+p[e>>16&15]+p[e>>28&15]+p[e>>24&15];o%t==0&&(N(n),i=0)}return s&&(e=n[i],a+=p[e>>4&15]+p[15&e],s>1&&(a+=p[e>>12&15]+p[e>>8&15]),s>2&&(a+=p[e>>20&15]+p[e>>16&15])),a},R.prototype.arrayBuffer=function(){this.finalize();var e,t=this.blockCount,n=this.s,r=this.outputBlocks,s=this.extraBytes,i=0,o=0,a=this.outputBits>>3;e=s?new ArrayBuffer(r+1<<2):new ArrayBuffer(a);for(var c=new Uint32Array(e);o<r;){for(i=0;i<t&&o<r;++i,++o)c[o]=n[i];o%t==0&&N(n)}return s&&(c[i]=n[i],e=e.slice(0,a)),e},R.prototype.buffer=R.prototype.arrayBuffer,R.prototype.digest=R.prototype.array=function(){this.finalize();for(var e,t,n=this.blockCount,r=this.s,s=this.outputBlocks,i=this.extraBytes,o=0,a=0,c=[];a<s;){for(o=0;o<n&&a<s;++o,++a)e=a<<2,t=r[o],c[e]=255&t,c[e+1]=t>>8&255,c[e+2]=t>>16&255,c[e+3]=t>>24&255;a%n==0&&N(r)}return i&&(e=a<<2,t=r[o],c[e]=255&t,i>1&&(c[e+1]=t>>8&255),i>2&&(c[e+2]=t>>16&255)),c},M.prototype=new R,M.prototype.finalize=function(){return this.encode(this.outputBits,!0),R.prototype.finalize.call(this)};var N=function(e){var t,n,r,s,i,o,a,c,u,f,l,h,p,d,g,k,y,m,w,v,_,E,x,A,B,C,S,T,O,P,U,L,I,D,R,M,N,j,F,z,H,q,W,Y,$,V,G,J,Q,X,K,Z,ee,te,ne,re,se,ie,oe,ae,ce,ue,fe;for(r=0;r<48;r+=2)s=e[0]^e[10]^e[20]^e[30]^e[40],i=e[1]^e[11]^e[21]^e[31]^e[41],o=e[2]^e[12]^e[22]^e[32]^e[42],a=e[3]^e[13]^e[23]^e[33]^e[43],c=e[4]^e[14]^e[24]^e[34]^e[44],u=e[5]^e[15]^e[25]^e[35]^e[45],f=e[6]^e[16]^e[26]^e[36]^e[46],l=e[7]^e[17]^e[27]^e[37]^e[47],t=(h=e[8]^e[18]^e[28]^e[38]^e[48])^(o<<1|a>>>31),n=(p=e[9]^e[19]^e[29]^e[39]^e[49])^(a<<1|o>>>31),e[0]^=t,e[1]^=n,e[10]^=t,e[11]^=n,e[20]^=t,e[21]^=n,e[30]^=t,e[31]^=n,e[40]^=t,e[41]^=n,t=s^(c<<1|u>>>31),n=i^(u<<1|c>>>31),e[2]^=t,e[3]^=n,e[12]^=t,e[13]^=n,e[22]^=t,e[23]^=n,e[32]^=t,e[33]^=n,e[42]^=t,e[43]^=n,t=o^(f<<1|l>>>31),n=a^(l<<1|f>>>31),e[4]^=t,e[5]^=n,e[14]^=t,e[15]^=n,e[24]^=t,e[25]^=n,e[34]^=t,e[35]^=n,e[44]^=t,e[45]^=n,t=c^(h<<1|p>>>31),n=u^(p<<1|h>>>31),e[6]^=t,e[7]^=n,e[16]^=t,e[17]^=n,e[26]^=t,e[27]^=n,e[36]^=t,e[37]^=n,e[46]^=t,e[47]^=n,t=f^(s<<1|i>>>31),n=l^(i<<1|s>>>31),e[8]^=t,e[9]^=n,e[18]^=t,e[19]^=n,e[28]^=t,e[29]^=n,e[38]^=t,e[39]^=n,e[48]^=t,e[49]^=n,d=e[0],g=e[1],V=e[11]<<4|e[10]>>>28,G=e[10]<<4|e[11]>>>28,T=e[20]<<3|e[21]>>>29,O=e[21]<<3|e[20]>>>29,ae=e[31]<<9|e[30]>>>23,ce=e[30]<<9|e[31]>>>23,q=e[40]<<18|e[41]>>>14,W=e[41]<<18|e[40]>>>14,D=e[2]<<1|e[3]>>>31,R=e[3]<<1|e[2]>>>31,k=e[13]<<12|e[12]>>>20,y=e[12]<<12|e[13]>>>20,J=e[22]<<10|e[23]>>>22,Q=e[23]<<10|e[22]>>>22,P=e[33]<<13|e[32]>>>19,U=e[32]<<13|e[33]>>>19,ue=e[42]<<2|e[43]>>>30,fe=e[43]<<2|e[42]>>>30,te=e[5]<<30|e[4]>>>2,ne=e[4]<<30|e[5]>>>2,M=e[14]<<6|e[15]>>>26,N=e[15]<<6|e[14]>>>26,m=e[25]<<11|e[24]>>>21,w=e[24]<<11|e[25]>>>21,X=e[34]<<15|e[35]>>>17,K=e[35]<<15|e[34]>>>17,L=e[45]<<29|e[44]>>>3,I=e[44]<<29|e[45]>>>3,A=e[6]<<28|e[7]>>>4,B=e[7]<<28|e[6]>>>4,re=e[17]<<23|e[16]>>>9,se=e[16]<<23|e[17]>>>9,j=e[26]<<25|e[27]>>>7,F=e[27]<<25|e[26]>>>7,v=e[36]<<21|e[37]>>>11,_=e[37]<<21|e[36]>>>11,Z=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,Y=e[8]<<27|e[9]>>>5,$=e[9]<<27|e[8]>>>5,C=e[18]<<20|e[19]>>>12,S=e[19]<<20|e[18]>>>12,ie=e[29]<<7|e[28]>>>25,oe=e[28]<<7|e[29]>>>25,z=e[38]<<8|e[39]>>>24,H=e[39]<<8|e[38]>>>24,E=e[48]<<14|e[49]>>>18,x=e[49]<<14|e[48]>>>18,e[0]=d^~k&m,e[1]=g^~y&w,e[10]=A^~C&T,e[11]=B^~S&O,e[20]=D^~M&j,e[21]=R^~N&F,e[30]=Y^~V&J,e[31]=$^~G&Q,e[40]=te^~re&ie,e[41]=ne^~se&oe,e[2]=k^~m&v,e[3]=y^~w&_,e[12]=C^~T&P,e[13]=S^~O&U,e[22]=M^~j&z,e[23]=N^~F&H,e[32]=V^~J&X,e[33]=G^~Q&K,e[42]=re^~ie&ae,e[43]=se^~oe&ce,e[4]=m^~v&E,e[5]=w^~_&x,e[14]=T^~P&L,e[15]=O^~U&I,e[24]=j^~z&q,e[25]=F^~H&W,e[34]=J^~X&Z,e[35]=Q^~K&ee,e[44]=ie^~ae&ue,e[45]=oe^~ce&fe,e[6]=v^~E&d,e[7]=_^~x&g,e[16]=P^~L&A,e[17]=U^~I&B,e[26]=z^~q&D,e[27]=H^~W&R,e[36]=X^~Z&Y,e[37]=K^~ee&$,e[46]=ae^~ue&te,e[47]=ce^~fe&ne,e[8]=E^~d&k,e[9]=x^~g&y,e[18]=L^~A&C,e[19]=I^~B&S,e[28]=q^~D&M,e[29]=W^~R&N,e[38]=Z^~Y&V,e[39]=ee^~$&G,e[48]=ue^~te&re,e[49]=fe^~ne&se,e[0]^=b[r],e[1]^=b[r+1]};if(f)e.exports=S;else{for(O=0;O<T.length;++O)c[T[O]]=S[T[O]];l&&(void 0===(i=function(){return S}.call(t,n,t,e))||(e.exports=i))}}()}).call(this,n(25),n(17))},function(e,t){(function(t){e.exports=t}).call(this,{})},function(e,t,n){"use strict";e.exports=n(61)},function(e,t,n){"use strict";!function(n,r){var s={version:"3.0.0",x86:{},x64:{},inputValidation:!0};function i(e){if(!Array.isArray(e)&&!ArrayBuffer.isView(e))return!1;for(var t=0;t<e.length;t++)if(!Number.isInteger(e[t])||e[t]<0||e[t]>255)return!1;return!0}function o(e,t){return(65535&e)*t+(((e>>>16)*t&65535)<<16)}function a(e,t){return e<<t|e>>>32-t}function c(e){return e=o(e^=e>>>16,2246822507),e=o(e^=e>>>13,3266489909),e^=e>>>16}function u(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]+t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]+t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]+t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]+t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function f(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]*t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]*t[3],n[1]+=n[2]>>>16,n[2]&=65535,n[2]+=e[3]*t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]*t[3],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[2]*t[2],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[3]*t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]*t[3]+e[1]*t[2]+e[2]*t[1]+e[3]*t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function l(e,t){return 32===(t%=64)?[e[1],e[0]]:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t|e[0]>>>32-t]:(t-=32,[e[1]<<t|e[0]>>>32-t,e[0]<<t|e[1]>>>32-t])}function h(e,t){return 0===(t%=64)?e:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t]:[e[1]<<t-32,0]}function p(e,t){return[e[0]^t[0],e[1]^t[1]]}function d(e){return e=p(e,[0,e[0]>>>1]),e=p(e=f(e,[4283543511,3981806797]),[0,e[0]>>>1]),e=p(e=f(e,[3301882366,444984403]),[0,e[0]>>>1])}s.x86.hash32=function(e,t){if(!s.inputValidation||i(e)){t=t||0;for(var n=e.length%4,r=e.length-n,u=t,f=0,l=3432918353,h=461845907,p=0;p<r;p+=4)f=o(f=e[p]|e[p+1]<<8|e[p+2]<<16|e[p+3]<<24,l),f=o(f=a(f,15),h),u=o(u=a(u^=f,13),5)+3864292196;switch(f=0,n){case 3:f^=e[p+2]<<16;case 2:f^=e[p+1]<<8;case 1:f=o(f^=e[p],l),u^=f=o(f=a(f,15),h)}return(u=c(u^=e.length))>>>0}},s.x86.hash128=function(e,t){if(!s.inputValidation||i(e)){t=t||0;for(var n=e.length%16,r=e.length-n,u=t,f=t,l=t,h=t,p=0,d=0,g=0,b=0,k=597399067,y=2869860233,m=951274213,w=2716044179,v=0;v<r;v+=16)p=e[v]|e[v+1]<<8|e[v+2]<<16|e[v+3]<<24,d=e[v+4]|e[v+5]<<8|e[v+6]<<16|e[v+7]<<24,g=e[v+8]|e[v+9]<<8|e[v+10]<<16|e[v+11]<<24,b=e[v+12]|e[v+13]<<8|e[v+14]<<16|e[v+15]<<24,p=a(p=o(p,k),15),u=a(u^=p=o(p,y),19),u=o(u+=f,5)+1444728091,d=a(d=o(d,y),16),f=a(f^=d=o(d,m),17),f=o(f+=l,5)+197830471,g=a(g=o(g,m),17),l=a(l^=g=o(g,w),15),l=o(l+=h,5)+2530024501,b=a(b=o(b,w),18),h=a(h^=b=o(b,k),13),h=o(h+=u,5)+850148119;switch(p=0,d=0,g=0,b=0,n){case 15:b^=e[v+14]<<16;case 14:b^=e[v+13]<<8;case 13:b=o(b^=e[v+12],w),h^=b=o(b=a(b,18),k);case 12:g^=e[v+11]<<24;case 11:g^=e[v+10]<<16;case 10:g^=e[v+9]<<8;case 9:g=o(g^=e[v+8],m),l^=g=o(g=a(g,17),w);case 8:d^=e[v+7]<<24;case 7:d^=e[v+6]<<16;case 6:d^=e[v+5]<<8;case 5:d=o(d^=e[v+4],y),f^=d=o(d=a(d,16),m);case 4:p^=e[v+3]<<24;case 3:p^=e[v+2]<<16;case 2:p^=e[v+1]<<8;case 1:p=o(p^=e[v],k),u^=p=o(p=a(p,15),y)}return u^=e.length,u+=f^=e.length,u+=l^=e.length,f+=u+=h^=e.length,l+=u,h+=u,u=c(u),u+=f=c(f),u+=l=c(l),f+=u+=h=c(h),l+=u,h+=u,("00000000"+(u>>>0).toString(16)).slice(-8)+("00000000"+(f>>>0).toString(16)).slice(-8)+("00000000"+(l>>>0).toString(16)).slice(-8)+("00000000"+(h>>>0).toString(16)).slice(-8)}},s.x64.hash128=function(e,t){if(!s.inputValidation||i(e)){t=t||0;for(var n=e.length%16,r=e.length-n,o=[0,t],a=[0,t],c=[0,0],g=[0,0],b=[2277735313,289559509],k=[1291169091,658871167],y=0;y<r;y+=16)c=[e[y+4]|e[y+5]<<8|e[y+6]<<16|e[y+7]<<24,e[y]|e[y+1]<<8|e[y+2]<<16|e[y+3]<<24],g=[e[y+12]|e[y+13]<<8|e[y+14]<<16|e[y+15]<<24,e[y+8]|e[y+9]<<8|e[y+10]<<16|e[y+11]<<24],c=l(c=f(c,b),31),o=u(o=l(o=p(o,c=f(c,k)),27),a),o=u(f(o,[0,5]),[0,1390208809]),g=l(g=f(g,k),33),a=u(a=l(a=p(a,g=f(g,b)),31),o),a=u(f(a,[0,5]),[0,944331445]);switch(c=[0,0],g=[0,0],n){case 15:g=p(g,h([0,e[y+14]],48));case 14:g=p(g,h([0,e[y+13]],40));case 13:g=p(g,h([0,e[y+12]],32));case 12:g=p(g,h([0,e[y+11]],24));case 11:g=p(g,h([0,e[y+10]],16));case 10:g=p(g,h([0,e[y+9]],8));case 9:g=f(g=p(g,[0,e[y+8]]),k),a=p(a,g=f(g=l(g,33),b));case 8:c=p(c,h([0,e[y+7]],56));case 7:c=p(c,h([0,e[y+6]],48));case 6:c=p(c,h([0,e[y+5]],40));case 5:c=p(c,h([0,e[y+4]],32));case 4:c=p(c,h([0,e[y+3]],24));case 3:c=p(c,h([0,e[y+2]],16));case 2:c=p(c,h([0,e[y+1]],8));case 1:c=f(c=p(c,[0,e[y]]),b),o=p(o,c=f(c=l(c,31),k))}return o=u(o=p(o,[0,e.length]),a=p(a,[0,e.length])),a=u(a,o),o=u(o=d(o),a=d(a)),a=u(a,o),("00000000"+(o[0]>>>0).toString(16)).slice(-8)+("00000000"+(o[1]>>>0).toString(16)).slice(-8)+("00000000"+(a[0]>>>0).toString(16)).slice(-8)+("00000000"+(a[1]>>>0).toString(16)).slice(-8)}},e.exports&&(t=e.exports=s),t.murmurHash3=s}()},function(e,t,n){"use strict";const r=n(8),s=self.crypto||self.msCrypto,i=async(e,t)=>{if("undefined"==typeof self||!self.crypto&&!self.msCrypto)throw new Error("Please use a browser with webcrypto support and ensure the code has been delivered securely via HTTPS/TLS and run within a Secure Context");switch(t){case"sha1":return new Uint8Array(await s.subtle.digest({name:"SHA-1"},e));case"sha2-256":return new Uint8Array(await s.subtle.digest({name:"SHA-256"},e));case"sha2-512":return new Uint8Array(await s.subtle.digest({name:"SHA-512"},e));case"dbl-sha2-256":{const t=await s.subtle.digest({name:"SHA-256"},e);return new Uint8Array(await s.subtle.digest({name:"SHA-256"},t))}default:throw new Error(t+" is not a supported algorithm")}};e.exports={factory:e=>async t=>i(t,e),digest:i,multihashing:async(e,t,n)=>{const s=await i(e,t);return r.encode(s,t,n)}}},function(e,t,n){"use strict";e.exports={fromNumberTo32BitBuf:e=>{const t=new Uint8Array(4);for(let n=0;n<4;n++)t[n]=255&e,e>>=8;return t}}},function(e,t,n){"use strict";const r=n(65),s={init:r.blake2bInit,update:r.blake2bUpdate,digest:r.blake2bFinal},i={init:r.blake2sInit,update:r.blake2sUpdate,digest:r.blake2sFinal},o=(e,t)=>async n=>{const r=t.init(e,null);return t.update(r,n),t.digest(r)};e.exports=e=>{for(let t=0;t<64;t++)e[45569+t]=o(t+1,s);for(let t=0;t<32;t++)e[45633+t]=o(t+1,i)}},function(e,t,n){"use strict";var r=n(66),s=n(70);e.exports={blake2b:r.blake2b,blake2bHex:r.blake2bHex,blake2bInit:r.blake2bInit,blake2bUpdate:r.blake2bUpdate,blake2bFinal:r.blake2bFinal,blake2s:s.blake2s,blake2sHex:s.blake2sHex,blake2sInit:s.blake2sInit,blake2sUpdate:s.blake2sUpdate,blake2sFinal:s.blake2sFinal}},function(e,t,n){"use strict";var r=n(26);function s(e,t,n){var r=e[t]+e[n],s=e[t+1]+e[n+1];r>=4294967296&&s++,e[t]=r,e[t+1]=s}function i(e,t,n,r){var s=e[t]+n;n<0&&(s+=4294967296);var i=e[t+1]+r;s>=4294967296&&i++,e[t]=s,e[t+1]=i}function o(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function a(e,t,n,r,o,a){var c=l[o],u=l[o+1],h=l[a],p=l[a+1];s(f,e,t),i(f,e,c,u);var d=f[r]^f[e],g=f[r+1]^f[e+1];f[r]=g,f[r+1]=d,s(f,n,r),d=f[t]^f[n],g=f[t+1]^f[n+1],f[t]=d>>>24^g<<8,f[t+1]=g>>>24^d<<8,s(f,e,t),i(f,e,h,p),d=f[r]^f[e],g=f[r+1]^f[e+1],f[r]=d>>>16^g<<16,f[r+1]=g>>>16^d<<16,s(f,n,r),d=f[t]^f[n],g=f[t+1]^f[n+1],f[t]=g>>>31^d<<1,f[t+1]=d>>>31^g<<1}var c=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),u=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3].map((function(e){return 2*e}))),f=new Uint32Array(32),l=new Uint32Array(32);function h(e,t){var n=0;for(n=0;n<16;n++)f[n]=e.h[n],f[n+16]=c[n];for(f[24]=f[24]^e.t,f[25]=f[25]^e.t/4294967296,t&&(f[28]=~f[28],f[29]=~f[29]),n=0;n<32;n++)l[n]=o(e.b,4*n);for(n=0;n<12;n++)a(0,8,16,24,u[16*n+0],u[16*n+1]),a(2,10,18,26,u[16*n+2],u[16*n+3]),a(4,12,20,28,u[16*n+4],u[16*n+5]),a(6,14,22,30,u[16*n+6],u[16*n+7]),a(0,10,20,30,u[16*n+8],u[16*n+9]),a(2,12,22,24,u[16*n+10],u[16*n+11]),a(4,14,16,26,u[16*n+12],u[16*n+13]),a(6,8,18,28,u[16*n+14],u[16*n+15]);for(n=0;n<16;n++)e.h[n]=e.h[n]^f[n]^f[n+16]}function p(e,t){if(0===e||e>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(t&&t.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");for(var n={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:e},r=0;r<16;r++)n.h[r]=c[r];var s=t?t.length:0;return n.h[0]^=16842752^s<<8^e,t&&(d(n,t),n.c=128),n}function d(e,t){for(var n=0;n<t.length;n++)128===e.c&&(e.t+=e.c,h(e,!1),e.c=0),e.b[e.c++]=t[n]}function g(e){for(e.t+=e.c;e.c<128;)e.b[e.c++]=0;h(e,!0);for(var t=new Uint8Array(e.outlen),n=0;n<e.outlen;n++)t[n]=e.h[n>>2]>>8*(3&n);return t}function b(e,t,n){n=n||64,e=r.normalizeInput(e);var s=p(n,t);return d(s,e),g(s)}e.exports={blake2b:b,blake2bHex:function(e,t,n){var s=b(e,t,n);return r.toHex(s)},blake2bInit:p,blake2bUpdate:d,blake2bFinal:g}},function(e,t,n){"use strict";t.byteLength=function(e){var t=u(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=u(e),o=r[0],a=r[1],c=new i(function(e,t,n){return 3*(t+n)/4-n}(0,o,a)),f=0,l=a>0?o-4:o;for(n=0;n<l;n+=4)t=s[e.charCodeAt(n)]<<18|s[e.charCodeAt(n+1)]<<12|s[e.charCodeAt(n+2)]<<6|s[e.charCodeAt(n+3)],c[f++]=t>>16&255,c[f++]=t>>8&255,c[f++]=255&t;2===a&&(t=s[e.charCodeAt(n)]<<2|s[e.charCodeAt(n+1)]>>4,c[f++]=255&t);1===a&&(t=s[e.charCodeAt(n)]<<10|s[e.charCodeAt(n+1)]<<4|s[e.charCodeAt(n+2)]>>2,c[f++]=t>>8&255,c[f++]=255&t);return c},t.fromByteArray=function(e){for(var t,n=e.length,s=n%3,i=[],o=0,a=n-s;o<a;o+=16383)i.push(f(e,o,o+16383>a?a:o+16383));1===s?(t=e[n-1],i.push(r[t>>2]+r[t<<4&63]+"==")):2===s&&(t=(e[n-2]<<8)+e[n-1],i.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return i.join("")};for(var r=[],s=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,c=o.length;a<c;++a)r[a]=o[a],s[o.charCodeAt(a)]=a;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function f(e,t,n){for(var s,i,o=[],a=t;a<n;a+=3)s=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),o.push(r[(i=s)>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return o.join("")}s["-".charCodeAt(0)]=62,s["_".charCodeAt(0)]=63},function(e,t,n){"use strict";t.read=function(e,t,n,r,s){var i,o,a=8*s-r-1,c=(1<<a)-1,u=c>>1,f=-7,l=n?s-1:0,h=n?-1:1,p=e[t+l];for(l+=h,i=p&(1<<-f)-1,p>>=-f,f+=a;f>0;i=256*i+e[t+l],l+=h,f-=8);for(o=i&(1<<-f)-1,i>>=-f,f+=r;f>0;o=256*o+e[t+l],l+=h,f-=8);if(0===i)i=1-u;else{if(i===c)return o?NaN:1/0*(p?-1:1);o+=Math.pow(2,r),i-=u}return(p?-1:1)*o*Math.pow(2,i-r)},t.write=function(e,t,n,r,s,i){var o,a,c,u=8*i-s-1,f=(1<<u)-1,l=f>>1,h=23===s?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:i-1,d=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=f):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-o))<1&&(o--,c*=2),(t+=o+l>=1?h/c:h*Math.pow(2,1-l))*c>=2&&(o++,c/=2),o+l>=f?(a=0,o=f):o+l>=1?(a=(t*c-1)*Math.pow(2,s),o+=l):(a=t*Math.pow(2,l-1)*Math.pow(2,s),o=0));s>=8;e[n+p]=255&a,p+=d,a/=256,s-=8);for(o=o<<s|a,u+=s;u>0;e[n+p]=255&o,p+=d,o/=256,u-=8);e[n+p-d]|=128*g}},function(e,t,n){"use strict";var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,n){"use strict";var r=n(26);function s(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function i(e,t,n,r,s,i){u[e]=u[e]+u[t]+s,u[r]=o(u[r]^u[e],16),u[n]=u[n]+u[r],u[t]=o(u[t]^u[n],12),u[e]=u[e]+u[t]+i,u[r]=o(u[r]^u[e],8),u[n]=u[n]+u[r],u[t]=o(u[t]^u[n],7)}function o(e,t){return e>>>t^e<<32-t}var a=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),c=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),u=new Uint32Array(16),f=new Uint32Array(16);function l(e,t){var n=0;for(n=0;n<8;n++)u[n]=e.h[n],u[n+8]=a[n];for(u[12]^=e.t,u[13]^=e.t/4294967296,t&&(u[14]=~u[14]),n=0;n<16;n++)f[n]=s(e.b,4*n);for(n=0;n<10;n++)i(0,4,8,12,f[c[16*n+0]],f[c[16*n+1]]),i(1,5,9,13,f[c[16*n+2]],f[c[16*n+3]]),i(2,6,10,14,f[c[16*n+4]],f[c[16*n+5]]),i(3,7,11,15,f[c[16*n+6]],f[c[16*n+7]]),i(0,5,10,15,f[c[16*n+8]],f[c[16*n+9]]),i(1,6,11,12,f[c[16*n+10]],f[c[16*n+11]]),i(2,7,8,13,f[c[16*n+12]],f[c[16*n+13]]),i(3,4,9,14,f[c[16*n+14]],f[c[16*n+15]]);for(n=0;n<8;n++)e.h[n]^=u[n]^u[n+8]}function h(e,t){if(!(e>0&&e<=32))throw new Error("Incorrect output length, should be in [1, 32]");var n=t?t.length:0;if(t&&!(n>0&&n<=32))throw new Error("Incorrect key length, should be in [1, 32]");var r={h:new Uint32Array(a),b:new Uint32Array(64),c:0,t:0,outlen:e};return r.h[0]^=16842752^n<<8^e,n>0&&(p(r,t),r.c=64),r}function p(e,t){for(var n=0;n<t.length;n++)64===e.c&&(e.t+=e.c,l(e,!1),e.c=0),e.b[e.c++]=t[n]}function d(e){for(e.t+=e.c;e.c<64;)e.b[e.c++]=0;l(e,!0);for(var t=new Uint8Array(e.outlen),n=0;n<e.outlen;n++)t[n]=e.h[n>>2]>>8*(3&n)&255;return t}function g(e,t,n){n=n||32,e=r.normalizeInput(e);var s=h(n,t);return p(s,e),d(s)}e.exports={blake2s:g,blake2sHex:function(e,t,n){var s=g(e,t,n);return r.toHex(s)},blake2sInit:h,blake2sUpdate:p,blake2sFinal:d}},function(e,t,n){"use strict";(function(r){t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,s=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(r++,"%c"===e&&(s=r))}),t.splice(s,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(n){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(n){}!e&&void 0!==r&&"env"in r&&(e={NODE_ENV:"production"}.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=n(72)(t);const{formatters:s}=e.exports;s.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}).call(this,n(25))},function(e,t,n){"use strict";e.exports=function(e){function t(e){let n;function i(...e){if(!i.enabled)return;const r=i,s=Number(new Date),o=s-(n||s);r.diff=o,r.prev=n,r.curr=s,n=s,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(n,s)=>{if("%%"===n)return n;a++;const i=t.formatters[s];if("function"==typeof i){const t=e[a];n=i.call(r,t),e.splice(a,1),a--}return n}),t.formatArgs.call(r,e);(r.log||t.log).apply(r,e)}return i.namespace=e,i.enabled=t.enabled(e),i.useColors=t.useColors(),i.color=t.selectColor(e),i.destroy=r,i.extend=s,"function"==typeof t.init&&t.init(i),t.instances.push(i),i}function r(){const e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}function s(e,n){const r=t(this.namespace+(void 0===n?":":n)+e);return r.log=this.log,r}function i(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},t.disable=function(){const e=[...t.names.map(i),...t.skips.map(i).map(e=>"-"+e)].join(",");return t.enable(""),e},t.enable=function(e){let n;t.save(e),t.names=[],t.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),s=r.length;for(n=0;n<s;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++){const e=t.instances[n];e.enabled=t.enabled(e.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;let n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(73),Object.keys(e).forEach(n=>{t[n]=e[n]}),t.instances=[],t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}},function(e,t,n){"use strict";var r=1e3,s=6e4,i=60*s,o=24*i;function a(e,t,n,r){var s=t>=1.5*n;return Math.round(e/n)+" "+r+(s?"s":"")}e.exports=function(e,t){t=t||{};var n=typeof e;if("string"===n&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*n;case"weeks":case"week":case"w":return 6048e5*n;case"days":case"day":case"d":return n*o;case"hours":case"hour":case"hrs":case"hr":case"h":return n*i;case"minutes":case"minute":case"mins":case"min":case"m":return n*s;case"seconds":case"second":case"secs":case"sec":case"s":return n*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}(e);if("number"===n&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=o)return a(e,t,o,"day");if(t>=i)return a(e,t,i,"hour");if(t>=s)return a(e,t,s,"minute");if(t>=r)return a(e,t,r,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=o)return Math.round(e/o)+"d";if(t>=i)return Math.round(e/i)+"h";if(t>=s)return Math.round(e/s)+"m";if(t>=r)return Math.round(e/r)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){"use strict";const r=n(75);e.exports=r("\n  message Message {\n    message Wantlist {\n      enum WantType {\n        Block = 0;\n        Have = 1;\n      }\n\n      message Entry {\n        // changed from string to bytes, it makes a difference in JavaScript\n        optional bytes block = 1;      // the block cid (cidV0 in bitswap 1.0.0, cidV1 in bitswap 1.1.0)\n        optional int32 priority = 2;    // the priority (normalized). default to 1\n        optional bool cancel = 3;       // whether this revokes an entry\n        WantType wantType = 4;         // Note: defaults to enum 0, ie Block\n        bool sendDontHave = 5;        // Note: defaults to false\n      }\n\n      repeated Entry entries = 1;       // a list of wantlist entries\n      optional bool full = 2;           // whether this is the full wantlist. default to false\n    }\n\n    message Block {\n      optional bytes prefix = 1;        // CID prefix (cid version, multicodec and multihash prefix (type + length)\n      optional bytes data = 2;\n    }\n\n    enum BlockPresenceType {\n      Have = 0;\n      DontHave = 1;\n    }\n    message BlockPresence {\n      bytes cid = 1;\n      BlockPresenceType type = 2;\n    }\n\n    optional Wantlist wantlist = 1;\n    repeated bytes blocks = 2;          // used to send Blocks in bitswap 1.0.0\n    repeated Block payload = 3;         // used to send Blocks in bitswap 1.1.0\n    repeated BlockPresence blockPresences = 4;\n    int32 pendingBytes = 5;\n  }\n")},function(e,t,n){"use strict";var r=n(76),s=n(80);e.exports=function(e,t){if(t||(t={}),!e)throw new Error("Pass in a .proto string or a protobuf-schema parsed object");var n="object"!=typeof e||e instanceof Uint8Array?r.parse(e):e,i=function(){var e=this;s(n,t.encodings||{}).forEach((function(t){e[t.name]=function(e){if(!e)return null;var t={};return Object.keys(e).forEach((function(n){t[n]=e[n].value})),t}(t.values)||t}))};return i.prototype.toString=function(){return r.stringify(n)},i.prototype.toJSON=function(){return n},new i}},function(e,t,n){"use strict";var r=n(77),s=n(79);e.exports=r,e.exports.parse=r,e.exports.stringify=s},function(e,t,n){"use strict";var r=n(78),s=["int32","int64","uint32","uint64","sint32","sint64","bool","fixed64","sfixed64","double","fixed32","sfixed32","float"],i=function(e){for(var t={};e.length;)switch(e[0]){case"[":case",":e.shift();var n=e.shift();if("("===n&&(n=e.shift(),e.shift()),"="!==e[0])throw new Error("Unexpected token in field options: "+e[0]);if(e.shift(),"]"===e[0])throw new Error("Unexpected ] in field option");t[n]=e.shift();break;case"]":return e.shift(),t;default:throw new Error("Unexpected token in field options: "+e[0])}throw new Error("No closing tag for field options")},o=function(e){for(var t={name:null,type:null,tag:-1,map:null,oneof:null,required:!1,repeated:!1,options:{}};e.length;)switch(e[0]){case"=":e.shift(),t.tag=Number(e.shift());break;case"map":if(t.type="map",t.map={from:null,to:null},e.shift(),"<"!==e[0])throw new Error("Unexpected token in map type: "+e[0]);if(e.shift(),t.map.from=e.shift(),","!==e[0])throw new Error("Unexpected token in map type: "+e[0]);if(e.shift(),t.map.to=e.shift(),">"!==e[0])throw new Error("Unexpected token in map type: "+e[0]);e.shift(),t.name=e.shift();break;case"repeated":case"required":case"optional":var n=e.shift();t.required="required"===n,t.repeated="repeated"===n,t.type=e.shift(),t.name=e.shift();break;case"[":t.options=i(e);break;case";":if(null===t.name)throw new Error("Missing field name");if(null===t.type)throw new Error("Missing type in message field: "+t.name);if(-1===t.tag)throw new Error("Missing tag number in message field: "+t.name);return e.shift(),t;default:throw new Error("Unexpected token in message field: "+e[0])}throw new Error("No ; found for message field")},a=function(e){for(var t={enums:[],options:{},messages:[],fields:[],extends:[],extensions:null};e.length;)switch(e[0]){case"map":case"repeated":case"optional":case"required":t.fields.push(o(e));break;case"enum":t.enums.push(d(e));break;case"message":t.messages.push(f(e));break;case"extensions":t.extensions=u(e);break;case"oneof":e.shift();var n=e.shift();if("{"!==e[0])throw new Error("Unexpected token in oneof: "+e[0]);for(e.shift();"}"!==e[0];){e.unshift("optional");var r=o(e);r.oneof=n,t.fields.push(r)}e.shift();break;case"extend":t.extends.push(c(e));break;case";":e.shift();break;case"reserved":for(e.shift();";"!==e[0];)e.shift();break;case"option":var s=g(e);if(void 0!==t.options[s.name])throw new Error("Duplicate option "+s.name);t.options[s.name]=s.value;break;default:e.unshift("optional"),t.fields.push(o(e))}return t},c=function(e){return{name:e[1],message:f(e)}},u=function(e){e.shift();var t=Number(e.shift());if(isNaN(t))throw new Error("Invalid from in extensions definition");if("to"!==e.shift())throw new Error("Expected keyword 'to' in extensions definition");var n=e.shift();if("max"===n&&(n=536870911),n=Number(n),isNaN(n))throw new Error("Invalid to in extensions definition");if(";"!==e.shift())throw new Error("Missing ; in extensions definition");return{from:t,to:n}},f=function(e){e.shift();var t=1,n=[],r={name:e.shift(),options:{},enums:[],extends:[],messages:[],fields:[]};if("{"!==e[0])throw new Error("Expected { but found "+e[0]);for(e.shift();e.length;){if("{"===e[0]?t++:"}"===e[0]&&t--,!t)return e.shift(),n=a(n),r.enums=n.enums,r.messages=n.messages,r.fields=n.fields,r.extends=n.extends,r.extensions=n.extensions,r.options=n.options,r;n.push(e.shift())}if(t)throw new Error("No closing tag for message")},l=function(e){e.shift();var t=e.shift();if(";"!==e[0])throw new Error("Expected ; but found "+e[0]);return e.shift(),t},h=function(e){if(e.shift(),"="!==e[0])throw new Error("Expected = but found "+e[0]);e.shift();var t=e.shift();switch(t){case'"proto2"':t=2;break;case'"proto3"':t=3;break;default:throw new Error("Expected protobuf syntax version but found "+t)}if(";"!==e[0])throw new Error("Expected ; but found "+e[0]);return e.shift(),t},p=function(e){if(e.length<4)throw new Error("Invalid enum value: "+e.slice(0,3).join(" "));if("="!==e[1])throw new Error("Expected = but found "+e[1]);if(";"!==e[3]&&"["!==e[3])throw new Error("Expected ; or [ but found "+e[1]);var t=e.shift();e.shift();var n={value:null,options:{}};return n.value=Number(e.shift()),"["===e[0]&&(n.options=i(e)),e.shift(),{name:t,val:n}},d=function(e){e.shift();var t={},n={name:e.shift(),values:{},options:{}};if("{"!==e[0])throw new Error("Expected { but found "+e[0]);for(e.shift();e.length;){if("}"===e[0])return e.shift(),";"===e[0]&&e.shift(),n;if("option"!==e[0]){var r=p(e);n.values[r.name]=r.val}else t=g(e),n.options[t.name]=t.value}throw new Error("No closing tag for enum")},g=function(e){for(var t=null,n=null,r=function(e){return"true"===e||"false"!==e&&e.replace(/^"+|"+$/gm,"")};e.length;){if(";"===e[0])return e.shift(),{name:t,value:n};switch(e[0]){case"option":e.shift();var s="("===e[0];if(s&&e.shift(),t=e.shift(),s){if(")"!==e[0])throw new Error("Expected ) but found "+e[0]);e.shift()}"."===e[0][0]&&(t+=e.shift());break;case"=":if(e.shift(),null===t)throw new Error("Expected key for option with value: "+e[0]);if(n=r(e.shift()),"optimize_for"===t&&!/^(SPEED|CODE_SIZE|LITE_RUNTIME)$/.test(n))throw new Error("Unexpected value for option optimize_for: "+n);"{"===n&&(n=b(e));break;default:throw new Error("Unexpected token in option: "+e[0])}}},b=function(e){for(var t=function(e){return"true"===e||"false"!==e&&e.replace(/^"+|"+$/gm,"")},n={};e.length;){if("}"===e[0])return e.shift(),n;var r="("===e[0];r&&e.shift();var s=e.shift();if(r){if(")"!==e[0])throw new Error("Expected ) but found "+e[0]);e.shift()}var i=null;switch(e[0]){case":":if(void 0!==n[s])throw new Error("Duplicate option map key "+s);e.shift(),"{"===(i=t(e.shift()))&&(i=b(e)),n[s]=i,";"===e[0]&&e.shift();break;case"{":if(e.shift(),i=b(e),void 0===n[s]&&(n[s]=[]),!Array.isArray(n[s]))throw new Error("Duplicate option map key "+s);n[s].push(i);break;default:throw new Error("Unexpected token in option map: "+e[0])}}throw new Error("No closing tag for option map")},k=function(e){e.shift();var t=e.shift().replace(/^"+|"+$/gm,"");if(";"!==e[0])throw new Error("Unexpected token: "+e[0]+'. Expected ";"');return e.shift(),t},y=function(e){e.shift();var t={name:e.shift(),methods:[],options:{}};if("{"!==e[0])throw new Error("Expected { but found "+e[0]);for(e.shift();e.length;){if("}"===e[0])return e.shift(),";"===e[0]&&e.shift(),t;switch(e[0]){case"option":var n=g(e);if(void 0!==t.options[n.name])throw new Error("Duplicate option "+n.name);t.options[n.name]=n.value;break;case"rpc":t.methods.push(m(e));break;default:throw new Error("Unexpected token in service: "+e[0])}}throw new Error("No closing tag for service")},m=function(e){e.shift();var t={name:e.shift(),input_type:null,output_type:null,client_streaming:!1,server_streaming:!1,options:{}};if("("!==e[0])throw new Error("Expected ( but found "+e[0]);if(e.shift(),"stream"===e[0]&&(e.shift(),t.client_streaming=!0),t.input_type=e.shift(),")"!==e[0])throw new Error("Expected ) but found "+e[0]);if(e.shift(),"returns"!==e[0])throw new Error("Expected returns but found "+e[0]);if(e.shift(),"("!==e[0])throw new Error("Expected ( but found "+e[0]);if(e.shift(),"stream"===e[0]&&(e.shift(),t.server_streaming=!0),t.output_type=e.shift(),")"!==e[0])throw new Error("Expected ) but found "+e[0]);if(e.shift(),";"===e[0])return e.shift(),t;if("{"!==e[0])throw new Error("Expected { but found "+e[0]);for(e.shift();e.length;){if("}"===e[0])return e.shift(),";"===e[0]&&e.shift(),t;if("option"!==e[0])throw new Error("Unexpected token in rpc options: "+e[0]);var n=g(e);if(void 0!==t.options[n.name])throw new Error("Duplicate option "+n.name);t.options[n.name]=n.value}throw new Error("No closing tag for rpc")};e.exports=function(e){for(var t=r(e.toString()),n=0;n<t.length;n++){var i;if(/^("|')([^'"]*)$/.test(t[n]))for(i=1===t[n].length?n+1:n;i<t.length;i++)if(/^[^'"\\]*(?:\\.[^'"\\]*)*("|')$/.test(t[i])){t=t.slice(0,n).concat(t.slice(n,i+1).join("")).concat(t.slice(i+1));break}}for(var o={syntax:3,package:null,imports:[],enums:[],messages:[],options:{},extends:[]},a=!0;t.length;){switch(t[0]){case"package":o.package=l(t);break;case"syntax":if(!a)throw new Error("Protobuf syntax version should be first thing in file");o.syntax=h(t);break;case"message":o.messages.push(f(t));break;case"enum":o.enums.push(d(t));break;case"option":var u=g(t);if(o.options[u.name])throw new Error("Duplicate option "+u.name);o.options[u.name]=u.value;break;case"import":o.imports.push(k(t));break;case"extend":o.extends.push(c(t));break;case"service":o.services||(o.services=[]),o.services.push(y(t));break;default:throw new Error("Unexpected token: "+t[0])}a=!1}return o.extends.forEach((function(e){o.messages.forEach((function(t){t.name===e.name&&e.message.fields.forEach((function(e){if(!t.extensions||e.tag<t.extensions.from||e.tag>t.extensions.to)throw new Error(t.name+" does not declare "+e.tag+" as an extension number");t.fields.push(e)}))}))})),o.messages.forEach((function(e){e.fields.forEach((function(t){var n,r,i,a;if(t.options&&"true"===t.options.packed&&-1===s.indexOf(t.type)){if(-1===t.type.indexOf(".")){if(e.enums&&e.enums.some((function(e){return e.name===t.type})))return}else{if((n=t.type.split(".")).length>2)throw new Error("what is this?");if(r=n[0],i=n[1],o.messages.some((function(e){if(e.name===r)return a=e,e})),a&&a.enums&&a.enums.some((function(e){return e.name===i})))return}throw new Error("Fields of type "+t.type+' cannot be declared [packed=true]. Only repeated fields of primitive numeric types (types which use the varint, 32-bit, or 64-bit wire types) can be declared "packed". See https://developers.google.com/protocol-buffers/docs/encoding#optional')}}))})),o}},function(e,t,n){"use strict";e.exports=function(e){var t,n=function(e){return e.trim()};return e.replace(/([;,{}()=:[\]<>]|\/\*|\*\/)/g," $1 ").split(/\n/).map(n).filter(Boolean).map((function(e){var t=e.indexOf("//");return t>-1?e.slice(0,t):e})).map(n).filter(Boolean).join("\n").split(/\s+|\n+/gm).filter((t=!1,function(e){return"/*"===e?(t=!0,!1):"*/"===e?(t=!1,!1):!t}))}},function(e,t,n){"use strict";var r=function(e,t){var n=e.repeated?"repeated":e.required?"required":"optional";"map"===e.type&&(n="map<"+e.map.from+","+e.map.to+">"),e.oneof&&(n="");var r=Object.keys(e.options||{}).map((function(t){return t+" = "+e.options[t]})).join(",");return r&&(r=" ["+r+"]"),t.push((n?n+" ":"")+("map"===e.map?"":e.type+" ")+e.name+" = "+e.tag+r+";"),t},s=function(e,t){t.push("message "+e.name+" {"),e.options||(e.options={}),a(e.options,t),e.enums||(e.enums=[]),e.enums.forEach((function(e){t.push(i(e,[]))})),e.messages||(e.messages=[]),e.messages.forEach((function(e){t.push(s(e,[]))}));var n={};return e.fields||(e.fields=[]),e.fields.forEach((function(e){e.oneof?(n[e.oneof]||(n[e.oneof]=[]),n[e.oneof].push(r(e,[]))):t.push(r(e,[]))})),Object.keys(n).forEach((function(e){n[e].unshift("oneof "+e+" {"),n[e].push("}"),t.push(n[e])})),t.push("}",""),t},i=function(e,t){t.push("enum "+e.name+" {"),e.options||(e.options={});var n=a(e.options,[]);return n.length>1&&t.push(n.slice(0,-1)),Object.keys(e.values).map((function(n){var r=o(e.values[n]);t.push([n+" = "+r+";"])})),t.push("}",""),t},o=function(e,t){var n=Object.keys(e.options||{}).map((function(t){return t+" = "+e.options[t]})).join(",");return n&&(n=" ["+n+"]"),e.value+n},a=function(e,t){var n=Object.keys(e);return n.forEach((function(n){var r=e[n];~n.indexOf(".")&&(n="("+n+")");var s=typeof r;"object"===s?(r=c(r,[])).length&&t.push("option "+n+" = {",r,"};"):("string"===s&&"optimize_for"!==n&&(r='"'+r+'"'),t.push("option "+n+" = "+r+";"))})),n.length>0&&t.push(""),t},c=function(e,t){return Object.keys(e).forEach((function(n){var r=e[n],s=typeof r;"object"===s?Array.isArray(r)?r.forEach((function(e){(e=c(e,[])).length&&t.push(n+" {",e,"}")})):(r=c(r,[])).length&&t.push(n+" {",r,"}"):("string"===s&&(r='"'+r+'"'),t.push(n+": "+r))})),t},u=function(e,t){var n="rpc "+e.name+"(";e.client_streaming&&(n+="stream "),n+=e.input_type+") returns (",e.server_streaming&&(n+="stream "),n+=e.output_type+")",e.options||(e.options={});var r=a(e.options,[]);return r.length>1?t.push(n+" {",r.slice(0,-1),"}"):t.push(n+";"),t},f=function(e){return function(t){return Array.isArray(t)?t.map(f(e+"  ")).join("\n"):e+t}};e.exports=function(e){var t=[];return t.push('syntax = "proto'+e.syntax+'";',""),e.package&&t.push("package "+e.package+";",""),e.options||(e.options={}),a(e.options,t),e.enums||(e.enums=[]),e.enums.forEach((function(e){i(e,t)})),e.messages||(e.messages=[]),e.messages.forEach((function(e){s(e,t)})),e.services&&e.services.forEach((function(e){!function(e,t){t.push("service "+e.name+" {"),e.options||(e.options={}),a(e.options,t),e.methods||(e.methods=[]),e.methods.forEach((function(e){t.push(u(e,[]))})),t.push("}","")}(e,t)})),t.map(f("")).join("\n")}},function(e,t,n){"use strict";const r=n(81),s=n(95),i=n(96),o=n(97),a=n(0);e.exports=function(e,t){const n={},c={},u={},f=function(e,t){e.enums&&e.enums.forEach((function(e){e.id=t+(t?".":"")+e.name,c[e.id]=e,f(e,e.id)})),e.messages&&e.messages.forEach((function(r){r.id=t+(t?".":"")+r.name,n[r.id]=r,r.fields.forEach((function(r){if(!r.map)return;const s="Map_"+r.map.from+"_"+r.map.to,i={name:s,enums:[],messages:[],fields:[{name:"key",type:r.map.from,tag:1,repeated:!1,required:!0},{name:"value",type:r.map.to,tag:2,repeated:!1,required:!1}],extensions:null,id:t+(t?".":"")+s};n[i.id]||(n[i.id]=i,e.messages.push(i)),r.type=s,r.repeated=!0})),f(r,r.id)}))};f(e,"");const l=function(e,t){e.messages.forEach((function(n){t[n.name]=h(n.name,e.id)})),e.enums.forEach((function(e){t[e.name]=function(e){if(!e)return null;const t={};return Object.keys(e).forEach((function(n){t[n]=e[n].value})),t}(e.values)})),t.type=2,t.message=!0,t.name=e.name;const n={};e.fields.forEach((function(e){e.oneof&&(n[e.oneof]||(n[e.oneof]=[]),n[e.oneof].push(e.name))}));const r=e.fields.map((function(t){return h(t.type,e.id)})),a=o(e,r,n),c=i(e,h,r,n,a),u=s(e,h,r);return c.bytes=u.bytes=0,t.buffer=!0,t.encode=c,t.decode=u,t.encodingLength=a,t},h=function(e,s,i){if(t&&t[e])return t[e];if(r[e])return r[e];const o=(s?s+"."+e:e).split(".").map((function(t,n,r){return r.slice(0,n).concat(e).join(".")})).reverse().reduce((function(e,t){return e||n[t]||c[t]}),null);if(!1===i)return o;if(!o)throw new Error("Could not resolve "+e);if(o.values)return function(e){const t=Object.keys(e.values||[]).map((function(t){return parseInt(e.values[t].value,10)}));return r.make(0,(function e(n,r,s,i){if(!t.length||-1===t.indexOf(n))throw new Error("Invalid enum value: "+n);return a.encode(n,r,i),e.bytes=a.encode.bytes,r}),(function e(n,r,s){var i=a.decode(n,s);if(!t.length||-1===t.indexOf(i))throw new Error("Invalid enum value: "+i);return e.bytes=a.decode.bytes,i}),a.encodingLength)}(o);return u[o.id]||l(o,u[o.id]={})};return(e.enums||[]).concat((e.messages||[]).map((function(e){return h(e.id)})))}},function(e,t,n){"use strict";t.make=n(1),t.bytes=n(82),t.string=n(83),t.bool=n(84),t.int32=n(85),t.int64=n(86),t.sint32=t.sint64=n(87),t.uint32=t.uint64=t.enum=t.varint=n(89),t.fixed64=t.sfixed64=n(90),t.double=n(91),t.fixed32=n(92),t.sfixed32=n(93),t.float=n(94)},function(e,t,n){"use strict";const r=n(0),s=n(1);function i(e){return e.byteLength}e.exports=s(2,(function e(t,n,s,o){const a=o,c=i(t);r.encode(c,n,o),o+=r.encode.bytes,n.set(t,o),e.bytes=(o+=c)-a}),(function e(t,n,s){const i=s,o=r.decode(t,s);s+=r.decode.bytes;const a=t.slice(s,s+o);return s+=a.length,e.bytes=s-i,a}),(function(e){const t=i(e);return r.encodingLength(t)+t}))},function(e,t,n){"use strict";const r=n(0),s=n(15),i=n(9),o=n(1);e.exports=o(2,(function e(t,n,i,o){const a=o,c=s(t).byteLength;r.encode(c,n,o,"utf-8"),o+=r.encode.bytes;const u=s(t);n.set(u,o),o+=u.length,e.bytes=o-a}),(function e(t,n,s){const o=s,a=r.decode(t,s);s+=r.decode.bytes;const c=i(t.subarray(s,s+a));return e.bytes=(s+=a)-o,c}),(function(e){const t=s(e).byteLength;return r.encodingLength(t)+t}))},function(e,t,n){"use strict";const r=n(1);e.exports=r(0,(function e(t,n,r,s){n[s]=t?1:0,e.bytes=1}),(function e(t,n,r){const s=t[r]>0;return e.bytes=1,s}),(function(){return 1}))},function(e,t,n){"use strict";const r=n(0),s=n(1);e.exports=s(0,(function e(t,n,s,i){r.encode(t<0?t+4294967296:t,n,i),e.bytes=r.encode.bytes}),(function e(t,n,s){const i=r.decode(t,s);return e.bytes=r.decode.bytes,i>2147483647?i-4294967296:i}),(function(e){return r.encodingLength(e<0?e+4294967296:e)}))},function(e,t,n){"use strict";const r=n(0),s=n(1);e.exports=s(0,(function e(t,n,s,i){if(t<0){const s=i+9;for(r.encode(-1*t,n,i),n[i+=r.encode.bytes-1]=128|n[i];i<s-1;)n[++i]=255;n[s]=1,e.bytes=10}else r.encode(t,n,i),e.bytes=r.encode.bytes}),(function e(t,n,s){let i=r.decode(t,s);if(i>=Math.pow(2,63)){let n=9;for(;255===t[s+n-1];)n--;n=n||9;const o=t.subarray(s,s+n);o[n-1]=127&o[n-1],i=-1*r.decode(o,0),e.bytes=10}else e.bytes=r.decode.bytes;return i}),(function(e){return e<0?10:r.encodingLength(e)}))},function(e,t,n){"use strict";const r=n(88),s=n(1);e.exports=s(0,(function e(t,n,s,i){r.encode(t,n,i),e.bytes=r.encode.bytes}),(function e(t,n,s){const i=r.decode(t,s);return e.bytes=r.decode.bytes,i}),r.encodingLength)},function(e,t,n){"use strict";var r=n(0);t.encode=function e(t,n,s){t=t>=0?2*t:-2*t-1;var i=r.encode(t,n,s);return e.bytes=r.encode.bytes,i},t.decode=function e(t,n){var s=r.decode(t,n);return e.bytes=r.decode.bytes,1&s?(s+1)/-2:s/2},t.encodingLength=function(e){return r.encodingLength(e>=0?2*e:-2*e-1)}},function(e,t,n){"use strict";const r=n(0),s=n(1);e.exports=s(0,(function e(t,n,s,i){r.encode(t,n,i),e.bytes=r.encode.bytes}),(function e(t,n,s){const i=r.decode(t,s);return e.bytes=r.decode.bytes,i}),r.encodingLength)},function(e,t,n){"use strict";const r=n(1);e.exports=r(1,(function e(t,n,r,s){for(const i of t)n[s]=i,s++;e.bytes=8}),(function e(t,n,r){const s=t.slice(r,r+8);return e.bytes=8,s}),(function(){return 8}))},function(e,t,n){"use strict";const r=n(1);e.exports=r(1,(function e(t,n,r,s){r.setFloat64(s,t,!0),e.bytes=8}),(function e(t,n,r){const s=n.getFloat64(r,!0);return e.bytes=8,s}),(function(){return 8}))},function(e,t,n){"use strict";const r=n(1);e.exports=r(5,(function e(t,n,r,s){r.setUint32(s,t,!0),e.bytes=4}),(function e(t,n,r){const s=n.getUint32(r,!0);return e.bytes=4,s}),(function(e){return 4}))},function(e,t,n){"use strict";const r=n(1);e.exports=r(5,(function e(t,n,r,s){r.setInt32(s,t,!0),e.bytes=4}),(function e(t,n,r){const s=n.getInt32(r,!0);return e.bytes=4,s}),(function(e){return 4}))},function(e,t,n){"use strict";const r=n(1);e.exports=r(5,(function e(t,n,r,s){r.setFloat32(s,t,!0),e.bytes=4}),(function e(t,n,r){const s=n.getFloat32(r,!0);return e.bytes=4,s}),(function(){return 4}))},function(e,t,n){"use strict";const r=n(0),s=n(18).defined;function i(e){return`${e.substring(0,1).toUpperCase()}${e.substring(1)}`}function o(e,t,n,r){if(Object.prototype.hasOwnProperty.call(e,t))return;const s=i(t);Object.defineProperties(e,{[t]:{enumerable:!0,configurable:!0,set:e=>{n=e},get:()=>void 0===n?r:n},["has"+s]:{configurable:!0,value:()=>void 0!==n},["set"+s]:{configurable:!0,value:e=>{n=e}},["get"+s]:{configurable:!0,value:()=>n},["clear"+s]:{configurable:!0,value:()=>{n=void 0,e[t]=void 0}}})}var a=function(e,t,n,s){switch(e){case 0:return r.decode(t,s),s+r.decode.bytes;case 1:return s+8;case 2:var i=r.decode(t,s);return s+r.decode.bytes+i;case 3:case 4:throw new Error("Groups are not supported");case 5:return s+4;default:throw new Error("Unknown wire type: "+e)}},c=function(e){if(e.map)return{};if(e.repeated)return[];switch(e.type){case"string":return"";case"bool":return!1;case"float":case"double":case"sfixed32":case"fixed32":case"varint":case"enum":case"uint64":case"uint32":case"int64":case"int32":case"sint64":case"sint32":return 0;default:return null}},u=function(e,t){if(void 0===t)return t;switch(e.type){case"bool":return"true"===t;case"float":case"double":case"sfixed32":case"fixed32":case"varint":case"enum":case"uint64":case"uint32":case"int64":case"int32":case"sint64":case"sint32":return parseInt(t,10);default:return t}};e.exports=function(e,t,n){const f=[],l={},h=[],p=[];for(var d=0;d<n.length;d++){const n=e.fields[d];l[n.tag]=d;const r=n.options&&n.options.default,s=t(n.type,e.id,!1);p[d]=[r,s&&s.values],e.fields[d].packed=n.repeated&&n.options&&n.options.packed&&"false"!==n.options.packed,n.required&&f.push(n.name),n.oneof&&h.push(n.name)}function g(e,t,n,s,a,c,u){const f=t.name;if(t.oneof){const e=Object.keys(n);for(var l=0;l<e.length;l++)if(h.indexOf(e[l])>-1){const t=i(e[l]);delete n["has"+t],delete n["get"+t],delete n["set"+t],delete n["clear"+t],delete n[e[l]]}}let p;if(e.message){const i=r.decode(s,c);c+=r.decode.bytes;const o=e.decode(s,a,c,c+i);t.map?(p=n[f]||{},p[o.key]=o.value):t.repeated?(p=n[f]||[],p.push(o)):p=o}else t.repeated?(p=n[f]||[],p.push(e.decode(s,a,c))):p=e.decode(s,a,c);return o(n,f,p),c+=e.decode.bytes}return function t(i,d,b,k){if(null==b&&(b=0),null==k&&(k=i.length),!(k<=i.length&&b<=i.length))throw new Error("Decoded message is not valid");d||(d=new DataView(i.buffer,i.byteOffset,i.byteLength));for(var y,m=b,w={};;){if(k<=b){var v,_,E="",x=0;for(x=0;x<f.length;x++)if(E=f[x],!s(w[E]))throw new Error("Decoded message is not valid, missing required field: "+E);for(x=0;x<n.length;x++){let t;if(y=e.fields[x],_=p[x][0],v=p[x][1],E=y.name,!Object.prototype.hasOwnProperty.call(w,E)){var A=!1;if(y.oneof)for(var B=Object.keys(w),C=0;C<B.length;C++)if(h.indexOf(B[C])>-1){A=!0;break}A||(v?y.repeated?_=[]:(_=_&&v[_]?v[_].value:v[Object.keys(v)[0]].value,_=parseInt(_||0,10)):(t=c(y),_=u(y,_)),o(w,E,_,t))}}return t.bytes=b-m,w}var S=r.decode(i,b);b+=r.decode.bytes;var T=l[S>>3];if(null!=T){var O=n[T];if((y=e.fields[T]).packed){var P=r.decode(i,b);for(P+=b+=r.decode.bytes;b<P;)b=g(O,y,w,i,d,b)}else b=g(O,y,w,i,d,b)}else b=a(7&S,i,d,b)}}}},function(e,t,n){"use strict";var r=n(18).defined,s=n(0);e.exports=function(e,t,n,i,o){const a=Object.keys(i),c=n.length,u={};for(let r=0;r<c;r++){u[r]={p:s.encode(e.fields[r].tag<<3|2),h:s.encode(e.fields[r].tag<<3|n[r].type)};const t=e.fields[r];e.fields[r].packed=t.repeated&&t.options&&t.options.packed&&"false"!==t.options.packed}function f(e,t,n,r,i,o,a){let c=0;if(!o)for(c=0;c<r.length;c++)e[n++]=r[c];return i.message&&(s.encode(i.encodingLength(a),e,n),n+=s.encode.bytes),i.encode(a,e,t,n),n+i.encode.bytes}return function t(l,h,p,d=0){null==h&&(h=new Uint8Array(o(l))),null==p&&(p=new DataView(h.buffer,h.byteOffset,h.byteLength));const g=d,b=Object.keys(l);let k=0,y=!1;for(k=0;k<a.length;k++){const e=a[k],t=i[k];if(b.indexOf(t)>-1){if(y)throw new Error("only one of the properties defined in oneof "+e+" can be set");y=!0}}for(k=0;k<c;k++){const t=n[k],i=e.fields[k];let o=l[i.name],a=0;if(!r(o)){if(i.required)throw new Error(i.name+" is required");continue}const c=u[k].p,g=u[k].h,b=i.packed;if(i.map){const e=Object.keys(o);for(a=0;a<e.length;a++)e[a]={key:e[a],value:o[e[a]]};o=e}if(b){let e=0;for(a=0;a<o.length;a++)Object.prototype.hasOwnProperty.call(o,a)&&(e+=t.encodingLength(o[a]));if(e){for(a=0;a<g.length;a++)h[d++]=c[a];s.encode(e,h,d),d+=s.encode.bytes}}if(i.repeated){let e;for(a=0;a<o.length;a++)e=o[a],r(e)&&(d=f(h,p,d,g,t,b,e))}else d=f(h,p,d,g,t,b,o)}return t.bytes=d-g,h}}},function(e,t,n){"use strict";var r=n(18).defined,s=n(0);e.exports=function(e,t,n){const i=Object.keys(n),o=t.length,a=new Array(o);for(let r=0;r<e.fields.length;r++){a[r]=s.encodingLength(e.fields[r].tag<<3|t[r].type);const n=e.fields[r];e.fields[r].packed=n.repeated&&n.options&&n.options.packed&&"false"!==n.options.packed}return function(c){let u=0,f=0,l=0;for(f=0;f<i.length;f++){const e=i[f],t=n[e];let s=!1;for(l=0;l<t.length;l++)if(r(c[t[l]])){if(s)throw new Error("only one of the properties defined in oneof "+e+" can be set");s=!0}}for(f=0;f<o;f++){const n=t[f],i=e.fields[f];let o=c[i.name];const h=a[f];let p;if(r(o)){if(i.map){const e=Object.keys(o);for(l=0;l<e.length;l++)e[l]={key:e[l],value:o[e[l]]};o=e}if(i.packed){let e=0;for(l=0;l<o.length;l++)r(o[l])&&(p=n.encodingLength(o[l]),e+=p,n.message&&(e+=s.encodingLength(p)));e&&(u+=h+e+s.encodingLength(e))}else if(i.repeated)for(l=0;l<o.length;l++)r(o[l])&&(p=n.encodingLength(o[l]),u+=h+p+(n.message?s.encodingLength(p):0));else p=n.encodingLength(o),u+=h+p+(n.message?s.encodingLength(p):0)}else if(i.required)throw new Error(i.name+" is required")}return u}}},function(e,t,n){"use strict";const r=n(11).Entry;e.exports=class{constructor(e,t,n,s,i){this.entry=new r(e,t,n),this.cancel=Boolean(s),this.sendDontHave=Boolean(i)}get cid(){return this.entry.cid}set cid(e){this.entry.cid=e}get priority(){return this.entry.priority}set priority(e){this.entry.priority=e}get wantType(){return this.entry.wantType}set wantType(e){this.entry.wantType=e}get[Symbol.toStringTag](){return`BitswapMessageEntry ${this.cid.toString("base58btc")} <cancel: ${this.cancel}, priority: ${this.priority}>`}equals(e){return this.cancel===e.cancel&&this.sendDontHave===e.sendDontHave&&this.wantType===e.wantType&&this.entry.equals(e.entry)}}},function(e,t,n){"use strict";class r{constructor(e,t,n){this._refCounter=1,this.cid=e,this.priority=t||1,this.wantType=n}inc(){this._refCounter+=1}dec(){this._refCounter=Math.max(0,this._refCounter-1)}hasRefs(){return this._refCounter>0}get[Symbol.toStringTag](){return`WantlistEntry <key: ${this.cid.toString("base58btc")}, priority: ${this.priority}, refs: ${this._refCounter}>`}equals(e){return this._refCounter===e._refCounter&&this.cid.equals(e.cid)&&this.priority===e.priority&&this.wantType===e.wantType}}e.exports=r},function(e,t,n){"use strict";const r=n(101),s=n(4),i=n(2).logger,{wantlistSendDebounceMs:o}=n(12);e.exports=class{constructor(e,t,n){this.peerId=t,this.network=n,this.refcnt=1,this._entries=[],this._log=i(e,"msgqueue",t.toB58String().slice(0,8)),this.sendEntries=r(this._sendEntries.bind(this),o)}addMessage(e){e.empty||this.send(e)}addEntries(e){this._entries=this._entries.concat(e),this.sendEntries()}_sendEntries(){if(!this._entries.length)return;const e=new s(!1);this._entries.forEach(t=>{t.cancel?e.cancel(t.cid):e.addEntry(t.cid,t.priority)}),this._entries=[],this.addMessage(e)}async send(e){try{await this.network.connectTo(this.peerId)}catch(t){return void this._log.error("cant connect to peer %s: %s",this.peerId.toB58String(),t.message)}this._log("sending message to peer %s",this.peerId.toB58String()),this.network.sendMessage(this.peerId,e).catch(e=>{this._log.error("send error: %s",e.message)})}}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r;return function(){if(!t)return e.apply(this,arguments);var s=this,i=arguments,o=n&&!r;return clearTimeout(r),r=setTimeout((function(){if(r=null,!o)return e.apply(s,i)}),t),o?e.apply(this,arguments):void 0}}},function(e,t,n){"use strict";const r=n(103),s=n(108),i=n(109),o=n(4),a=n(12),c=n(2).logger;e.exports=class{constructor(e,t,n,r){this._log=c(e.peerId,"network"),n=n||{},this.libp2p=e,this.bitswap=t,this.protocols=["/ipfs/bitswap/1.0.0"],n.b100Only||(this.protocols.unshift("/ipfs/bitswap/1.1.0"),this.protocols.unshift("/ipfs/bitswap/1.2.0")),this._stats=r,this._running=!1,this._onPeerConnect=this._onPeerConnect.bind(this),this._onPeerDisconnect=this._onPeerDisconnect.bind(this),this._onConnection=this._onConnection.bind(this)}start(){this._running=!0,this.libp2p.handle(this.protocols,this._onConnection);const e=new i({multicodecs:this.protocols,handlers:{onConnect:this._onPeerConnect,onDisconnect:this._onPeerDisconnect}});this._registrarId=this.libp2p.registrar.register(e);for(const t of this.libp2p.peerStore.peers.values()){const e=this.libp2p.connectionManager.get(t.id);e&&this._onPeerConnect(e.remotePeer)}}stop(){this._running=!1,this.libp2p.unhandle(this.protocols),this.libp2p.registrar.unregister(this._registrarId)}async _onConnection({protocol:e,stream:t,connection:n}){if(this._running){this._log("incoming new bitswap %s connection from %s",e,n.remotePeer.toB58String());try{await s(t,r.decode(),async e=>{for await(const r of e)try{const e=await o.deserialize(r.slice());await this.bitswap._receiveMessage(n.remotePeer,e)}catch(t){this.bitswap._receiveError(t);break}})}catch(i){this._log(i)}}}_onPeerConnect(e){this.bitswap._onPeerConnected(e)}_onPeerDisconnect(e){this.bitswap._onPeerDisconnected(e)}findProviders(e,t,n={}){return this.libp2p.contentRouting.findProviders(e,{maxTimeout:a.providerRequestTimeout,maxNumProviders:t,signal:n.signal})}async findAndConnect(e,t){const n=[];for await(const r of this.findProviders(e,a.maxProvidersPerRequest,t))this._log("connecting to providers",r.id.toB58String()),n.push(this.connectTo(r,t));await Promise.all(n)}async provide(e,t){await this.libp2p.contentRouting.provide(e,t)}async sendMessage(e,t){if(!this._running)throw new Error("network isn't running");const n=e.toB58String();this._log("sendMessage to %s",n,t);const{stream:i,protocol:o}=await this._dialPeer(e);let a;switch(o){case"/ipfs/bitswap/1.0.0":a=t.serializeToBitswap100();break;case"/ipfs/bitswap/1.1.0":case"/ipfs/bitswap/1.2.0":a=t.serializeToBitswap110();break;default:throw new Error("Unknown protocol: "+o)}!async function(e,t,n){try{await s([t],r.encode(),e)}catch(i){n(i)}}(i,a,this._log),this._updateSentStats(e,t.blocks)}async connectTo(e,t){if(!this._running)throw new Error("network isn't running");return this.libp2p.dial(e,t)}_dialPeer(e){return this.libp2p.dialProtocol(e,["/ipfs/bitswap/1.2.0","/ipfs/bitswap/1.1.0","/ipfs/bitswap/1.0.0"])}_updateSentStats(e,t){const n=e.toB58String();this._stats&&(t.forEach(e=>this._stats.push(n,"dataSent",e.data.length)),this._stats.push(n,"blocksSent",t.size))}}},function(e,t,n){"use strict";t.encode=n(104),t.decode=n(105),t.varintEncode=n(28),t.varintDecode=n(29),t.int32BEEncode=n(106),t.int32BEDecode=n(107)},function(e,t,n){"use strict";const{Buffer:r}=n(3),s=n(27),i=n(28);function o(e){e=e||{};const t=Math.max(e.poolSize||10240,e.minPoolSize||8),n=e.lengthEncoder||i;return e=>async function*(){let i=r.alloc(t),o=0;for await(const a of e){n(a.length,i,o);const e=i.slice(o,o+n.bytes);o+=n.bytes,i.length-o<8&&(i=r.alloc(t),o=0),yield(new s).append(e).append(a)}}()}o.single=(e,t)=>{const n=(t=t||{}).lengthEncoder||i;return new s([n(e.length),e])},e.exports=o,e.exports.MIN_POOL_SIZE=8,e.exports.DEFAULT_POOL_SIZE=10240},function(e,t,n){"use strict";const{Buffer:r}=n(3),s=n(27),i=n(29),o=r.alloc(0),a="readLength",c="readData",u={[a]:(e,t,n,r)=>{let i;t=t.append(e);try{i=r.lengthDecoder(t)}catch(u){if(t.length>r.maxLengthLength)throw Object.assign(u,{message:"message length too long",code:"ERR_MSG_LENGTH_TOO_LONG"});if(u instanceof RangeError)return{mode:a,buffer:t};throw u}if(i>r.maxDataLength)throw Object.assign(new Error("message data too long"),{code:"ERR_MSG_DATA_TOO_LONG"});return e=t.shallowSlice(r.lengthDecoder.bytes),t=new s,r.onLength&&r.onLength(i),i<=0?(r.onData&&r.onData(o),{mode:a,chunk:e,buffer:t,data:o}):{mode:c,chunk:e,buffer:t,state:{dataLength:i}}},[c]:(e,t,n,r)=>{if((t=t.append(e)).length<n.dataLength)return{mode:c,buffer:t,state:n};const{dataLength:i}=n,o=t.shallowSlice(0,i);return e=t.length>i?t.shallowSlice(i):null,t=new s,r.onData&&r.onData(o),{mode:a,chunk:e,buffer:t,data:o}}};function f(e){return(e=e||{}).lengthDecoder=e.lengthDecoder||i,e.maxLengthLength=e.maxLengthLength||8,e.maxDataLength=e.maxDataLength||4194304,t=>async function*(){let n,r=new s,i=a;for await(let s of t)for(;s;){const t=u[i](s,r,n,e);({mode:i,chunk:s,buffer:r,state:n}=t),t.data&&(yield t.data)}if(r.length)throw Object.assign(new Error("unexpected end of input"),{code:"ERR_UNEXPECTED_EOF"})}()}f.fromReader=(e,t)=>{t=t||{};let n=1;const r={[Symbol.asyncIterator](){return this},next:async()=>{try{return await e.next(n)}catch(t){if("ERR_UNDER_READ"===t.code)return{done:!0,value:null};throw t}finally{n=1}}};return t.onLength=e=>{n=e},f(t)(r)},e.exports=f,e.exports.MAX_LENGTH_LENGTH=8,e.exports.MAX_DATA_LENGTH=4194304},function(e,t,n){"use strict";const{Buffer:r}=n(3),s=(e,t,n)=>((t=t||r.allocUnsafe(4)).writeInt32BE(e,n),t);s.bytes=4,e.exports=s},function(e,t,n){"use strict";const r=e=>{if(e.length<4)throw RangeError("Could not decode int32BE");return e.readInt32BE(0)};r.bytes=4,e.exports=r},function(e,t,n){"use strict";const r=(...e)=>{let t;for(;e.length;)t=e.shift()(t);return t},s=e=>e&&("function"==typeof e[Symbol.asyncIterator]||"function"==typeof e[Symbol.iterator]||"function"==typeof e.next),i=e=>e&&"function"==typeof e.sink&&s(e.source),o=e=>t=>(e.sink(t),e.source),a=(...e)=>{if(i(e[0])){const t=e[0];e[0]=()=>t.source}else if(s(e[0])){const t=e[0];e[0]=()=>t}if(e.length>1&&i(e[e.length-1])&&(e[e.length-1]=e[e.length-1].sink),e.length>2)for(let t=1;t<e.length-1;t++)i(e[t])&&(e[t]=o(e[t]));return r(...e)};e.exports=a,e.exports.pipe=a,e.exports.rawPipe=r,e.exports.isIterable=s,e.exports.isDuplex=i},function(e,t,n){"use strict";const r=n(16),s=n(110);e.exports=r(class extends s{constructor({min:e,max:t,multicodecs:n,handlers:r}){if(super({min:e,max:t,handlers:r}),!n)throw new Error("one or more multicodec should be provided");if(!r)throw new Error("the handlers should be provided");if("function"!=typeof r.onConnect)throw new Error("the 'onConnect' handler must be provided");if("function"!=typeof r.onDisconnect)throw new Error("the 'onDisconnect' handler must be provided");this.multicodecs=Array.isArray(n)?n:[n],this._registrar=void 0,this._onProtocolChange=this._onProtocolChange.bind(this),this._onPeerConnect=this._onPeerConnect.bind(this)}set registrar(e){this._registrar=e,this._registrar.peerStore.on("change:protocols",this._onProtocolChange),this._registrar.connectionManager.on("peer:connect",this._onPeerConnect),this._updatePeers(this._registrar.peerStore.peers.values())}_updatePeers(e){for(const{id:t,protocols:n}of e)if(this.multicodecs.filter(e=>n.includes(e)).length){this.peers.add(t.toB58String());const e=this._registrar.getConnection(t);e&&this._onConnect(t,e)}else this.peers.delete(t.toB58String())}_onProtocolChange({peerId:e,protocols:t}){const n=this.peers.has(e.toB58String()),r=t.filter(e=>this.multicodecs.includes(e));n&&0===r.length&&this._onDisconnect(e);for(const s of t)if(this.multicodecs.includes(s)){const t=this._registrar.peerStore.get(e);return void this._updatePeers([t])}}_onPeerConnect(e){const t=e.remotePeer,n=this._registrar.peerStore.protoBook.get(t);n&&this.multicodecs.find(e=>n.includes(e))&&(this.peers.add(t.toB58String()),this._onConnect(t,e))}},{className:"MulticodecTopology",symbolName:"@libp2p/js-interfaces/topology/multicodec-topology"})},function(e,t,n){"use strict";const r=n(16),s=()=>{};e.exports=r(class{constructor({min:e=0,max:t=1/0,handlers:n={}}){this.min=e,this.max=t,this._onConnect=n.onConnect||s,this._onDisconnect=n.onDisconnect||s,this.peers=new Set}set registrar(e){this._registrar=e}disconnect(e){this._onDisconnect(e)}},{className:"Topology",symbolName:"@libp2p/js-interfaces/topology"})},function(e,t,n){"use strict";const r=n(13),s=n(4),i=s.WantType,o=n(11),a=n(112),c=n(113),u=n(115),{logger:f}=n(2);e.exports=class{constructor(e,t,n,r,s){this._log=f(e,"engine"),this.blockstore=t,this.network=n,this._stats=r,this._opts=this._processOpts(s),this.ledgerMap=new Map,this._running=!1,this._requestQueue=new c(u)}_processOpts(e){return{maxSizeReplaceHasWithBlock:1024,targetMessageSize:16384,...e}}_scheduleProcessTasks(){setTimeout(()=>{this._processTasks()})}async _processTasks(){if(!this._running)return;const{peerId:e,tasks:t,pendingSize:n}=this._requestQueue.popTasks(this._opts.targetMessageSize);if(0===t.length)return;const i=new s(!1);i.setPendingBytes(n);const o=[],a=new Map;for(const s of t){const e=new r(s.topic);s.data.haveBlock?s.data.isWantBlock?(o.push(e),a.set(s.topic,s.data)):i.addHave(e):i.addDontHave(e)}const c=await this._getBlocks(o);for(const[s,f]of a){const e=c.get(s);if(e)i.addBlock(e);else if(f.sendDontHave){const e=new r(s);i.addDontHave(e)}}if(i.empty)return this._requestQueue.tasksDone(e,t),void this._scheduleProcessTasks();try{await this.network.sendMessage(e,i);for(const t of c.values())this.messageSent(e,t)}catch(u){this._log.error(u)}this._requestQueue.tasksDone(e,t),this._scheduleProcessTasks()}wantlistForPeer(e){const t=e.toB58String();return this.ledgerMap.has(t)?this.ledgerMap.get(t).wantlist.sortedEntries():new Map}ledgerForPeer(e){const t=e.toB58String(),n=this.ledgerMap.get(t);return n?{peer:n.partner.toPrint(),value:n.debtRatio(),sent:n.accounting.bytesSent,recv:n.accounting.bytesRecv,exchanged:n.exchangeCount}:null}peers(){return Array.from(this.ledgerMap.values()).map(e=>e.partner)}receivedBlocks(e){e.length&&(this.ledgerMap.forEach(t=>{e.forEach(e=>{const n=t.wantlistContains(e.cid);if(!n)return;const r=e.data.length,i=this._sendAsBlock(n.wantType,r);let o=r;i||(o=s.blockPresenceSize(n.cid)),this._requestQueue.pushTasks(t.partner,[{topic:n.cid.toString(),priority:n.priority,size:o,data:{blockSize:r,isWantBlock:i,haveBlock:!0,sendDontHave:!1}}])})}),this._scheduleProcessTasks())}async messageReceived(e,t){const n=this._findOrCreate(e);if(t.empty)return;if(t.full&&(n.wantlist=new o),this._updateBlockAccounting(t.blocks,n),0===t.wantlist.size)return void this._scheduleProcessTasks();const r=[],s=[];t.wantlist.forEach(e=>{e.cancel?(n.cancelWant(e.cid),r.push(e.cid)):(n.wants(e.cid,e.priority,e.wantType),s.push(e))}),this._cancelWants(e,r),await this._addWants(e,s),this._scheduleProcessTasks()}_cancelWants(e,t){for(const n of t)this._requestQueue.remove(n.toString(),e)}async _addWants(e,t){const n=await this._getBlockSizes(t.map(e=>e.cid)),r=[];for(const o of t){const t=o.cid.toString(),a=n.get(t);if(null==a)o.sendDontHave&&r.push({topic:t,priority:o.priority,size:s.blockPresenceSize(o.cid),data:{isWantBlock:o.wantType===i.Block,blockSize:0,haveBlock:!1,sendDontHave:o.sendDontHave}});else{const e=this._sendAsBlock(o.wantType,a);let n=a;e||(n=s.blockPresenceSize(o.cid)),r.push({topic:t,priority:o.priority,size:n,data:{isWantBlock:e,blockSize:a,haveBlock:!0,sendDontHave:o.sendDontHave}})}this._requestQueue.pushTasks(e,r)}}_sendAsBlock(e,t){return e===i.Block||t<=this._opts.maxSizeReplaceHasWithBlock}async _getBlockSizes(e){const t=await this._getBlocks(e);return new Map([...t].map(([e,t])=>[e,t.data.length]))}async _getBlocks(e){const t=new Map;return await Promise.all(e.map(async e=>{try{const n=await this.blockstore.get(e);t.set(e.toString(),n)}catch(n){"ERR_NOT_FOUND"!==n.code&&this._log.error("failed to query blockstore for %s: %s",e,n)}})),t}_updateBlockAccounting(e,t){e.forEach(e=>{this._log("got block (%s bytes)",e.data.length),t.receivedBytes(e.data.length)})}messageSent(e,t){const n=this._findOrCreate(e);n.sentBytes(t?t.data.length:0),t&&t.cid&&n.wantlist.remove(t.cid)}numBytesSentTo(e){return this._findOrCreate(e).accounting.bytesSent}numBytesReceivedFrom(e){return this._findOrCreate(e).accounting.bytesRecv}peerDisconnected(e){}_findOrCreate(e){const t=e.toB58String();if(this.ledgerMap.has(t))return this.ledgerMap.get(t);const n=new a(e);return this.ledgerMap.set(t,n),this._stats&&this._stats.push(t,"peerCount",1),n}start(){this._running=!0}stop(){this._running=!1}}},function(e,t,n){"use strict";const r=n(11);e.exports=class{constructor(e){this.partner=e,this.wantlist=new r,this.exchangeCount=0,this.sentToPeer=new Map,this.accounting={bytesSent:0,bytesRecv:0}}sentBytes(e){this.exchangeCount++,this.lastExchange=(new Date).getTime(),this.accounting.bytesSent+=e}receivedBytes(e){this.exchangeCount++,this.lastExchange=(new Date).getTime(),this.accounting.bytesRecv+=e}wants(e,t,n){this.wantlist.add(e,t,n)}cancelWant(e){this.wantlist.remove(e)}wantlistContains(e){return this.wantlist.contains(e)}debtRatio(){return this.accounting.bytesSent/(this.accounting.bytesRecv+1)}}},function(e,t,n){"use strict";const r=n(114),s={hasNewInfo:()=>!1,merge(){}};class i{constructor(e,t){this.peerId=e,this._taskMerger=t,this._activeTotalSize=0,this._pending=new o,this._active=new Set}pushTasks(e){for(const t of e)this._pushTask(t)}_pushTask(e){if(!this._taskHasMoreInfoThanActiveTasks(e))return;const t=this._pending.get(e.topic);if(t)return e.priority>t.priority&&this._pending.updatePriority(e.topic,e.priority),void this._taskMerger.merge(e,t);this._pending.add(e)}_taskHasMoreInfoThanActiveTasks(e){const t=[];for(const n of this._active)n.topic===e.topic&&t.push(n);return 0===t.length||this._taskMerger.hasNewInfo(e,t)}popTasks(e){let t=0;const n=[],r=this._pending.tasks();for(let s=0;s<r.length&&t<e;s++){const e=r[s];n.push(e),t+=e.size,this._pending.delete(e.topic),this._activeTotalSize+=e.size,this._active.add(e)}return{tasks:n,pendingSize:this._pending.totalSize}}taskDone(e){this._active.has(e)&&(this._activeTotalSize-=e.size,this._active.delete(e))}remove(e){this._pending.delete(e)}isIdle(){return 0===this._pending.length&&0===this._active.length}static compare(e,t){return 0===e[1]._pending.length?1:0===t[1]._pending.length?-1:e[1]._activeTotalSize===t[1]._activeTotalSize?t[1]._pending.length-e[1]._pending.length:e[1]._activeTotalSize-t[1]._activeTotalSize}}class o{constructor(){this._tasks=new r([],this._compare)}get length(){return this._tasks.size}get totalSize(){return[...this._tasks.values()].reduce((e,t)=>e+t.task.size,0)}get(e){return(this._tasks.get(e)||{}).task}add(e){this._tasks.set(e.topic,{created:Date.now(),task:e})}delete(e){this._tasks.delete(e)}tasks(){return[...this._tasks.values()].map(e=>e.task)}updatePriority(e,t){const n=this._tasks.get(e);if(!n)return;const r=this._tasks.indexOf(e);n.task.priority=t,this._tasks.update(r)}_compare(e,t){return e[1].task.priority===t[1].task.priority?e[1].created-t[1].created:t[1].task.priority-e[1].task.priority}}e.exports=class{constructor(e){this._taskMerger=e||s,this._byPeer=new r([],i.compare,!0)}pushTasks(e,t){let n=this._byPeer.get(e.toB58String());n||(n=new i(e,this._taskMerger)),n.pushTasks(t),this._byPeer.set(e.toB58String(),n)}popTasks(e){if(0===this._byPeer.size)return{tasks:[],pendingSize:0};const t=this._head(),{tasks:n,pendingSize:r}=t.popTasks(e);if(0===n.length)return{tasks:n,pendingSize:r};const s=t.peerId;return t.isIdle()?this._byPeer.delete(s.toB58String()):this._byPeer.update(0),{peerId:s,tasks:n,pendingSize:r}}_head(){for(const[,e]of this._byPeer)return e}remove(e,t){const n=this._byPeer.get(t.toB58String());n&&n.remove(e)}tasksDone(e,t){const n=this._byPeer.get(e.toB58String());if(!n)return;const r=this._byPeer.indexOf(e.toB58String());for(const s of t)n.taskDone(s);this._byPeer.update(r)}}},function(e,t,n){"use strict";class r extends Map{constructor(e,t){super(),this._cmp=t||this._defaultSort,this._keys=[];for(const[n,r]of e||[])this.set(n,r)}update(e){if(e<0||e>=this._keys.length)return;const t=this._keys[e];this._keys.splice(e,1);const n=this._find(t);this._keys.splice(n,0,t)}set(e,t){if(this.has(e)){const t=this.indexOf(e);this._keys.splice(t,1)}super.set(e,t);const n=this._find(e);this._keys.splice(n,0,e)}clear(){super.clear(),this._keys=[]}delete(e){if(!this.has(e))return;const t=this.indexOf(e);this._keys.splice(t,1),super.delete(e)}indexOf(e){if(!this.has(e))return-1;const t=this._find(e);if(this._keys[t]===e)return t;for(let n=1;n<this._keys.length;n++){if(this._keys[t+n]===e)return t+n;if(this._keys[t-n]===e)return t-n}return-1}_find(e){let t=0,n=this._keys.length;for(;t<n;){const r=t+n>>>1,s=this._kCmp(this._keys[r],e);if(s<0)t=r+1;else{if(!(s>0))return r;n=r}}return t}*keys(){for(const e of this._keys)yield e}*values(){for(const e of this._keys)yield this.get(e)}*entries(){for(const e of this._keys)yield[e,this.get(e)]}*[Symbol.iterator](){yield*this.entries()}forEach(e,t){if(e)for(const n of this._keys)e.apply(t,[[n,this.get(n)]])}_defaultSort(e,t){return e[0]<t[0]?-1:t[0]<e[0]?1:0}_kCmp(e,t){return this._cmp([e,this.get(e)],[t,this.get(t)])}}e.exports=r},function(e,t,n){"use strict";const r={hasNewInfo(e,t){let n=!1,r=!1;for(const s of t)s.data.haveBlock&&(n=!0),s.data.isWantBlock&&(r=!0);return!(r||!e.data.isWantBlock)||!(n||!e.data.haveBlock)},merge(e,t){const n=e.data,r=t.data;!r.haveBlock&&n.haveBlock&&(r.haveBlock=n.haveBlock,r.blockSize=n.blockSize),!r.isWantBlock&&n.isWantBlock&&(r.isWantBlock=!0,r.haveBlock&&!n.haveBlock||(r.haveBlock=n.haveBlock,t.size=e.size)),r.isWantBlock&&r.haveBlock&&(t.size=r.blockSize)}};e.exports=r},function(e,t,n){"use strict";const r=n(19).EventEmitter,s=n(20),i=n(10),o=n(9),a=n(12),c=n(2).logger,u=e=>"unwant:"+o(e.multihash,"base64"),f=e=>"block:"+o(e.multihash,"base64");e.exports=class extends r{constructor(e){super(),this.setMaxListeners(a.maxListeners),this._log=c(e,"notif")}hasBlock(e){const t=f(e.cid);this._log(t),this.emit(t,e)}wantBlock(e,t={}){if(!e)throw new Error("Not a valid cid");const n=f(e),r=u(e);return this._log("wantBlock:"+e),new Promise((o,a)=>{const c=()=>{this.removeListener(n,u),a(new Error(`Block for ${e} unwanted`))},u=t=>{if(this.removeListener(r,c),!i(e.multihash,t.cid.multihash))return a(new Error("Incorrect block received for "+e));e.version===t.cid.version&&e.codec===t.cid.codec||(t=new s(t.data,e)),o(t)};this.once(r,c),this.once(n,u),t&&t.signal&&t.signal.addEventListener("abort",()=>{this.removeListener(n,u),this.removeListener(r,c),a(new Error(`Want for ${e} aborted`))})})}unwantBlock(e){const t=u(e);this._log(t),this.emit(t)}}},function(e,t,n){"use strict";const r=n(19),s=n(118),i={movingAverageIntervals:[6e4,3e5,9e5]};e.exports=class extends r{constructor(e,t){super();const n=Object.assign({},i,t);if("number"!=typeof n.computeThrottleTimeout)throw new Error("need computeThrottleTimeout");if("number"!=typeof n.computeThrottleMaxQueueSize)throw new Error("need computeThrottleMaxQueueSize");this._initialCounters=e,this._options=n,this._enabled=this._options.enabled,this._global=new s(e,n),this._global.on("update",e=>this.emit("update",e)),this._peers=new Map}enable(){this._enabled=!0,this._options.enabled=!0,this._global.enable()}disable(){this._enabled=!1,this._options.enabled=!1,this._global.disable()}stop(){this._enabled=!1,this._global.stop();for(const e of this._peers)e[1].stop()}get snapshot(){return this._global.snapshot}get movingAverages(){return this._global.movingAverages}forPeer(e){return e.toB58String&&(e=e.toB58String()),this._peers.get(e)}push(e,t,n){if(this._enabled&&(this._global.push(t,n),e)){let r=this._peers.get(e);r||(r=new s(this._initialCounters,this._options),this._peers.set(e,r)),r.push(t,n)}}disconnected(e){const t=e.toB58String(),n=this._peers.get(t);n&&(n.stop(),this._peers.delete(t))}}},function(e,t,n){"use strict";const r=n(19),s=n(119),i=n(120);e.exports=class extends r{constructor(e,t){super(),this._options=t,this._queue=[],this._stats={},this._frequencyLastTime=Date.now(),this._frequencyAccumulators={},this._movingAverages={},this._update=this._update.bind(this),e.forEach(e=>{this._stats[e]=s(0),this._movingAverages[e]={},this._options.movingAverageIntervals.forEach(t=>{(this._movingAverages[e][t]=i(t)).push(this._frequencyLastTime,0)})}),this._enabled=this._options.enabled}enable(){this._enabled=!0}disable(){this._disabled=!0}stop(){this._timeout&&clearTimeout(this._timeout)}get snapshot(){return Object.assign({},this._stats)}get movingAverages(){return Object.assign({},this._movingAverages)}push(e,t){this._enabled&&(this._queue.push([e,t,Date.now()]),this._resetComputeTimeout())}_resetComputeTimeout(){this._timeout&&clearTimeout(this._timeout),this._timeout=setTimeout(this._update,this._nextTimeout())}_nextTimeout(){const e=this._queue.length/this._options.computeThrottleMaxQueueSize;return Math.max(this._options.computeThrottleTimeout*(1-e),0)}_update(){if(this._timeout=null,this._queue.length){let e;for(;this._queue.length;){const t=e=this._queue.shift();this._applyOp(t)}this._updateFrequency(e[2]),this.emit("update",this._stats)}}_updateFrequency(e){const t=e-this._frequencyLastTime;t&&Object.keys(this._stats).forEach(n=>{this._updateFrequencyFor(n,t,e)}),this._frequencyLastTime=e}_updateFrequencyFor(e,t,n){const r=this._frequencyAccumulators[e]||0;this._frequencyAccumulators[e]=0;const s=r/t*1e3;let o=this._movingAverages[e];o||(o=this._movingAverages[e]={}),this._options.movingAverageIntervals.forEach(e=>{let t=o[e];t||(t=o[e]=i(e)),t.push(n,s)})}_applyOp(e){const t=e[0],n=e[1];if("number"!=typeof n)throw new Error("invalid increment number:",n);let r;r=Object.prototype.hasOwnProperty.call(this._stats,t)?this._stats[t]:this._stats[t]=s(0),this._stats[t]=r.plus(n),this._frequencyAccumulators[t]||(this._frequencyAccumulators[t]=0),this._frequencyAccumulators[t]+=n}}},function(e,t,n){"use strict";var r;!function(s){var i,o=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,a=Math.ceil,c=Math.floor,u="[BigNumber Error] ",f=u+"Number primitive has more than 15 significant digits: ",l=1e14,h=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],p=1e9;function d(e){var t=0|e;return e>0||e===t?t:t-1}function g(e){for(var t,n,r=1,s=e.length,i=e[0]+"";r<s;){for(n=14-(t=e[r++]+"").length;n--;t="0"+t);i+=t}for(s=i.length;48===i.charCodeAt(--s););return i.slice(0,s+1||1)}function b(e,t){var n,r,s=e.c,i=t.c,o=e.s,a=t.s,c=e.e,u=t.e;if(!o||!a)return null;if(n=s&&!s[0],r=i&&!i[0],n||r)return n?r?0:-a:o;if(o!=a)return o;if(n=o<0,r=c==u,!s||!i)return r?0:!s^n?1:-1;if(!r)return c>u^n?1:-1;for(a=(c=s.length)<(u=i.length)?c:u,o=0;o<a;o++)if(s[o]!=i[o])return s[o]>i[o]^n?1:-1;return c==u?0:c>u^n?1:-1}function k(e,t,n,r){if(e<t||e>n||e!==c(e))throw Error(u+(r||"Argument")+("number"==typeof e?e<t||e>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function y(e){var t=e.c.length-1;return d(e.e/14)==t&&e.c[t]%2!=0}function m(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function w(e,t,n){var r,s;if(t<0){for(s=n+".";++t;s+=n);e=s+e}else if(++t>(r=e.length)){for(s=n,t-=r;--t;s+=n);e+=s}else t<r&&(e=e.slice(0,t)+"."+e.slice(t));return e}(i=function e(t){var n,r,s,i,v,_,E,x,A,B=j.prototype={constructor:j,toString:null,valueOf:null},C=new j(1),S=20,T=4,O=-7,P=21,U=-1e7,L=1e7,I=!1,D=1,R=0,M={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},N="0123456789abcdefghijklmnopqrstuvwxyz";function j(e,t){var n,i,a,u,l,h,p,d,g=this;if(!(g instanceof j))return new j(e,t);if(null==t){if(e&&!0===e._isBigNumber)return g.s=e.s,void(!e.c||e.e>L?g.c=g.e=null:e.e<U?g.c=[g.e=0]:(g.e=e.e,g.c=e.c.slice()));if((h="number"==typeof e)&&0*e==0){if(g.s=1/e<0?(e=-e,-1):1,e===~~e){for(u=0,l=e;l>=10;l/=10,u++);return void(u>L?g.c=g.e=null:(g.e=u,g.c=[e]))}d=String(e)}else{if(!o.test(d=String(e)))return s(g,d,h);g.s=45==d.charCodeAt(0)?(d=d.slice(1),-1):1}(u=d.indexOf("."))>-1&&(d=d.replace(".","")),(l=d.search(/e/i))>0?(u<0&&(u=l),u+=+d.slice(l+1),d=d.substring(0,l)):u<0&&(u=d.length)}else{if(k(t,2,N.length,"Base"),10==t)return q(g=new j(e),S+g.e+1,T);if(d=String(e),h="number"==typeof e){if(0*e!=0)return s(g,d,h,t);if(g.s=1/e<0?(d=d.slice(1),-1):1,j.DEBUG&&d.replace(/^0\.0*|\./,"").length>15)throw Error(f+e)}else g.s=45===d.charCodeAt(0)?(d=d.slice(1),-1):1;for(n=N.slice(0,t),u=l=0,p=d.length;l<p;l++)if(n.indexOf(i=d.charAt(l))<0){if("."==i){if(l>u){u=p;continue}}else if(!a&&(d==d.toUpperCase()&&(d=d.toLowerCase())||d==d.toLowerCase()&&(d=d.toUpperCase()))){a=!0,l=-1,u=0;continue}return s(g,String(e),h,t)}h=!1,(u=(d=r(d,t,10,g.s)).indexOf("."))>-1?d=d.replace(".",""):u=d.length}for(l=0;48===d.charCodeAt(l);l++);for(p=d.length;48===d.charCodeAt(--p););if(d=d.slice(l,++p)){if(p-=l,h&&j.DEBUG&&p>15&&(e>9007199254740991||e!==c(e)))throw Error(f+g.s*e);if((u=u-l-1)>L)g.c=g.e=null;else if(u<U)g.c=[g.e=0];else{if(g.e=u,g.c=[],l=(u+1)%14,u<0&&(l+=14),l<p){for(l&&g.c.push(+d.slice(0,l)),p-=14;l<p;)g.c.push(+d.slice(l,l+=14));l=14-(d=d.slice(l)).length}else l-=p;for(;l--;d+="0");g.c.push(+d)}}else g.c=[g.e=0]}function F(e,t,n,r){var s,i,o,a,c;if(null==n?n=T:k(n,0,8),!e.c)return e.toString();if(s=e.c[0],o=e.e,null==t)c=g(e.c),c=1==r||2==r&&(o<=O||o>=P)?m(c,o):w(c,o,"0");else if(i=(e=q(new j(e),t,n)).e,a=(c=g(e.c)).length,1==r||2==r&&(t<=i||i<=O)){for(;a<t;c+="0",a++);c=m(c,i)}else if(t-=o,c=w(c,i,"0"),i+1>a){if(--t>0)for(c+=".";t--;c+="0");}else if((t+=i-a)>0)for(i+1==a&&(c+=".");t--;c+="0");return e.s<0&&s?"-"+c:c}function z(e,t){for(var n,r=1,s=new j(e[0]);r<e.length;r++){if(!(n=new j(e[r])).s){s=n;break}t.call(s,n)&&(s=n)}return s}function H(e,t,n){for(var r=1,s=t.length;!t[--s];t.pop());for(s=t[0];s>=10;s/=10,r++);return(n=r+14*n-1)>L?e.c=e.e=null:n<U?e.c=[e.e=0]:(e.e=n,e.c=t),e}function q(e,t,n,r){var s,i,o,u,f,p,d,g=e.c,b=h;if(g){e:{for(s=1,u=g[0];u>=10;u/=10,s++);if((i=t-s)<0)i+=14,o=t,d=(f=g[p=0])/b[s-o-1]%10|0;else if((p=a((i+1)/14))>=g.length){if(!r)break e;for(;g.length<=p;g.push(0));f=d=0,s=1,o=(i%=14)-14+1}else{for(f=u=g[p],s=1;u>=10;u/=10,s++);d=(o=(i%=14)-14+s)<0?0:f/b[s-o-1]%10|0}if(r=r||t<0||null!=g[p+1]||(o<0?f:f%b[s-o-1]),r=n<4?(d||r)&&(0==n||n==(e.s<0?3:2)):d>5||5==d&&(4==n||r||6==n&&(i>0?o>0?f/b[s-o]:0:g[p-1])%10&1||n==(e.s<0?8:7)),t<1||!g[0])return g.length=0,r?(t-=e.e+1,g[0]=b[(14-t%14)%14],e.e=-t||0):g[0]=e.e=0,e;if(0==i?(g.length=p,u=1,p--):(g.length=p+1,u=b[14-i],g[p]=o>0?c(f/b[s-o]%b[o])*u:0),r)for(;;){if(0==p){for(i=1,o=g[0];o>=10;o/=10,i++);for(o=g[0]+=u,u=1;o>=10;o/=10,u++);i!=u&&(e.e++,g[0]==l&&(g[0]=1));break}if(g[p]+=u,g[p]!=l)break;g[p--]=0,u=1}for(i=g.length;0===g[--i];g.pop());}e.e>L?e.c=e.e=null:e.e<U&&(e.c=[e.e=0])}return e}function W(e){var t,n=e.e;return null===n?e.toString():(t=g(e.c),t=n<=O||n>=P?m(t,n):w(t,n,"0"),e.s<0?"-"+t:t)}return j.clone=e,j.ROUND_UP=0,j.ROUND_DOWN=1,j.ROUND_CEIL=2,j.ROUND_FLOOR=3,j.ROUND_HALF_UP=4,j.ROUND_HALF_DOWN=5,j.ROUND_HALF_EVEN=6,j.ROUND_HALF_CEIL=7,j.ROUND_HALF_FLOOR=8,j.EUCLID=9,j.config=j.set=function(e){var t,n;if(null!=e){if("object"!=typeof e)throw Error(u+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(k(n=e[t],0,p,t),S=n),e.hasOwnProperty(t="ROUNDING_MODE")&&(k(n=e[t],0,8,t),T=n),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((n=e[t])&&n.pop?(k(n[0],-p,0,t),k(n[1],0,p,t),O=n[0],P=n[1]):(k(n,-p,p,t),O=-(P=n<0?-n:n))),e.hasOwnProperty(t="RANGE"))if((n=e[t])&&n.pop)k(n[0],-p,-1,t),k(n[1],1,p,t),U=n[0],L=n[1];else{if(k(n,-p,p,t),!n)throw Error(u+t+" cannot be zero: "+n);U=-(L=n<0?-n:n)}if(e.hasOwnProperty(t="CRYPTO")){if((n=e[t])!==!!n)throw Error(u+t+" not true or false: "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw I=!n,Error(u+"crypto unavailable");I=n}else I=n}if(e.hasOwnProperty(t="MODULO_MODE")&&(k(n=e[t],0,9,t),D=n),e.hasOwnProperty(t="POW_PRECISION")&&(k(n=e[t],0,p,t),R=n),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(n=e[t]))throw Error(u+t+" not an object: "+n);M=n}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(n=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(n))throw Error(u+t+" invalid: "+n);N=n}}return{DECIMAL_PLACES:S,ROUNDING_MODE:T,EXPONENTIAL_AT:[O,P],RANGE:[U,L],CRYPTO:I,MODULO_MODE:D,POW_PRECISION:R,FORMAT:M,ALPHABET:N}},j.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!j.DEBUG)return!0;var t,n,r=e.c,s=e.e,i=e.s;e:if("[object Array]"=={}.toString.call(r)){if((1===i||-1===i)&&s>=-p&&s<=p&&s===c(s)){if(0===r[0]){if(0===s&&1===r.length)return!0;break e}if((t=(s+1)%14)<1&&(t+=14),String(r[0]).length==t){for(t=0;t<r.length;t++)if((n=r[t])<0||n>=l||n!==c(n))break e;if(0!==n)return!0}}}else if(null===r&&null===s&&(null===i||1===i||-1===i))return!0;throw Error(u+"Invalid BigNumber: "+e)},j.maximum=j.max=function(){return z(arguments,B.lt)},j.minimum=j.min=function(){return z(arguments,B.gt)},j.random=(i=9007199254740992*Math.random()&2097151?function(){return c(9007199254740992*Math.random())}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,n,r,s,o,f=0,l=[],d=new j(C);if(null==e?e=S:k(e,0,p),s=a(e/14),I)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(s*=2));f<s;)(o=131072*t[f]+(t[f+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),t[f]=n[0],t[f+1]=n[1]):(l.push(o%1e14),f+=2);f=s/2}else{if(!crypto.randomBytes)throw I=!1,Error(u+"crypto unavailable");for(t=crypto.randomBytes(s*=7);f<s;)(o=281474976710656*(31&t[f])+1099511627776*t[f+1]+4294967296*t[f+2]+16777216*t[f+3]+(t[f+4]<<16)+(t[f+5]<<8)+t[f+6])>=9e15?crypto.randomBytes(7).copy(t,f):(l.push(o%1e14),f+=7);f=s/7}if(!I)for(;f<s;)(o=i())<9e15&&(l[f++]=o%1e14);for(e%=14,(s=l[--f])&&e&&(o=h[14-e],l[f]=c(s/o)*o);0===l[f];l.pop(),f--);if(f<0)l=[r=0];else{for(r=-1;0===l[0];l.splice(0,1),r-=14);for(f=1,o=l[0];o>=10;o/=10,f++);f<14&&(r-=14-f)}return d.e=r,d.c=l,d}),j.sum=function(){for(var e=1,t=arguments,n=new j(t[0]);e<t.length;)n=n.plus(t[e++]);return n},r=function(){function e(e,t,n,r){for(var s,i,o=[0],a=0,c=e.length;a<c;){for(i=o.length;i--;o[i]*=t);for(o[0]+=r.indexOf(e.charAt(a++)),s=0;s<o.length;s++)o[s]>n-1&&(null==o[s+1]&&(o[s+1]=0),o[s+1]+=o[s]/n|0,o[s]%=n)}return o.reverse()}return function(t,r,s,i,o){var a,c,u,f,l,h,p,d,b=t.indexOf("."),k=S,y=T;for(b>=0&&(f=R,R=0,t=t.replace(".",""),h=(d=new j(r)).pow(t.length-b),R=f,d.c=e(w(g(h.c),h.e,"0"),10,s,"0123456789"),d.e=d.c.length),u=f=(p=e(t,r,s,o?(a=N,"0123456789"):(a="0123456789",N))).length;0==p[--f];p.pop());if(!p[0])return a.charAt(0);if(b<0?--u:(h.c=p,h.e=u,h.s=i,p=(h=n(h,d,k,y,s)).c,l=h.r,u=h.e),b=p[c=u+k+1],f=s/2,l=l||c<0||null!=p[c+1],l=y<4?(null!=b||l)&&(0==y||y==(h.s<0?3:2)):b>f||b==f&&(4==y||l||6==y&&1&p[c-1]||y==(h.s<0?8:7)),c<1||!p[0])t=l?w(a.charAt(1),-k,a.charAt(0)):a.charAt(0);else{if(p.length=c,l)for(--s;++p[--c]>s;)p[c]=0,c||(++u,p=[1].concat(p));for(f=p.length;!p[--f];);for(b=0,t="";b<=f;t+=a.charAt(p[b++]));t=w(t,u,a.charAt(0))}return t}}(),n=function(){function e(e,t,n){var r,s,i,o,a=0,c=e.length,u=t%1e7,f=t/1e7|0;for(e=e.slice();c--;)a=((s=u*(i=e[c]%1e7)+(r=f*i+(o=e[c]/1e7|0)*u)%1e7*1e7+a)/n|0)+(r/1e7|0)+f*o,e[c]=s%n;return a&&(e=[a].concat(e)),e}function t(e,t,n,r){var s,i;if(n!=r)i=n>r?1:-1;else for(s=i=0;s<n;s++)if(e[s]!=t[s]){i=e[s]>t[s]?1:-1;break}return i}function n(e,t,n,r){for(var s=0;n--;)e[n]-=s,s=e[n]<t[n]?1:0,e[n]=s*r+e[n]-t[n];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(r,s,i,o,a){var u,f,h,p,g,b,k,y,m,w,v,_,E,x,A,B,C,S=r.s==s.s?1:-1,T=r.c,O=s.c;if(!(T&&T[0]&&O&&O[0]))return new j(r.s&&s.s&&(T?!O||T[0]!=O[0]:O)?T&&0==T[0]||!O?0*S:S/0:NaN);for(m=(y=new j(S)).c=[],S=i+(f=r.e-s.e)+1,a||(a=l,f=d(r.e/14)-d(s.e/14),S=S/14|0),h=0;O[h]==(T[h]||0);h++);if(O[h]>(T[h]||0)&&f--,S<0)m.push(1),p=!0;else{for(x=T.length,B=O.length,h=0,S+=2,(g=c(a/(O[0]+1)))>1&&(O=e(O,g,a),T=e(T,g,a),B=O.length,x=T.length),E=B,v=(w=T.slice(0,B)).length;v<B;w[v++]=0);C=O.slice(),C=[0].concat(C),A=O[0],O[1]>=a/2&&A++;do{if(g=0,(u=t(O,w,B,v))<0){if(_=w[0],B!=v&&(_=_*a+(w[1]||0)),(g=c(_/A))>1)for(g>=a&&(g=a-1),k=(b=e(O,g,a)).length,v=w.length;1==t(b,w,k,v);)g--,n(b,B<k?C:O,k,a),k=b.length,u=1;else 0==g&&(u=g=1),k=(b=O.slice()).length;if(k<v&&(b=[0].concat(b)),n(w,b,v,a),v=w.length,-1==u)for(;t(O,w,B,v)<1;)g++,n(w,B<v?C:O,v,a),v=w.length}else 0===u&&(g++,w=[0]);m[h++]=g,w[0]?w[v++]=T[E]||0:(w=[T[E]],v=1)}while((E++<x||null!=w[0])&&S--);p=null!=w[0],m[0]||m.splice(0,1)}if(a==l){for(h=1,S=m[0];S>=10;S/=10,h++);q(y,i+(y.e=h+14*f-1)+1,o,p)}else y.e=f,y.r=+p;return y}}(),v=/^(-?)0([xbo])(?=\w[\w.]*$)/i,_=/^([^.]+)\.$/,E=/^\.([^.]+)$/,x=/^-?(Infinity|NaN)$/,A=/^\s*\+(?=[\w.])|^\s+|\s+$/g,s=function(e,t,n,r){var s,i=n?t:t.replace(A,"");if(x.test(i))e.s=isNaN(i)?null:i<0?-1:1;else{if(!n&&(i=i.replace(v,(function(e,t,n){return s="x"==(n=n.toLowerCase())?16:"b"==n?2:8,r&&r!=s?e:t})),r&&(s=r,i=i.replace(_,"$1").replace(E,"0.$1")),t!=i))return new j(i,s);if(j.DEBUG)throw Error(u+"Not a"+(r?" base "+r:"")+" number: "+t);e.s=null}e.c=e.e=null},B.absoluteValue=B.abs=function(){var e=new j(this);return e.s<0&&(e.s=1),e},B.comparedTo=function(e,t){return b(this,new j(e,t))},B.decimalPlaces=B.dp=function(e,t){var n,r,s,i=this;if(null!=e)return k(e,0,p),null==t?t=T:k(t,0,8),q(new j(i),e+i.e+1,t);if(!(n=i.c))return null;if(r=14*((s=n.length-1)-d(this.e/14)),s=n[s])for(;s%10==0;s/=10,r--);return r<0&&(r=0),r},B.dividedBy=B.div=function(e,t){return n(this,new j(e,t),S,T)},B.dividedToIntegerBy=B.idiv=function(e,t){return n(this,new j(e,t),0,1)},B.exponentiatedBy=B.pow=function(e,t){var n,r,s,i,o,f,l,h,p=this;if((e=new j(e)).c&&!e.isInteger())throw Error(u+"Exponent not an integer: "+W(e));if(null!=t&&(t=new j(t)),o=e.e>14,!p.c||!p.c[0]||1==p.c[0]&&!p.e&&1==p.c.length||!e.c||!e.c[0])return h=new j(Math.pow(+W(p),o?2-y(e):+W(e))),t?h.mod(t):h;if(f=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new j(NaN);(r=!f&&p.isInteger()&&t.isInteger())&&(p=p.mod(t))}else{if(e.e>9&&(p.e>0||p.e<-1||(0==p.e?p.c[0]>1||o&&p.c[1]>=24e7:p.c[0]<8e13||o&&p.c[0]<=9999975e7)))return i=p.s<0&&y(e)?-0:0,p.e>-1&&(i=1/i),new j(f?1/i:i);R&&(i=a(R/14+2))}for(o?(n=new j(.5),f&&(e.s=1),l=y(e)):l=(s=Math.abs(+W(e)))%2,h=new j(C);;){if(l){if(!(h=h.times(p)).c)break;i?h.c.length>i&&(h.c.length=i):r&&(h=h.mod(t))}if(s){if(0===(s=c(s/2)))break;l=s%2}else if(q(e=e.times(n),e.e+1,1),e.e>14)l=y(e);else{if(0===(s=+W(e)))break;l=s%2}p=p.times(p),i?p.c&&p.c.length>i&&(p.c.length=i):r&&(p=p.mod(t))}return r?h:(f&&(h=C.div(h)),t?h.mod(t):i?q(h,R,T,void 0):h)},B.integerValue=function(e){var t=new j(this);return null==e?e=T:k(e,0,8),q(t,t.e+1,e)},B.isEqualTo=B.eq=function(e,t){return 0===b(this,new j(e,t))},B.isFinite=function(){return!!this.c},B.isGreaterThan=B.gt=function(e,t){return b(this,new j(e,t))>0},B.isGreaterThanOrEqualTo=B.gte=function(e,t){return 1===(t=b(this,new j(e,t)))||0===t},B.isInteger=function(){return!!this.c&&d(this.e/14)>this.c.length-2},B.isLessThan=B.lt=function(e,t){return b(this,new j(e,t))<0},B.isLessThanOrEqualTo=B.lte=function(e,t){return-1===(t=b(this,new j(e,t)))||0===t},B.isNaN=function(){return!this.s},B.isNegative=function(){return this.s<0},B.isPositive=function(){return this.s>0},B.isZero=function(){return!!this.c&&0==this.c[0]},B.minus=function(e,t){var n,r,s,i,o=this,a=o.s;if(t=(e=new j(e,t)).s,!a||!t)return new j(NaN);if(a!=t)return e.s=-t,o.plus(e);var c=o.e/14,u=e.e/14,f=o.c,h=e.c;if(!c||!u){if(!f||!h)return f?(e.s=-t,e):new j(h?o:NaN);if(!f[0]||!h[0])return h[0]?(e.s=-t,e):new j(f[0]?o:3==T?-0:0)}if(c=d(c),u=d(u),f=f.slice(),a=c-u){for((i=a<0)?(a=-a,s=f):(u=c,s=h),s.reverse(),t=a;t--;s.push(0));s.reverse()}else for(r=(i=(a=f.length)<(t=h.length))?a:t,a=t=0;t<r;t++)if(f[t]!=h[t]){i=f[t]<h[t];break}if(i&&(s=f,f=h,h=s,e.s=-e.s),(t=(r=h.length)-(n=f.length))>0)for(;t--;f[n++]=0);for(t=l-1;r>a;){if(f[--r]<h[r]){for(n=r;n&&!f[--n];f[n]=t);--f[n],f[r]+=l}f[r]-=h[r]}for(;0==f[0];f.splice(0,1),--u);return f[0]?H(e,f,u):(e.s=3==T?-1:1,e.c=[e.e=0],e)},B.modulo=B.mod=function(e,t){var r,s,i=this;return e=new j(e,t),!i.c||!e.s||e.c&&!e.c[0]?new j(NaN):!e.c||i.c&&!i.c[0]?new j(i):(9==D?(s=e.s,e.s=1,r=n(i,e,0,3),e.s=s,r.s*=s):r=n(i,e,0,D),(e=i.minus(r.times(e))).c[0]||1!=D||(e.s=i.s),e)},B.multipliedBy=B.times=function(e,t){var n,r,s,i,o,a,c,u,f,h,p,g,b,k,y=this,m=y.c,w=(e=new j(e,t)).c;if(!(m&&w&&m[0]&&w[0]))return!y.s||!e.s||m&&!m[0]&&!w||w&&!w[0]&&!m?e.c=e.e=e.s=null:(e.s*=y.s,m&&w?(e.c=[0],e.e=0):e.c=e.e=null),e;for(r=d(y.e/14)+d(e.e/14),e.s*=y.s,(c=m.length)<(h=w.length)&&(b=m,m=w,w=b,s=c,c=h,h=s),s=c+h,b=[];s--;b.push(0));for(k=l,1e7,s=h;--s>=0;){for(n=0,p=w[s]%1e7,g=w[s]/1e7|0,i=s+(o=c);i>s;)n=((u=p*(u=m[--o]%1e7)+(a=g*u+(f=m[o]/1e7|0)*p)%1e7*1e7+b[i]+n)/k|0)+(a/1e7|0)+g*f,b[i--]=u%k;b[i]=n}return n?++r:b.splice(0,1),H(e,b,r)},B.negated=function(){var e=new j(this);return e.s=-e.s||null,e},B.plus=function(e,t){var n,r=this,s=r.s;if(t=(e=new j(e,t)).s,!s||!t)return new j(NaN);if(s!=t)return e.s=-t,r.minus(e);var i=r.e/14,o=e.e/14,a=r.c,c=e.c;if(!i||!o){if(!a||!c)return new j(s/0);if(!a[0]||!c[0])return c[0]?e:new j(a[0]?r:0*s)}if(i=d(i),o=d(o),a=a.slice(),s=i-o){for(s>0?(o=i,n=c):(s=-s,n=a),n.reverse();s--;n.push(0));n.reverse()}for((s=a.length)-(t=c.length)<0&&(n=c,c=a,a=n,t=s),s=0;t;)s=(a[--t]=a[t]+c[t]+s)/l|0,a[t]=l===a[t]?0:a[t]%l;return s&&(a=[s].concat(a),++o),H(e,a,o)},B.precision=B.sd=function(e,t){var n,r,s,i=this;if(null!=e&&e!==!!e)return k(e,1,p),null==t?t=T:k(t,0,8),q(new j(i),e,t);if(!(n=i.c))return null;if(r=14*(s=n.length-1)+1,s=n[s]){for(;s%10==0;s/=10,r--);for(s=n[0];s>=10;s/=10,r++);}return e&&i.e+1>r&&(r=i.e+1),r},B.shiftedBy=function(e){return k(e,-9007199254740991,9007199254740991),this.times("1e"+e)},B.squareRoot=B.sqrt=function(){var e,t,r,s,i,o=this,a=o.c,c=o.s,u=o.e,f=S+4,l=new j("0.5");if(1!==c||!a||!a[0])return new j(!c||c<0&&(!a||a[0])?NaN:a?o:1/0);if(0==(c=Math.sqrt(+W(o)))||c==1/0?(((t=g(a)).length+u)%2==0&&(t+="0"),c=Math.sqrt(+t),u=d((u+1)/2)-(u<0||u%2),r=new j(t=c==1/0?"5e"+u:(t=c.toExponential()).slice(0,t.indexOf("e")+1)+u)):r=new j(c+""),r.c[0])for((c=(u=r.e)+f)<3&&(c=0);;)if(i=r,r=l.times(i.plus(n(o,i,f,1))),g(i.c).slice(0,c)===(t=g(r.c)).slice(0,c)){if(r.e<u&&--c,"9999"!=(t=t.slice(c-3,c+1))&&(s||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(q(r,r.e+S+2,1),e=!r.times(r).eq(o));break}if(!s&&(q(i,i.e+S+2,0),i.times(i).eq(o))){r=i;break}f+=4,c+=4,s=1}return q(r,r.e+S+1,T,e)},B.toExponential=function(e,t){return null!=e&&(k(e,0,p),e++),F(this,e,t,1)},B.toFixed=function(e,t){return null!=e&&(k(e,0,p),e=e+this.e+1),F(this,e,t)},B.toFormat=function(e,t,n){var r,s=this;if(null==n)null!=e&&t&&"object"==typeof t?(n=t,t=null):e&&"object"==typeof e?(n=e,e=t=null):n=M;else if("object"!=typeof n)throw Error(u+"Argument not an object: "+n);if(r=s.toFixed(e,t),s.c){var i,o=r.split("."),a=+n.groupSize,c=+n.secondaryGroupSize,f=n.groupSeparator||"",l=o[0],h=o[1],p=s.s<0,d=p?l.slice(1):l,g=d.length;if(c&&(i=a,a=c,c=i,g-=i),a>0&&g>0){for(i=g%a||a,l=d.substr(0,i);i<g;i+=a)l+=f+d.substr(i,a);c>0&&(l+=f+d.slice(i)),p&&(l="-"+l)}r=h?l+(n.decimalSeparator||"")+((c=+n.fractionGroupSize)?h.replace(new RegExp("\\d{"+c+"}\\B","g"),"$&"+(n.fractionGroupSeparator||"")):h):l}return(n.prefix||"")+r+(n.suffix||"")},B.toFraction=function(e){var t,r,s,i,o,a,c,f,l,p,d,b,k=this,y=k.c;if(null!=e&&(!(c=new j(e)).isInteger()&&(c.c||1!==c.s)||c.lt(C)))throw Error(u+"Argument "+(c.isInteger()?"out of range: ":"not an integer: ")+W(c));if(!y)return new j(k);for(t=new j(C),l=r=new j(C),s=f=new j(C),b=g(y),o=t.e=b.length-k.e-1,t.c[0]=h[(a=o%14)<0?14+a:a],e=!e||c.comparedTo(t)>0?o>0?t:l:c,a=L,L=1/0,c=new j(b),f.c[0]=0;p=n(c,t,0,1),1!=(i=r.plus(p.times(s))).comparedTo(e);)r=s,s=i,l=f.plus(p.times(i=l)),f=i,t=c.minus(p.times(i=t)),c=i;return i=n(e.minus(r),s,0,1),f=f.plus(i.times(l)),r=r.plus(i.times(s)),f.s=l.s=k.s,d=n(l,s,o*=2,T).minus(k).abs().comparedTo(n(f,r,o,T).minus(k).abs())<1?[l,s]:[f,r],L=a,d},B.toNumber=function(){return+W(this)},B.toPrecision=function(e,t){return null!=e&&k(e,1,p),F(this,e,t,2)},B.toString=function(e){var t,n=this,s=n.s,i=n.e;return null===i?s?(t="Infinity",s<0&&(t="-"+t)):t="NaN":(null==e?t=i<=O||i>=P?m(g(n.c),i):w(g(n.c),i,"0"):10===e?t=w(g((n=q(new j(n),S+i+1,T)).c),n.e,"0"):(k(e,2,N.length,"Base"),t=r(w(g(n.c),i,"0"),10,e,s,!0)),s<0&&n.c[0]&&(t="-"+t)),t},B.valueOf=B.toJSON=function(){return W(this)},B._isBigNumber=!0,null!=t&&j.set(t),j}()).default=i.BigNumber=i,void 0===(r=function(){return i}.call(t,n,t,e))||(e.exports=r)}()},function(e,t,n){"use strict";const r=Math.exp;e.exports=function(e){if("number"!=typeof e)throw new Error("must provide a timespan to the moving average constructor");if(e<=0)throw new Error("must provide a timespan > 0 to the moving average constructor");let t,n,s=0,i=0,o=0,a={};return a.push=function(a,c){if(n){const u=1-r(-(a-n)/e),f=c-t;t=u*c+(1-u)*t,s=(1-u)*(s+f*(u*f)),i=Math.sqrt(s),o=t+u*f}else t=c;n=a},a.movingAverage=function(){return t},a.variance=function(){return s},a.deviation=function(){return i},a.forecast=function(){return o},a}},function(e,t,n){"use strict";const r=n(122);function s(e){const t=new r;function n(){t.abort();for(const t of e)t&&t.removeEventListener&&t.removeEventListener("abort",n)}for(const r of e)if(r&&r.addEventListener){if(r.aborted){n();break}r.addEventListener("abort",n)}return t.signal}e.exports=s,e.exports.anySignal=s},function(e,t,n){"use strict";const r=n(123)();r.AbortController&&r.AbortSignal?(e.exports=class extends r.AbortController{},e.exports.AbortSignal=r.AbortSignal,e.exports.default=e.exports):e.exports=n(30)},function(e,t,n){"use strict";var r=n(31),s=n(33),i=n(34),o=n(126),a=i(),c=function(){return a};r(c,{getPolyfill:i,implementation:s,shim:o}),e.exports=c},function(e,t,n){"use strict";var r=Array.prototype.slice,s=n(32),i=Object.keys,o=i?function(e){return i(e)}:n(125),a=Object.keys;o.shim=function(){Object.keys?function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2)||(Object.keys=function(e){return s(e)?a(r.call(e)):a(e)}):Object.keys=o;return Object.keys||o},e.exports=o},function(e,t,n){"use strict";var r;if(!Object.keys){var s=Object.prototype.hasOwnProperty,i=Object.prototype.toString,o=n(32),a=Object.prototype.propertyIsEnumerable,c=!a.call({toString:null},"toString"),u=a.call((function(){}),"prototype"),f=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],l=function(e){var t=e.constructor;return t&&t.prototype===e},h={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!h["$"+e]&&s.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{l(window[e])}catch(t){return!0}}catch(t){return!0}return!1}();r=function(e){var t=null!==e&&"object"==typeof e,n="[object Function]"===i.call(e),r=o(e),a=t&&"[object String]"===i.call(e),h=[];if(!t&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var d=u&&n;if(a&&e.length>0&&!s.call(e,0))for(var g=0;g<e.length;++g)h.push(String(g));if(r&&e.length>0)for(var b=0;b<e.length;++b)h.push(String(b));else for(var k in e)d&&"prototype"===k||!s.call(e,k)||h.push(String(k));if(c)for(var y=function(e){if("undefined"==typeof window||!p)return l(e);try{return l(e)}catch(t){return!1}}(e),m=0;m<f.length;++m)y&&"constructor"===f[m]||!s.call(e,f[m])||h.push(f[m]);return h}}e.exports=r},function(e,t,n){"use strict";var r=n(31),s=n(34);e.exports=function(){var e=s();if(r.supportsDescriptors){var t=Object.getOwnPropertyDescriptor(e,"globalThis");(!t||t.configurable&&(t.enumerable||t.writable||globalThis!==e))&&Object.defineProperty(e,"globalThis",{configurable:!0,enumerable:!1,value:e,writable:!1})}else"object"==typeof globalThis&&globalThis===e||(e.globalThis=e);return e}}])}));